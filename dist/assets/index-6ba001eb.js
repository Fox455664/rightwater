function tD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sb={exports:{}},jh={},ib={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),nD=Symbol.for("react.portal"),rD=Symbol.for("react.fragment"),sD=Symbol.for("react.strict_mode"),iD=Symbol.for("react.profiler"),oD=Symbol.for("react.provider"),aD=Symbol.for("react.context"),lD=Symbol.for("react.forward_ref"),cD=Symbol.for("react.suspense"),uD=Symbol.for("react.memo"),dD=Symbol.for("react.lazy"),ww=Symbol.iterator;function hD(t){return t===null||typeof t!="object"?null:(t=ww&&t[ww]||t["@@iterator"],typeof t=="function"?t:null)}var ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ab=Object.assign,lb={};function ua(t,e,n){this.props=t,this.context=e,this.refs=lb,this.updater=n||ob}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cb(){}cb.prototype=ua.prototype;function yy(t,e,n){this.props=t,this.context=e,this.refs=lb,this.updater=n||ob}var vy=yy.prototype=new cb;vy.constructor=yy;ab(vy,ua.prototype);vy.isPureReactComponent=!0;var _w=Array.isArray,ub=Object.prototype.hasOwnProperty,xy={current:null},db={key:!0,ref:!0,__self:!0,__source:!0};function hb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ub.call(e,r)&&!db.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xc,type:t,key:i,ref:o,props:s,_owner:xy.current}}function fD(t,e){return{$$typeof:xc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===xc}function pD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ew=/\/+/g;function ip(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pD(""+t.key):e.toString(36)}function Xu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xc:case nD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ip(o,0):r,_w(s)?(n="",t!=null&&(n=t.replace(Ew,"$&/")+"/"),Xu(s,e,n,"",function(c){return c})):s!=null&&(wy(s)&&(s=fD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ew,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_w(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ip(i,a);o+=Xu(i,e,n,l,s)}else if(l=hD(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ip(i,a++),o+=Xu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(t,e,n){if(t==null)return t;var r=[],s=0;return Xu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function mD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Ju={transition:null},gD={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Ju,ReactCurrentOwner:xy};function fb(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ua;me.Fragment=rD;me.Profiler=iD;me.PureComponent=yy;me.StrictMode=sD;me.Suspense=cD;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;me.act=fb;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ab({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ub.call(e,l)&&!db.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xc,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:aD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oD,_context:t},t.Consumer=t};me.createElement=hb;me.createFactory=function(t){var e=hb.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:lD,render:t}};me.isValidElement=wy;me.lazy=function(t){return{$$typeof:dD,_payload:{_status:-1,_result:t},_init:mD}};me.memo=function(t,e){return{$$typeof:uD,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Ju.transition;Ju.transition={};try{t()}finally{Ju.transition=e}};me.unstable_act=fb;me.useCallback=function(t,e){return en.current.useCallback(t,e)};me.useContext=function(t){return en.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return en.current.useDeferredValue(t)};me.useEffect=function(t,e){return en.current.useEffect(t,e)};me.useId=function(){return en.current.useId()};me.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return en.current.useMemo(t,e)};me.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};me.useRef=function(t){return en.current.useRef(t)};me.useState=function(t){return en.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return en.current.useTransition()};me.version="18.3.1";ib.exports=me;var m=ib.exports;const Z=rb(m),Oh=tD({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD=m,vD=Symbol.for("react.element"),xD=Symbol.for("react.fragment"),wD=Object.prototype.hasOwnProperty,_D=yD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ED={key:!0,ref:!0,__self:!0,__source:!0};function pb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wD.call(e,r)&&!ED.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vD,type:t,key:i,ref:o,props:s,_owner:_D.current}}jh.Fragment=xD;jh.jsx=pb;jh.jsxs=pb;sb.exports=jh;var d=sb.exports,xm={},mb={exports:{}},En={},gb={exports:{}},yb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var G=V.length;V.push(z);e:for(;0<G;){var Y=G-1>>>1,le=V[Y];if(0<s(le,z))V[Y]=z,V[G]=le,G=Y;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],G=V.pop();if(G!==z){V[0]=G;e:for(var Y=0,le=V.length,ie=le>>>1;Y<ie;){var Be=2*(Y+1)-1,Xe=V[Be],ke=Be+1,te=V[ke];if(0>s(Xe,G))ke<le&&0>s(te,Xe)?(V[Y]=te,V[ke]=G,Y=ke):(V[Y]=Xe,V[Be]=G,Y=Be);else if(ke<le&&0>s(te,G))V[Y]=te,V[ke]=G,Y=ke;else break e}}return z}function s(V,z){var G=V.sortIndex-z.sortIndex;return G!==0?G:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,g=!1,E=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=V)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function C(V){if(v=!1,T(V),!E)if(n(l)!==null)E=!0,W(A);else{var z=n(c);z!==null&&K(C,z.startTime-V)}}function A(V,z){E=!1,v&&(v=!1,w(S),S=-1),g=!0;var G=p;try{for(T(z),f=n(l);f!==null&&(!(f.expirationTime>z)||V&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var le=Y(f.expirationTime<=z);z=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(l)&&r(l),T(z)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Be=n(c);Be!==null&&K(C,Be.startTime-z),ie=!1}return ie}finally{f=null,p=G,g=!1}}var O=!1,I=null,S=-1,P=5,k=-1;function D(){return!(t.unstable_now()-k<P)}function j(){if(I!==null){var V=t.unstable_now();k=V;var z=!0;try{z=I(!0,V)}finally{z?N():(O=!1,I=null)}}else O=!1}var N;if(typeof x=="function")N=function(){x(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=j,N=function(){B.postMessage(null)}}else N=function(){_(j,0)};function W(V){I=V,O||(O=!0,N())}function K(V,z){S=_(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,W(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var G=p;p=z;try{return V()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=p;p=V;try{return z()}finally{p=G}},t.unstable_scheduleCallback=function(V,z,G){var Y=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=G+le,V={id:h++,callback:z,priorityLevel:V,startTime:G,expirationTime:le,sortIndex:-1},G>Y?(V.sortIndex=G,e(c,V),n(l)===null&&V===n(c)&&(v?(w(S),S=-1):v=!0,K(C,G-Y))):(V.sortIndex=le,e(l,V),E||g||(E=!0,W(A))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var z=p;return function(){var G=p;p=z;try{return V.apply(this,arguments)}finally{p=G}}}})(yb);gb.exports=yb;var TD=gb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD=m,wn=TD;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vb=new Set,Ol={};function zi(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(Ol[t]=e,t=0;t<e.length;t++)vb.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wm=Object.prototype.hasOwnProperty,SD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tw={},bw={};function CD(t){return wm.call(bw,t)?!0:wm.call(Tw,t)?!1:SD.test(t)?bw[t]=!0:(Tw[t]=!0,!1)}function ID(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PD(t,e,n,r){if(e===null||typeof e>"u"||ID(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _y=/[\-:]([a-z])/g;function Ey(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_y,Ey);Rt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_y,Ey);Rt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_y,Ey);Rt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ty(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PD(e,n,s,r)&&(n=null),r||s===null?CD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=bD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),yo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),xb=Symbol.for("react.provider"),wb=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),Cy=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),_b=Symbol.for("react.offscreen"),Sw=Symbol.iterator;function Fa(t){return t===null||typeof t!="object"?null:(t=Sw&&t[Sw]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,op;function Za(t){if(op===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);op=e&&e[1]||""}return`
`+op+t}var ap=!1;function lp(t,e){if(!t||ap)return"";ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Za(t):""}function RD(t){switch(t.tag){case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 2:case 15:return t=lp(t.type,!1),t;case 11:return t=lp(t.type.render,!1),t;case 1:return t=lp(t.type,!0),t;default:return""}}function bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case yo:return"Portal";case _m:return"Profiler";case by:return"StrictMode";case Em:return"Suspense";case Tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wb:return(t.displayName||"Context")+".Consumer";case xb:return(t._context.displayName||"Context")+".Provider";case Sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cy:return e=t.displayName||null,e!==null?e:bm(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return bm(t(e))}catch{}}return null}function AD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===by?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kD(t){var e=Eb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hu(t){t._valueTracker||(t._valueTracker=kD(t))}function Tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Eb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sm(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bb(t,e){e=e.checked,e!=null&&Ty(t,"checked",e,!1)}function Cm(t,e){bb(t,e);var n=$s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,n):e.hasOwnProperty("defaultValue")&&Im(t,e.type,$s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Im(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function jo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(el(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$s(n)}}function Sb(t,e){var n=$s(e.value),r=$s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fu,Ib=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ND=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){ND.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function Pb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function Rb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Pb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var DD=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Am(t,e){if(e){if(DD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function km(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function Iy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dm=null,Oo=null,Mo=null;function Aw(t){if(t=Ec(t)){if(typeof Dm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=$h(e),Dm(t.stateNode,t.type,e))}}function Ab(t){Oo?Mo?Mo.push(t):Mo=[t]:Oo=t}function kb(){if(Oo){var t=Oo,e=Mo;if(Mo=Oo=null,Aw(t),e)for(t=0;t<e.length;t++)Aw(e[t])}}function Nb(t,e){return t(e)}function Db(){}var cp=!1;function jb(t,e,n){if(cp)return t(e,n);cp=!0;try{return Nb(t,e,n)}finally{cp=!1,(Oo!==null||Mo!==null)&&(Db(),kb())}}function Vl(t,e){var n=t.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var jm=!1;if($r)try{var $a={};Object.defineProperty($a,"passive",{get:function(){jm=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{jm=!1}function jD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ul=!1,Sd=null,Cd=!1,Om=null,OD={onError:function(t){ul=!0,Sd=t}};function MD(t,e,n,r,s,i,o,a,l){ul=!1,Sd=null,jD.apply(OD,arguments)}function VD(t,e,n,r,s,i,o,a,l){if(MD.apply(this,arguments),ul){if(ul){var c=Sd;ul=!1,Sd=null}else throw Error(H(198));Cd||(Cd=!0,Om=c)}}function Wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ob(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kw(t){if(Wi(t)!==t)throw Error(H(188))}function LD(t){var e=t.alternate;if(!e){if(e=Wi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kw(s),t;if(i===r)return kw(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Mb(t){return t=LD(t),t!==null?Vb(t):null}function Vb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vb(t);if(e!==null)return e;t=t.sibling}return null}var Lb=wn.unstable_scheduleCallback,Nw=wn.unstable_cancelCallback,FD=wn.unstable_shouldYield,$D=wn.unstable_requestPaint,rt=wn.unstable_now,UD=wn.unstable_getCurrentPriorityLevel,Py=wn.unstable_ImmediatePriority,Fb=wn.unstable_UserBlockingPriority,Id=wn.unstable_NormalPriority,BD=wn.unstable_LowPriority,$b=wn.unstable_IdlePriority,Mh=null,rr=null;function zD(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Mh,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:qD,WD=Math.log,HD=Math.LN2;function qD(t){return t>>>=0,t===0?32:31-(WD(t)/HD|0)|0}var pu=64,mu=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=tl(a):(i&=o,i!==0&&(r=tl(i)))}else o=n&~s,o!==0?r=tl(o):i!==0&&(r=tl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),s=1<<n,r|=t[n],e&=~s;return r}function GD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=GD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Mm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ub(){var t=pu;return pu<<=1,!(pu&4194240)&&(pu=64),t}function up(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function QD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ry(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function Bb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zb,Ay,Wb,Hb,qb,Vm=!1,gu=[],bs=null,Ss=null,Cs=null,Ll=new Map,Fl=new Map,ys=[],YD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dw(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Ua(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ec(e),e!==null&&Ay(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function XD(t,e,n,r,s){switch(e){case"focusin":return bs=Ua(bs,t,e,n,r,s),!0;case"dragenter":return Ss=Ua(Ss,t,e,n,r,s),!0;case"mouseover":return Cs=Ua(Cs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ll.set(i,Ua(Ll.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fl.set(i,Ua(Fl.get(i)||null,t,e,n,r,s)),!0}return!1}function Gb(t){var e=gi(t.target);if(e!==null){var n=Wi(e);if(n!==null){if(e=n.tag,e===13){if(e=Ob(n),e!==null){t.blockedOn=e,qb(t.priority,function(){Wb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nm=r,n.target.dispatchEvent(r),Nm=null}else return e=Ec(n),e!==null&&Ay(e),t.blockedOn=n,!1;e.shift()}return!0}function jw(t,e,n){Zu(t)&&n.delete(e)}function JD(){Vm=!1,bs!==null&&Zu(bs)&&(bs=null),Ss!==null&&Zu(Ss)&&(Ss=null),Cs!==null&&Zu(Cs)&&(Cs=null),Ll.forEach(jw),Fl.forEach(jw)}function Ba(t,e){t.blockedOn===e&&(t.blockedOn=null,Vm||(Vm=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,JD)))}function $l(t){function e(s){return Ba(s,t)}if(0<gu.length){Ba(gu[0],t);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&Ba(bs,t),Ss!==null&&Ba(Ss,t),Cs!==null&&Ba(Cs,t),Ll.forEach(e),Fl.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)Gb(n),n.blockedOn===null&&ys.shift()}var Vo=Zr.ReactCurrentBatchConfig,Rd=!0;function ZD(t,e,n,r){var s=Ae,i=Vo.transition;Vo.transition=null;try{Ae=1,ky(t,e,n,r)}finally{Ae=s,Vo.transition=i}}function ej(t,e,n,r){var s=Ae,i=Vo.transition;Vo.transition=null;try{Ae=4,ky(t,e,n,r)}finally{Ae=s,Vo.transition=i}}function ky(t,e,n,r){if(Rd){var s=Lm(t,e,n,r);if(s===null)wp(t,e,r,Ad,n),Dw(t,r);else if(XD(s,t,e,n,r))r.stopPropagation();else if(Dw(t,r),e&4&&-1<YD.indexOf(t)){for(;s!==null;){var i=Ec(s);if(i!==null&&zb(i),i=Lm(t,e,n,r),i===null&&wp(t,e,r,Ad,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else wp(t,e,r,null,n)}}var Ad=null;function Lm(t,e,n,r){if(Ad=null,t=Iy(r),t=gi(t),t!==null)if(e=Wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ob(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ad=t,null}function Kb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UD()){case Py:return 1;case Fb:return 4;case Id:case BD:return 16;case $b:return 536870912;default:return 16}default:return 16}}var ws=null,Ny=null,ed=null;function Qb(){if(ed)return ed;var t,e=Ny,n=e.length,r,s="value"in ws?ws.value:ws.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ed=s.slice(t,1<r?1-r:void 0)}function td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yu(){return!0}function Ow(){return!1}function Tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yu:Ow,this.isPropagationStopped=Ow,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),e}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=Tn(da),_c=Qe({},da,{view:0,detail:0}),tj=Tn(_c),dp,hp,za,Vh=Qe({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(dp=t.screenX-za.screenX,hp=t.screenY-za.screenY):hp=dp=0,za=t),dp)},movementY:function(t){return"movementY"in t?t.movementY:hp}}),Mw=Tn(Vh),nj=Qe({},Vh,{dataTransfer:0}),rj=Tn(nj),sj=Qe({},_c,{relatedTarget:0}),fp=Tn(sj),ij=Qe({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),oj=Tn(ij),aj=Qe({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lj=Tn(aj),cj=Qe({},da,{data:0}),Vw=Tn(cj),uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hj[t])?!!e[t]:!1}function jy(){return fj}var pj=Qe({},_c,{key:function(t){if(t.key){var e=uj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jy,charCode:function(t){return t.type==="keypress"?td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mj=Tn(pj),gj=Qe({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lw=Tn(gj),yj=Qe({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jy}),vj=Tn(yj),xj=Qe({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),wj=Tn(xj),_j=Qe({},Vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ej=Tn(_j),Tj=[9,13,27,32],Oy=$r&&"CompositionEvent"in window,dl=null;$r&&"documentMode"in document&&(dl=document.documentMode);var bj=$r&&"TextEvent"in window&&!dl,Yb=$r&&(!Oy||dl&&8<dl&&11>=dl),Fw=String.fromCharCode(32),$w=!1;function Xb(t,e){switch(t){case"keyup":return Tj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function Sj(t,e){switch(t){case"compositionend":return Jb(e);case"keypress":return e.which!==32?null:($w=!0,Fw);case"textInput":return t=e.data,t===Fw&&$w?null:t;default:return null}}function Cj(t,e){if(xo)return t==="compositionend"||!Oy&&Xb(t,e)?(t=Qb(),ed=Ny=ws=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yb&&e.locale!=="ko"?null:e.data;default:return null}}var Ij={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ij[t.type]:e==="textarea"}function Zb(t,e,n,r){Ab(r),e=kd(e,"onChange"),0<e.length&&(n=new Dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Ul=null;function Pj(t){uS(t,0)}function Lh(t){var e=Eo(t);if(Tb(e))return t}function Rj(t,e){if(t==="change")return e}var eS=!1;if($r){var pp;if($r){var mp="oninput"in document;if(!mp){var Bw=document.createElement("div");Bw.setAttribute("oninput","return;"),mp=typeof Bw.oninput=="function"}pp=mp}else pp=!1;eS=pp&&(!document.documentMode||9<document.documentMode)}function zw(){hl&&(hl.detachEvent("onpropertychange",tS),Ul=hl=null)}function tS(t){if(t.propertyName==="value"&&Lh(Ul)){var e=[];Zb(e,Ul,t,Iy(t)),jb(Pj,e)}}function Aj(t,e,n){t==="focusin"?(zw(),hl=e,Ul=n,hl.attachEvent("onpropertychange",tS)):t==="focusout"&&zw()}function kj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lh(Ul)}function Nj(t,e){if(t==="click")return Lh(e)}function Dj(t,e){if(t==="input"||t==="change")return Lh(e)}function jj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:jj;function Bl(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wm.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function Ww(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hw(t,e){var n=Ww(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ww(n)}}function nS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rS(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Oj(t){var e=rS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nS(n.ownerDocument.documentElement,n)){if(r!==null&&My(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hw(n,i);var o=Hw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mj=$r&&"documentMode"in document&&11>=document.documentMode,wo=null,Fm=null,fl=null,$m=!1;function qw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$m||wo==null||wo!==bd(r)||(r=wo,"selectionStart"in r&&My(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Bl(fl,r)||(fl=r,r=kd(Fm,"onSelect"),0<r.length&&(e=new Dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},gp={},sS={};$r&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Fh(t){if(gp[t])return gp[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sS)return gp[t]=e[n];return t}var iS=Fh("animationend"),oS=Fh("animationiteration"),aS=Fh("animationstart"),lS=Fh("transitionend"),cS=new Map,Gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){cS.set(t,e),zi(e,[t])}for(var yp=0;yp<Gw.length;yp++){var vp=Gw[yp],Vj=vp.toLowerCase(),Lj=vp[0].toUpperCase()+vp.slice(1);Ys(Vj,"on"+Lj)}Ys(iS,"onAnimationEnd");Ys(oS,"onAnimationIteration");Ys(aS,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(lS,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function Kw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VD(r,e,void 0,t),t.currentTarget=null}function uS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kw(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kw(s,a,c),i=l}}}if(Cd)throw t=Om,Cd=!1,Om=null,t}function Fe(t,e){var n=e[Hm];n===void 0&&(n=e[Hm]=new Set);var r=t+"__bubble";n.has(r)||(dS(e,t,2,!1),n.add(r))}function xp(t,e,n){var r=0;e&&(r|=4),dS(n,t,r,e)}var xu="_reactListening"+Math.random().toString(36).slice(2);function zl(t){if(!t[xu]){t[xu]=!0,vb.forEach(function(n){n!=="selectionchange"&&(Fj.has(n)||xp(n,!1,t),xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xu]||(e[xu]=!0,xp("selectionchange",!1,e))}}function dS(t,e,n,r){switch(Kb(e)){case 1:var s=ZD;break;case 4:s=ej;break;default:s=ky}n=s.bind(null,e,n,t),s=void 0,!jm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function wp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=gi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}jb(function(){var c=i,h=Iy(n),f=[];e:{var p=cS.get(t);if(p!==void 0){var g=Dy,E=t;switch(t){case"keypress":if(td(n)===0)break e;case"keydown":case"keyup":g=mj;break;case"focusin":E="focus",g=fp;break;case"focusout":E="blur",g=fp;break;case"beforeblur":case"afterblur":g=fp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vj;break;case iS:case oS:case aS:g=oj;break;case lS:g=wj;break;case"scroll":g=tj;break;case"wheel":g=Ej;break;case"copy":case"cut":case"paste":g=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Lw}var v=(e&4)!==0,_=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var x=c,T;x!==null;){T=x;var C=T.stateNode;if(T.tag===5&&C!==null&&(T=C,w!==null&&(C=Vl(x,w),C!=null&&v.push(Wl(x,C,T)))),_)break;x=x.return}0<v.length&&(p=new g(p,E,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Nm&&(E=n.relatedTarget||n.fromElement)&&(gi(E)||E[Ur]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?gi(E):null,E!==null&&(_=Wi(E),E!==_||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(v=Mw,C="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=Lw,C="onPointerLeave",w="onPointerEnter",x="pointer"),_=g==null?p:Eo(g),T=E==null?p:Eo(E),p=new v(C,x+"leave",g,n,h),p.target=_,p.relatedTarget=T,C=null,gi(h)===c&&(v=new v(w,x+"enter",E,n,h),v.target=T,v.relatedTarget=_,C=v),_=C,g&&E)t:{for(v=g,w=E,x=0,T=v;T;T=ao(T))x++;for(T=0,C=w;C;C=ao(C))T++;for(;0<x-T;)v=ao(v),x--;for(;0<T-x;)w=ao(w),T--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=ao(v),w=ao(w)}v=null}else v=null;g!==null&&Qw(f,p,g,v,!1),E!==null&&_!==null&&Qw(f,_,E,v,!0)}}e:{if(p=c?Eo(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=Rj;else if(Uw(p))if(eS)A=Dj;else{A=kj;var O=Aj}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=Nj);if(A&&(A=A(t,c))){Zb(f,A,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Im(p,"number",p.value)}switch(O=c?Eo(c):window,t){case"focusin":(Uw(O)||O.contentEditable==="true")&&(wo=O,Fm=c,fl=null);break;case"focusout":fl=Fm=wo=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,qw(f,n,h);break;case"selectionchange":if(Mj)break;case"keydown":case"keyup":qw(f,n,h)}var I;if(Oy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xo?Xb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Yb&&n.locale!=="ko"&&(xo||S!=="onCompositionStart"?S==="onCompositionEnd"&&xo&&(I=Qb()):(ws=h,Ny="value"in ws?ws.value:ws.textContent,xo=!0)),O=kd(c,S),0<O.length&&(S=new Vw(S,t,null,n,h),f.push({event:S,listeners:O}),I?S.data=I:(I=Jb(n),I!==null&&(S.data=I)))),(I=bj?Sj(t,n):Cj(t,n))&&(c=kd(c,"onBeforeInput"),0<c.length&&(h=new Vw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=I))}uS(f,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vl(t,n),i!=null&&r.unshift(Wl(t,i,s)),i=Vl(t,e),i!=null&&r.push(Wl(t,i,s))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Vl(n,i),l!=null&&o.unshift(Wl(n,l,a))):s||(l=Vl(n,i),l!=null&&o.push(Wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $j=/\r\n?/g,Uj=/\u0000|\uFFFD/g;function Yw(t){return(typeof t=="string"?t:""+t).replace($j,`
`).replace(Uj,"")}function wu(t,e,n){if(e=Yw(e),Yw(t)!==e&&n)throw Error(H(425))}function Nd(){}var Um=null,Bm=null;function zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,Bj=typeof clearTimeout=="function"?clearTimeout:void 0,Xw=typeof Promise=="function"?Promise:void 0,zj=typeof queueMicrotask=="function"?queueMicrotask:typeof Xw<"u"?function(t){return Xw.resolve(null).then(t).catch(Wj)}:Wm;function Wj(t){setTimeout(function(){throw t})}function _p(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$l(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ha=Math.random().toString(36).slice(2),nr="__reactFiber$"+ha,Hl="__reactProps$"+ha,Ur="__reactContainer$"+ha,Hm="__reactEvents$"+ha,Hj="__reactListeners$"+ha,qj="__reactHandles$"+ha;function gi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jw(t);t!==null;){if(n=t[nr])return n;t=Jw(t)}return e}t=n,n=t.parentNode}return null}function Ec(t){return t=t[nr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function $h(t){return t[Hl]||null}var qm=[],To=-1;function Xs(t){return{current:t}}function $e(t){0>To||(t.current=qm[To],qm[To]=null,To--)}function Oe(t,e){To++,qm[To]=t.current,t.current=e}var Us={},Bt=Xs(Us),on=Xs(!1),Ci=Us;function Ko(t,e){var n=t.type.contextTypes;if(!n)return Us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function Dd(){$e(on),$e(Bt)}function Zw(t,e,n){if(Bt.current!==Us)throw Error(H(168));Oe(Bt,e),Oe(on,n)}function hS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,AD(t)||"Unknown",s));return Qe({},n,r)}function jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Us,Ci=Bt.current,Oe(Bt,t),Oe(on,on.current),!0}function e_(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=hS(t,e,Ci),r.__reactInternalMemoizedMergedChildContext=t,$e(on),$e(Bt),Oe(Bt,t)):$e(on),Oe(on,n)}var Tr=null,Uh=!1,Ep=!1;function fS(t){Tr===null?Tr=[t]:Tr.push(t)}function Gj(t){Uh=!0,fS(t)}function Js(){if(!Ep&&Tr!==null){Ep=!0;var t=0,e=Ae;try{var n=Tr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,Uh=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(t+1)),Lb(Py,Js),s}finally{Ae=e,Ep=!1}}return null}var bo=[],So=0,Od=null,Md=0,In=[],Pn=0,Ii=null,Pr=1,Rr="";function ui(t,e){bo[So++]=Md,bo[So++]=Od,Od=t,Md=e}function pS(t,e,n){In[Pn++]=Pr,In[Pn++]=Rr,In[Pn++]=Ii,Ii=t;var r=Pr;t=Rr;var s=32-Hn(r)-1;r&=~(1<<s),n+=1;var i=32-Hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pr=1<<32-Hn(e)+s|n<<s|r,Rr=i+t}else Pr=1<<i|n<<s|r,Rr=t}function Vy(t){t.return!==null&&(ui(t,1),pS(t,1,0))}function Ly(t){for(;t===Od;)Od=bo[--So],bo[So]=null,Md=bo[--So],bo[So]=null;for(;t===Ii;)Ii=In[--Pn],In[Pn]=null,Rr=In[--Pn],In[Pn]=null,Pr=In[--Pn],In[Pn]=null}var yn=null,mn=null,We=!1,Bn=null;function mS(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function t_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,mn=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:Pr,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,mn=null,!0):!1;default:return!1}}function Gm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Km(t){if(We){var e=mn;if(e){var n=e;if(!t_(t,e)){if(Gm(t))throw Error(H(418));e=Is(n.nextSibling);var r=yn;e&&t_(t,e)?mS(r,n):(t.flags=t.flags&-4097|2,We=!1,yn=t)}}else{if(Gm(t))throw Error(H(418));t.flags=t.flags&-4097|2,We=!1,yn=t}}}function n_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function _u(t){if(t!==yn)return!1;if(!We)return n_(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zm(t.type,t.memoizedProps)),e&&(e=mn)){if(Gm(t))throw gS(),Error(H(418));for(;e;)mS(t,e),e=Is(e.nextSibling)}if(n_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=yn?Is(t.stateNode.nextSibling):null;return!0}function gS(){for(var t=mn;t;)t=Is(t.nextSibling)}function Qo(){mn=yn=null,We=!1}function Fy(t){Bn===null?Bn=[t]:Bn.push(t)}var Kj=Zr.ReactCurrentBatchConfig;function Wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r_(t){var e=t._init;return e(t._payload)}function yS(t){function e(w,x){if(t){var T=w.deletions;T===null?(w.deletions=[x],w.flags|=16):T.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=ks(w,x),w.index=0,w.sibling=null,w}function i(w,x,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<x?(w.flags|=2,x):T):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,T,C){return x===null||x.tag!==6?(x=Rp(T,w.mode,C),x.return=w,x):(x=s(x,T),x.return=w,x)}function l(w,x,T,C){var A=T.type;return A===vo?h(w,x,T.props.children,C,T.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ps&&r_(A)===x.type)?(C=s(x,T.props),C.ref=Wa(w,x,T),C.return=w,C):(C=ld(T.type,T.key,T.props,null,w.mode,C),C.ref=Wa(w,x,T),C.return=w,C)}function c(w,x,T,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=Ap(T,w.mode,C),x.return=w,x):(x=s(x,T.children||[]),x.return=w,x)}function h(w,x,T,C,A){return x===null||x.tag!==7?(x=bi(T,w.mode,C,A),x.return=w,x):(x=s(x,T),x.return=w,x)}function f(w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rp(""+x,w.mode,T),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case du:return T=ld(x.type,x.key,x.props,null,w.mode,T),T.ref=Wa(w,null,x),T.return=w,T;case yo:return x=Ap(x,w.mode,T),x.return=w,x;case ps:var C=x._init;return f(w,C(x._payload),T)}if(el(x)||Fa(x))return x=bi(x,w.mode,T,null),x.return=w,x;Eu(w,x)}return null}function p(w,x,T,C){var A=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:a(w,x,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case du:return T.key===A?l(w,x,T,C):null;case yo:return T.key===A?c(w,x,T,C):null;case ps:return A=T._init,p(w,x,A(T._payload),C)}if(el(T)||Fa(T))return A!==null?null:h(w,x,T,C,null);Eu(w,T)}return null}function g(w,x,T,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(T)||null,a(x,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case du:return w=w.get(C.key===null?T:C.key)||null,l(x,w,C,A);case yo:return w=w.get(C.key===null?T:C.key)||null,c(x,w,C,A);case ps:var O=C._init;return g(w,x,T,O(C._payload),A)}if(el(C)||Fa(C))return w=w.get(T)||null,h(x,w,C,A,null);Eu(x,C)}return null}function E(w,x,T,C){for(var A=null,O=null,I=x,S=x=0,P=null;I!==null&&S<T.length;S++){I.index>S?(P=I,I=null):P=I.sibling;var k=p(w,I,T[S],C);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(w,I),x=i(k,x,S),O===null?A=k:O.sibling=k,O=k,I=P}if(S===T.length)return n(w,I),We&&ui(w,S),A;if(I===null){for(;S<T.length;S++)I=f(w,T[S],C),I!==null&&(x=i(I,x,S),O===null?A=I:O.sibling=I,O=I);return We&&ui(w,S),A}for(I=r(w,I);S<T.length;S++)P=g(I,w,S,T[S],C),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),x=i(P,x,S),O===null?A=P:O.sibling=P,O=P);return t&&I.forEach(function(D){return e(w,D)}),We&&ui(w,S),A}function v(w,x,T,C){var A=Fa(T);if(typeof A!="function")throw Error(H(150));if(T=A.call(T),T==null)throw Error(H(151));for(var O=A=null,I=x,S=x=0,P=null,k=T.next();I!==null&&!k.done;S++,k=T.next()){I.index>S?(P=I,I=null):P=I.sibling;var D=p(w,I,k.value,C);if(D===null){I===null&&(I=P);break}t&&I&&D.alternate===null&&e(w,I),x=i(D,x,S),O===null?A=D:O.sibling=D,O=D,I=P}if(k.done)return n(w,I),We&&ui(w,S),A;if(I===null){for(;!k.done;S++,k=T.next())k=f(w,k.value,C),k!==null&&(x=i(k,x,S),O===null?A=k:O.sibling=k,O=k);return We&&ui(w,S),A}for(I=r(w,I);!k.done;S++,k=T.next())k=g(I,w,S,k.value,C),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),x=i(k,x,S),O===null?A=k:O.sibling=k,O=k);return t&&I.forEach(function(j){return e(w,j)}),We&&ui(w,S),A}function _(w,x,T,C){if(typeof T=="object"&&T!==null&&T.type===vo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case du:e:{for(var A=T.key,O=x;O!==null;){if(O.key===A){if(A=T.type,A===vo){if(O.tag===7){n(w,O.sibling),x=s(O,T.props.children),x.return=w,w=x;break e}}else if(O.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ps&&r_(A)===O.type){n(w,O.sibling),x=s(O,T.props),x.ref=Wa(w,O,T),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}T.type===vo?(x=bi(T.props.children,w.mode,C,T.key),x.return=w,w=x):(C=ld(T.type,T.key,T.props,null,w.mode,C),C.ref=Wa(w,x,T),C.return=w,w=C)}return o(w);case yo:e:{for(O=T.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(w,x.sibling),x=s(x,T.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Ap(T,w.mode,C),x.return=w,w=x}return o(w);case ps:return O=T._init,_(w,x,O(T._payload),C)}if(el(T))return E(w,x,T,C);if(Fa(T))return v(w,x,T,C);Eu(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,T),x.return=w,w=x):(n(w,x),x=Rp(T,w.mode,C),x.return=w,w=x),o(w)):n(w,x)}return _}var Yo=yS(!0),vS=yS(!1),Vd=Xs(null),Ld=null,Co=null,$y=null;function Uy(){$y=Co=Ld=null}function By(t){var e=Vd.current;$e(Vd),t._currentValue=e}function Qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){Ld=t,$y=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if($y!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(Ld===null)throw Error(H(308));Co=t,Ld.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var yi=null;function zy(t){yi===null?yi=[t]:yi.push(t)}function xS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function Wy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Br(t,n)}return s=r.interleaved,s===null?(e.next=e,zy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Br(t,n)}function nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ry(t,n)}}function s_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var s=t.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(p=e,g=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){f=E.call(g,f,p);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,p=typeof E=="function"?E.call(g,f,p):E,p==null)break e;f=Qe({},f,p);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=f}}function i_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Tc={},sr=Xs(Tc),ql=Xs(Tc),Gl=Xs(Tc);function vi(t){if(t===Tc)throw Error(H(174));return t}function Hy(t,e){switch(Oe(Gl,e),Oe(ql,t),Oe(sr,Tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rm(e,t)}$e(sr),Oe(sr,e)}function Xo(){$e(sr),$e(ql),$e(Gl)}function _S(t){vi(Gl.current);var e=vi(sr.current),n=Rm(e,t.type);e!==n&&(Oe(ql,t),Oe(sr,n))}function qy(t){ql.current===t&&($e(sr),$e(ql))}var He=Xs(0);function $d(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tp=[];function Gy(){for(var t=0;t<Tp.length;t++)Tp[t]._workInProgressVersionPrimary=null;Tp.length=0}var rd=Zr.ReactCurrentDispatcher,bp=Zr.ReactCurrentBatchConfig,Pi=0,Ke=null,ht=null,mt=null,Ud=!1,pl=!1,Kl=0,Qj=0;function jt(){throw Error(H(321))}function Ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Qy(t,e,n,r,s,i){if(Pi=i,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rd.current=t===null||t.memoizedState===null?Zj:eO,t=n(r,s),pl){i=0;do{if(pl=!1,Kl=0,25<=i)throw Error(H(301));i+=1,mt=ht=null,e.updateQueue=null,rd.current=tO,t=n(r,s)}while(pl)}if(rd.current=Bd,e=ht!==null&&ht.next!==null,Pi=0,mt=ht=Ke=null,Ud=!1,e)throw Error(H(300));return t}function Yy(){var t=Kl!==0;return Kl=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function On(){if(ht===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=mt===null?Ke.memoizedState:mt.next;if(e!==null)mt=e,ht=t;else{if(t===null)throw Error(H(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function Ql(t,e){return typeof e=="function"?e(t):e}function Sp(t){var e=On(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Pi&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ke.lanes|=h,Ri|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Kn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ke.lanes|=i,Ri|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cp(t){var e=On(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kn(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ES(){}function TS(t,e){var n=Ke,r=On(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,Xy(CS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Yl(9,SS.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(H(349));Pi&30||bS(n,e,s)}return s}function bS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SS(t,e,n,r){e.value=n,e.getSnapshot=r,IS(e)&&PS(t)}function CS(t,e,n){return n(function(){IS(e)&&PS(t)})}function IS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function PS(t){var e=Br(t,1);e!==null&&qn(e,t,1,-1)}function o_(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=Jj.bind(null,Ke,t),[e.memoizedState,t]}function Yl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function RS(){return On().memoizedState}function sd(t,e,n,r){var s=tr();Ke.flags|=t,s.memoizedState=Yl(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var s=On();r=r===void 0?null:r;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,r!==null&&Ky(r,o.deps)){s.memoizedState=Yl(e,n,i,r);return}}Ke.flags|=t,s.memoizedState=Yl(1|e,n,i,r)}function a_(t,e){return sd(8390656,8,t,e)}function Xy(t,e){return Bh(2048,8,t,e)}function AS(t,e){return Bh(4,2,t,e)}function kS(t,e){return Bh(4,4,t,e)}function NS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DS(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,NS.bind(null,e,t),n)}function Jy(){}function jS(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OS(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MS(t,e,n){return Pi&21?(Kn(n,e)||(n=Ub(),Ke.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function Yj(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=bp.transition;bp.transition={};try{t(!1),e()}finally{Ae=n,bp.transition=r}}function VS(){return On().memoizedState}function Xj(t,e,n){var r=As(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LS(t))FS(e,n);else if(n=xS(t,e,n,r),n!==null){var s=Jt();qn(n,t,r,s),$S(n,e,r)}}function Jj(t,e,n){var r=As(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LS(t))FS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Kn(a,o)){var l=e.interleaved;l===null?(s.next=s,zy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xS(t,e,s,r),n!==null&&(s=Jt(),qn(n,t,r,s),$S(n,e,r))}}function LS(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function FS(t,e){pl=Ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $S(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ry(t,n)}}var Bd={readContext:jn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Zj={readContext:jn,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:a_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sd(4194308,4,NS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xj.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:o_,useDebugValue:Jy,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=o_(!1),e=t[0];return t=Yj.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,s=tr();if(We){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),yt===null)throw Error(H(349));Pi&30||bS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,a_(CS.bind(null,r,i,t),[t]),r.flags|=2048,Yl(9,SS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=tr(),e=yt.identifierPrefix;if(We){var n=Rr,r=Pr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Qj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eO={readContext:jn,useCallback:jS,useContext:jn,useEffect:Xy,useImperativeHandle:DS,useInsertionEffect:AS,useLayoutEffect:kS,useMemo:OS,useReducer:Sp,useRef:RS,useState:function(){return Sp(Ql)},useDebugValue:Jy,useDeferredValue:function(t){var e=On();return MS(e,ht.memoizedState,t)},useTransition:function(){var t=Sp(Ql)[0],e=On().memoizedState;return[t,e]},useMutableSource:ES,useSyncExternalStore:TS,useId:VS,unstable_isNewReconciler:!1},tO={readContext:jn,useCallback:jS,useContext:jn,useEffect:Xy,useImperativeHandle:DS,useInsertionEffect:AS,useLayoutEffect:kS,useMemo:OS,useReducer:Cp,useRef:RS,useState:function(){return Cp(Ql)},useDebugValue:Jy,useDeferredValue:function(t){var e=On();return ht===null?e.memoizedState=t:MS(e,ht.memoizedState,t)},useTransition:function(){var t=Cp(Ql)[0],e=On().memoizedState;return[t,e]},useMutableSource:ES,useSyncExternalStore:TS,useId:VS,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?Wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=As(t),i=jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(qn(e,t,s,r),nd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=As(t),i=jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(qn(e,t,s,r),nd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=As(t),s=jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(qn(e,t,r,n),nd(e,t,r))}};function l_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(s,i):!0}function US(t,e,n){var r=!1,s=Us,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=an(e)?Ci:Bt.current,r=e.contextTypes,i=(r=r!=null)?Ko(t,s):Us),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function c_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function Xm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=an(e)?Ci:Bt.current,s.context=Ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ym(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zh.enqueueReplaceState(s,s.state,null),Fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,e){try{var n="",r=e;do n+=RD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ip(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nO=typeof WeakMap=="function"?WeakMap:Map;function BS(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,lg=r),Jm(t,e)},n}function zS(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jm(t,e),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gO.bind(null,t,e,n),e.then(t,t))}function d_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var rO=Zr.ReactCurrentOwner,sn=!1;function Qt(t,e,n,r){e.child=t===null?vS(e,null,n,r):Yo(e,t.child,n,r)}function f_(t,e,n,r,s){n=n.render;var i=e.ref;return Lo(e,s),r=Qy(t,e,n,r,i,s),n=Yy(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zr(t,e,s)):(We&&n&&Vy(e),e.flags|=1,Qt(t,e,r,s),e.child)}function p_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ov(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WS(t,e,i,r,s)):(t=ld(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return zr(t,e,s)}return e.flags|=1,t=ks(i,r),t.ref=e.ref,t.return=e,e.child=t}function WS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bl(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,zr(t,e,s)}return Zm(t,e,n,r,s)}function HS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Po,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Po,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(Po,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(Po,fn),fn|=r;return Qt(t,e,s,n),e.child}function qS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zm(t,e,n,r,s){var i=an(n)?Ci:Bt.current;return i=Ko(e,i),Lo(e,s),n=Qy(t,e,n,r,i,s),r=Yy(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zr(t,e,s)):(We&&r&&Vy(e),e.flags|=1,Qt(t,e,n,s),e.child)}function m_(t,e,n,r,s){if(an(n)){var i=!0;jd(e)}else i=!1;if(Lo(e,s),e.stateNode===null)id(t,e),US(e,n,r),Xm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=an(n)?Ci:Bt.current,c=Ko(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&c_(e,o,r,c),ms=!1;var p=e.memoizedState;o.state=p,Fd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||on.current||ms?(typeof h=="function"&&(Ym(e,n,h,r),l=e.memoizedState),(a=ms||l_(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$n(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=an(n)?Ci:Bt.current,l=Ko(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&c_(e,o,r,l),ms=!1,p=e.memoizedState,o.state=p,Fd(e,r,o,s);var E=e.memoizedState;a!==f||p!==E||on.current||ms?(typeof g=="function"&&(Ym(e,n,g,r),E=e.memoizedState),(c=ms||l_(e,n,c,r,p,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return eg(t,e,n,r,i,s)}function eg(t,e,n,r,s,i){qS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&e_(e,n,!1),zr(t,e,i);r=e.stateNode,rO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yo(e,t.child,null,i),e.child=Yo(e,null,a,i)):Qt(t,e,a,i),e.memoizedState=r.state,s&&e_(e,n,!0),e.child}function GS(t){var e=t.stateNode;e.pendingContext?Zw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zw(t,e.context,!1),Hy(t,e.containerInfo)}function g_(t,e,n,r,s){return Qo(),Fy(s),e.flags|=256,Qt(t,e,n,r),e.child}var tg={dehydrated:null,treeContext:null,retryLane:0};function ng(t){return{baseLanes:t,cachePool:null,transitions:null}}function KS(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(He,s&1),t===null)return Km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qh(o,r,0,null),t=bi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ng(n),e.memoizedState=tg,t):Zy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ks(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ks(a,i):(i=bi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ng(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tg,r}return i=t.child,t=i.sibling,r=ks(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zy(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&Fy(r),Yo(e,t.child,null,n),t=Zy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ip(Error(H(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qh({mode:"visible",children:r.children},s,0,null),i=bi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yo(e,t.child,null,o),e.child.memoizedState=ng(o),e.memoizedState=tg,i);if(!(e.mode&1))return Tu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Ip(i,r,void 0),Tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Br(t,s),qn(r,t,s,-1))}return iv(),r=Ip(Error(H(421))),Tu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mn=Is(s.nextSibling),yn=e,We=!0,Bn=null,t!==null&&(In[Pn++]=Pr,In[Pn++]=Rr,In[Pn++]=Ii,Pr=t.id,Rr=t.overflow,Ii=e),e=Zy(e,r.children),e.flags|=4096,e)}function y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qm(t.return,e,n)}function Pp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y_(t,n,e);else if(t.tag===19)y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$d(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Pp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$d(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Pp(e,!0,n,null,i);break;case"together":Pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iO(t,e,n){switch(e.tag){case 3:GS(e),Qo();break;case 5:_S(e);break;case 1:an(e.type)&&jd(e);break;case 4:Hy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(Vd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?KS(t,e,n):(Oe(He,He.current&1),t=zr(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,HS(t,e,n)}return zr(t,e,n)}var YS,rg,XS,JS;YS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rg=function(){};XS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vi(sr.current);var i=null;switch(n){case"input":s=Sm(t,s),r=Sm(t,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=Pm(t,s),r=Pm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nd)}Am(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ol.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};JS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ha(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oO(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return an(e.type)&&Dd(),Ot(e),null;case 3:return r=e.stateNode,Xo(),$e(on),$e(Bt),Gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(dg(Bn),Bn=null))),rg(t,e),Ot(e),null;case 5:qy(e);var s=vi(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)XS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ot(e),null}if(t=vi(sr.current),_u(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[Hl]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<nl.length;s++)Fe(nl[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Cw(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Pw(r,i),Fe("invalid",r)}Am(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wu(r.textContent,a,t),s=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":hu(r),Iw(r,i,!0);break;case"textarea":hu(r),Rw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[Hl]=r,YS(t,e,!1,!1),e.stateNode=t;e:{switch(o=km(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<nl.length;s++)Fe(nl[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":Cw(t,r),s=Sm(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Pw(t,r),s=Pm(t,r),Fe("invalid",t);break;default:s=r}Am(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Rb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ib(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ml(t,l):typeof l=="number"&&Ml(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ol.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",t):l!=null&&Ty(t,i,l,o))}switch(n){case"input":hu(t),Iw(t,r,!1);break;case"textarea":hu(t),Rw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$s(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?jo(t,!!r.multiple,i,!1):r.defaultValue!=null&&jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)JS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=vi(Gl.current),vi(sr.current),_u(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return Ot(e),null;case 13:if($e(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&mn!==null&&e.mode&1&&!(e.flags&128))gS(),Qo(),e.flags|=98560,i=!1;else if(i=_u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[nr]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),i=!1}else Bn!==null&&(dg(Bn),Bn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ft===0&&(ft=3):iv())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Xo(),rg(t,e),t===null&&zl(e.stateNode.containerInfo),Ot(e),null;case 10:return By(e.type._context),Ot(e),null;case 17:return an(e.type)&&Dd(),Ot(e),null;case 19:if($e(He),i=e.memoizedState,i===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ha(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$d(t),o!==null){for(e.flags|=128,Ha(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>Zo&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304)}else{if(!r)if(t=$d(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return Ot(e),null}else 2*rt()-i.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Ha(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function aO(t,e){switch(Ly(e),e.tag){case 1:return an(e.type)&&Dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),$e(on),$e(Bt),Gy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qy(e),null;case 13:if($e(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(He),null;case 4:return Xo(),null;case 10:return By(e.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var bu=!1,Ft=!1,lO=typeof WeakSet=="function"?WeakSet:Set,X=null;function Io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function sg(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var v_=!1;function cO(t,e){if(Um=Rd,t=rS(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bm={focusedElem:t,selectionRange:n},Rd=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,_=E.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:$n(e.type,v),_);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){Ze(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return E=v_,v_=!1,E}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sg(e,n,i)}s=s.next}while(s!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZS(t){var e=t.alternate;e!==null&&(t.alternate=null,ZS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[Hl],delete e[Hm],delete e[Hj],delete e[qj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eC(t){return t.tag===5||t.tag===3||t.tag===4}function x_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nd));else if(r!==4&&(t=t.child,t!==null))for(og(t,e,n),t=t.sibling;t!==null;)og(t,e,n),t=t.sibling}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}var bt=null,Un=!1;function ls(t,e,n){for(n=n.child;n!==null;)tC(t,e,n),n=n.sibling}function tC(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Mh,n)}catch{}switch(n.tag){case 5:Ft||Io(n,e);case 6:var r=bt,s=Un;bt=null,ls(t,e,n),bt=r,Un=s,bt!==null&&(Un?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Un?(t=bt,n=n.stateNode,t.nodeType===8?_p(t.parentNode,n):t.nodeType===1&&_p(t,n),$l(t)):_p(bt,n.stateNode));break;case 4:r=bt,s=Un,bt=n.stateNode.containerInfo,Un=!0,ls(t,e,n),bt=r,Un=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sg(n,e,o),s=s.next}while(s!==r)}ls(t,e,n);break;case 1:if(!Ft&&(Io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,ls(t,e,n),Ft=r):ls(t,e,n);break;default:ls(t,e,n)}}function w_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lO),e.forEach(function(r){var s=vO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Un=!1;break e;case 3:bt=a.stateNode.containerInfo,Un=!0;break e;case 4:bt=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(bt===null)throw Error(H(160));tC(i,o,s),bt=null,Un=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nC(e,t),e=e.sibling}function nC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),er(t),r&4){try{ml(3,t,t.return),Wh(3,t)}catch(v){Ze(t,t.return,v)}try{ml(5,t,t.return)}catch(v){Ze(t,t.return,v)}}break;case 1:Ln(e,t),er(t),r&512&&n!==null&&Io(n,n.return);break;case 5:if(Ln(e,t),er(t),r&512&&n!==null&&Io(n,n.return),t.flags&32){var s=t.stateNode;try{Ml(s,"")}catch(v){Ze(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bb(s,i),km(a,o);var c=km(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Rb(s,f):h==="dangerouslySetInnerHTML"?Ib(s,f):h==="children"?Ml(s,f):Ty(s,h,f,c)}switch(a){case"input":Cm(s,i);break;case"textarea":Sb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?jo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?jo(s,!!i.multiple,i.defaultValue,!0):jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hl]=i}catch(v){Ze(t,t.return,v)}}break;case 6:if(Ln(e,t),er(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ze(t,t.return,v)}}break;case 3:if(Ln(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(v){Ze(t,t.return,v)}break;case 4:Ln(e,t),er(t);break;case 13:Ln(e,t),er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nv=rt())),r&4&&w_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(c=Ft)||h,Ln(e,t),Ft=c):Ln(e,t),er(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:ml(4,p,p.return);break;case 1:Io(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){Ze(r,n,v)}}break;case 5:Io(p,p.return);break;case 22:if(p.memoizedState!==null){E_(f);continue}}g!==null?(g.return=p,X=g):E_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pb("display",o))}catch(v){Ze(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Ze(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ln(e,t),er(t),r&4&&w_(t);break;case 21:break;default:Ln(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ml(s,""),r.flags&=-33);var i=x_(t);ag(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x_(t);og(t,a,o);break;default:throw Error(H(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uO(t,e,n){X=t,rC(t)}function rC(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=bu;var c=Ft;if(bu=o,(Ft=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?T_(s):l!==null?(l.return=o,X=l):T_(s);for(;i!==null;)X=i,rC(i),i=i.sibling;X=s,bu=a,Ft=c}__(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):__(t)}}function __(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&i_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&$l(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ft||e.flags&512&&ig(e)}catch(p){Ze(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function E_(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function T_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{ig(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{ig(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var dO=Math.ceil,zd=Zr.ReactCurrentDispatcher,ev=Zr.ReactCurrentOwner,Nn=Zr.ReactCurrentBatchConfig,be=0,yt=null,ct=null,It=0,fn=0,Po=Xs(0),ft=0,Xl=null,Ri=0,Hh=0,tv=0,gl=null,rn=null,nv=0,Zo=1/0,_r=null,Wd=!1,lg=null,Rs=null,Su=!1,_s=null,Hd=0,yl=0,cg=null,od=-1,ad=0;function Jt(){return be&6?rt():od!==-1?od:od=rt()}function As(t){return t.mode&1?be&2&&It!==0?It&-It:Kj.transition!==null?(ad===0&&(ad=Ub()),ad):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:Kb(t.type)),t):1}function qn(t,e,n,r){if(50<yl)throw yl=0,cg=null,Error(H(185));wc(t,n,r),(!(be&2)||t!==yt)&&(t===yt&&(!(be&2)&&(Hh|=n),ft===4&&vs(t,It)),ln(t,r),n===1&&be===0&&!(e.mode&1)&&(Zo=rt()+500,Uh&&Js()))}function ln(t,e){var n=t.callbackNode;KD(t,e);var r=Pd(t,t===yt?It:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?Gj(b_.bind(null,t)):fS(b_.bind(null,t)),zj(function(){!(be&6)&&Js()}),n=null;else{switch(Bb(r)){case 1:n=Py;break;case 4:n=Fb;break;case 16:n=Id;break;case 536870912:n=$b;break;default:n=Id}n=dC(n,sC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sC(t,e){if(od=-1,ad=0,be&6)throw Error(H(327));var n=t.callbackNode;if(Fo()&&t.callbackNode!==n)return null;var r=Pd(t,t===yt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var s=be;be|=2;var i=oC();(yt!==t||It!==e)&&(_r=null,Zo=rt()+500,Ti(t,e));do try{pO();break}catch(a){iC(t,a)}while(1);Uy(),zd.current=i,be=s,ct!==null?e=0:(yt=null,It=0,e=ft)}if(e!==0){if(e===2&&(s=Mm(t),s!==0&&(r=s,e=ug(t,s))),e===1)throw n=Xl,Ti(t,0),vs(t,r),ln(t,rt()),n;if(e===6)vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!hO(s)&&(e=qd(t,r),e===2&&(i=Mm(t),i!==0&&(r=i,e=ug(t,i))),e===1))throw n=Xl,Ti(t,0),vs(t,r),ln(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:di(t,rn,_r);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=nv+500-rt(),10<e)){if(Pd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wm(di.bind(null,t,rn,_r),e);break}di(t,rn,_r);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dO(r/1960))-r,10<r){t.timeoutHandle=Wm(di.bind(null,t,rn,_r),r);break}di(t,rn,_r);break;case 5:di(t,rn,_r);break;default:throw Error(H(329))}}}return ln(t,rt()),t.callbackNode===n?sC.bind(null,t):null}function ug(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=qd(t,e),t!==2&&(e=rn,rn=n,e!==null&&dg(e)),t}function dg(t){rn===null?rn=t:rn.push.apply(rn,t)}function hO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~tv,e&=~Hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function b_(t){if(be&6)throw Error(H(327));Fo();var e=Pd(t,0);if(!(e&1))return ln(t,rt()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=Mm(t);r!==0&&(e=r,n=ug(t,r))}if(n===1)throw n=Xl,Ti(t,0),vs(t,e),ln(t,rt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,rn,_r),ln(t,rt()),null}function rv(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Zo=rt()+500,Uh&&Js())}}function Ai(t){_s!==null&&_s.tag===0&&!(be&6)&&Fo();var e=be;be|=1;var n=Nn.transition,r=Ae;try{if(Nn.transition=null,Ae=1,t)return t()}finally{Ae=r,Nn.transition=n,be=e,!(be&6)&&Js()}}function sv(){fn=Po.current,$e(Po)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bj(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dd();break;case 3:Xo(),$e(on),$e(Bt),Gy();break;case 5:qy(r);break;case 4:Xo();break;case 13:$e(He);break;case 19:$e(He);break;case 10:By(r.type._context);break;case 22:case 23:sv()}n=n.return}if(yt=t,ct=t=ks(t.current,null),It=fn=e,ft=0,Xl=null,tv=Hh=Ri=0,rn=gl=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yi=null}return t}function iC(t,e){do{var n=ct;try{if(Uy(),rd.current=Bd,Ud){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ud=!1}if(Pi=0,mt=ht=Ke=null,pl=!1,Kl=0,ev.current=null,n===null||n.return===null){ft=1,Xl=e,ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=d_(o);if(g!==null){g.flags&=-257,h_(g,o,a,i,e),g.mode&1&&u_(i,c,e),e=g,l=c;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){u_(i,c,e),iv();break e}l=Error(H(426))}}else if(We&&a.mode&1){var _=d_(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),h_(_,o,a,i,e),Fy(Jo(l,a));break e}}i=l=Jo(l,a),ft!==4&&(ft=2),gl===null?gl=[i]:gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=BS(i,l,e);s_(i,w);break e;case 1:a=l;var x=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Rs===null||!Rs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=zS(i,a,e);s_(i,C);break e}}i=i.return}while(i!==null)}lC(n)}catch(A){e=A,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function oC(){var t=zd.current;return zd.current=Bd,t===null?Bd:t}function iv(){(ft===0||ft===3||ft===2)&&(ft=4),yt===null||!(Ri&268435455)&&!(Hh&268435455)||vs(yt,It)}function qd(t,e){var n=be;be|=2;var r=oC();(yt!==t||It!==e)&&(_r=null,Ti(t,e));do try{fO();break}catch(s){iC(t,s)}while(1);if(Uy(),be=n,zd.current=r,ct!==null)throw Error(H(261));return yt=null,It=0,ft}function fO(){for(;ct!==null;)aC(ct)}function pO(){for(;ct!==null&&!FD();)aC(ct)}function aC(t){var e=uC(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?lC(t):ct=e,ev.current=null}function lC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aO(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ct=null;return}}else if(n=oO(n,e,fn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);ft===0&&(ft=5)}function di(t,e,n){var r=Ae,s=Nn.transition;try{Nn.transition=null,Ae=1,mO(t,e,n,r)}finally{Nn.transition=s,Ae=r}return null}function mO(t,e,n,r){do Fo();while(_s!==null);if(be&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QD(t,i),t===yt&&(ct=yt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,dC(Id,function(){return Fo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nn.transition,Nn.transition=null;var o=Ae;Ae=1;var a=be;be|=4,ev.current=null,cO(t,n),nC(n,t),Oj(Bm),Rd=!!Um,Bm=Um=null,t.current=n,uO(n),$D(),be=a,Ae=o,Nn.transition=i}else t.current=n;if(Su&&(Su=!1,_s=t,Hd=s),i=t.pendingLanes,i===0&&(Rs=null),zD(n.stateNode),ln(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wd)throw Wd=!1,t=lg,lg=null,t;return Hd&1&&t.tag!==0&&Fo(),i=t.pendingLanes,i&1?t===cg?yl++:(yl=0,cg=t):yl=0,Js(),null}function Fo(){if(_s!==null){var t=Bb(Hd),e=Nn.transition,n=Ae;try{if(Nn.transition=null,Ae=16>t?16:t,_s===null)var r=!1;else{if(t=_s,_s=null,Hd=0,be&6)throw Error(H(331));var s=be;for(be|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:ml(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var p=h.sibling,g=h.return;if(ZS(h),h===c){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var E=i.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ml(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var x=t.current;for(X=x;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=x;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(A){Ze(a,a.return,A)}if(a===o){X=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,X=C;break e}X=a.return}}if(be=s,Js(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Mh,t)}catch{}r=!0}return r}finally{Ae=n,Nn.transition=e}}return!1}function S_(t,e,n){e=Jo(n,e),e=BS(t,e,1),t=Ps(t,e,1),e=Jt(),t!==null&&(wc(t,1,e),ln(t,e))}function Ze(t,e,n){if(t.tag===3)S_(t,t,n);else for(;e!==null;){if(e.tag===3){S_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rs===null||!Rs.has(r))){t=Jo(n,t),t=zS(e,t,1),e=Ps(e,t,1),t=Jt(),e!==null&&(wc(e,1,t),ln(e,t));break}}e=e.return}}function gO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(It&n)===n&&(ft===4||ft===3&&(It&130023424)===It&&500>rt()-nv?Ti(t,0):tv|=n),ln(t,e)}function cC(t,e){e===0&&(t.mode&1?(e=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):e=1);var n=Jt();t=Br(t,e),t!==null&&(wc(t,e,n),ln(t,n))}function yO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cC(t,n)}function vO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),cC(t,n)}var uC;uC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,iO(t,e,n);sn=!!(t.flags&131072)}else sn=!1,We&&e.flags&1048576&&pS(e,Md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;id(t,e),t=e.pendingProps;var s=Ko(e,Bt.current);Lo(e,n),s=Qy(null,e,r,t,s,n);var i=Yy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,jd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wy(e),s.updater=zh,e.stateNode=s,s._reactInternals=e,Xm(e,r,t,n),e=eg(null,e,r,!0,i,n)):(e.tag=0,We&&i&&Vy(e),Qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wO(r),t=$n(r,t),s){case 0:e=Zm(null,e,r,t,n);break e;case 1:e=m_(null,e,r,t,n);break e;case 11:e=f_(null,e,r,t,n);break e;case 14:e=p_(null,e,r,$n(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),Zm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),m_(t,e,r,s,n);case 3:e:{if(GS(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,wS(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jo(Error(H(423)),e),e=g_(t,e,r,n,s);break e}else if(r!==s){s=Jo(Error(H(424)),e),e=g_(t,e,r,n,s);break e}else for(mn=Is(e.stateNode.containerInfo.firstChild),yn=e,We=!0,Bn=null,n=vS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===s){e=zr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return _S(e),t===null&&Km(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zm(r,s)?o=null:i!==null&&zm(r,i)&&(e.flags|=32),qS(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&Km(e),null;case 13:return KS(t,e,n);case 4:return Hy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yo(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),f_(t,e,r,s,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(Vd,r._currentValue),r._currentValue=o,i!==null)if(Kn(i.value,o)){if(i.children===s.children&&!on.current){e=zr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Qm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Lo(e,n),s=jn(s),r=r(s),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),p_(t,e,r,s,n);case 15:return WS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),id(t,e),e.tag=1,an(r)?(t=!0,jd(e)):t=!1,Lo(e,n),US(e,r,s),Xm(e,r,s,n),eg(null,e,r,!0,t,n);case 19:return QS(t,e,n);case 22:return HS(t,e,n)}throw Error(H(156,e.tag))};function dC(t,e){return Lb(t,e)}function xO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new xO(t,e,n,r)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wO(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sy)return 11;if(t===Cy)return 14}return 2}function ks(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ld(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return bi(n.children,s,i,e);case by:o=8,s|=8;break;case _m:return t=kn(12,n,e,s|2),t.elementType=_m,t.lanes=i,t;case Em:return t=kn(13,n,e,s),t.elementType=Em,t.lanes=i,t;case Tm:return t=kn(19,n,e,s),t.elementType=Tm,t.lanes=i,t;case _b:return qh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xb:o=10;break e;case wb:o=9;break e;case Sy:o=11;break e;case Cy:o=14;break e;case ps:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function bi(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=kn(22,t,r,e),t.elementType=_b,t.lanes=n,t.stateNode={isHidden:!1},t}function Rp(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function Ap(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _O(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function av(t,e,n,r,s,i,o,a,l){return t=new _O(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(i),t}function EO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hC(t){if(!t)return Us;t=t._reactInternals;e:{if(Wi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(an(n))return hS(t,n,e)}return e}function fC(t,e,n,r,s,i,o,a,l){return t=av(n,r,!0,t,s,i,o,a,l),t.context=hC(null),n=t.current,r=Jt(),s=As(n),i=jr(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,wc(t,s,r),ln(t,r),t}function Gh(t,e,n,r){var s=e.current,i=Jt(),o=As(s);return n=hC(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(qn(t,s,o,i),nd(t,s,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function C_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lv(t,e){C_(t,e),(t=t.alternate)&&C_(t,e)}function TO(){return null}var pC=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}Kh.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Gh(t,e,null,null)};Kh.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){Gh(null,t,null,null)}),e[Ur]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&Gb(t)}};function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I_(){}function bO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Gd(o);i.call(c)}}var o=fC(e,r,t,0,null,!1,!1,"",I_);return t._reactRootContainer=o,t[Ur]=o.current,zl(t.nodeType===8?t.parentNode:t),Ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Gd(l);a.call(c)}}var l=av(t,0,!1,null,null,!1,!1,"",I_);return t._reactRootContainer=l,t[Ur]=l.current,zl(t.nodeType===8?t.parentNode:t),Ai(function(){Gh(e,l,n,r)}),l}function Yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Gd(o);a.call(l)}}Gh(e,o,t,s)}else o=bO(n,e,t,s,r);return Gd(o)}zb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(Ry(e,n|1),ln(e,rt()),!(be&6)&&(Zo=rt()+500,Js()))}break;case 13:Ai(function(){var r=Br(t,1);if(r!==null){var s=Jt();qn(r,t,1,s)}}),lv(t,1)}};Ay=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Jt();qn(e,t,134217728,n)}lv(t,134217728)}};Wb=function(t){if(t.tag===13){var e=As(t),n=Br(t,e);if(n!==null){var r=Jt();qn(n,t,e,r)}lv(t,e)}};Hb=function(){return Ae};qb=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Dm=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$h(r);if(!s)throw Error(H(90));Tb(r),Cm(r,s)}}}break;case"textarea":Sb(t,n);break;case"select":e=n.value,e!=null&&jo(t,!!n.multiple,e,!1)}};Nb=rv;Db=Ai;var SO={usingClientEntryPoint:!1,Events:[Ec,Eo,$h,Ab,kb,rv]},qa={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CO={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mb(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||TO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Mh=Cu.inject(CO),rr=Cu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SO;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(e))throw Error(H(200));return EO(t,e,null,n)};En.createRoot=function(t,e){if(!uv(t))throw Error(H(299));var n=!1,r="",s=pC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=av(t,1,!1,null,null,n,!1,r,s),t[Ur]=e.current,zl(t.nodeType===8?t.parentNode:t),new cv(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Mb(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Ai(t)};En.hydrate=function(t,e,n){if(!Qh(e))throw Error(H(200));return Yh(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!uv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fC(e,null,t,1,n??null,s,!1,i,o),t[Ur]=e.current,zl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kh(e)};En.render=function(t,e,n){if(!Qh(e))throw Error(H(200));return Yh(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(H(40));return t._reactRootContainer?(Ai(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};En.unstable_batchedUpdates=rv;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Yh(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function mC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mC)}catch(t){console.error(t)}}mC(),mb.exports=En;var Zs=mb.exports;const gC=rb(Zs);var P_=Zs;xm.createRoot=P_.createRoot,xm.hydrateRoot=P_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}var Es;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Es||(Es={}));const R_="popstate";function IO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return hg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Kd(s)}return RO(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PO(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n,r){return n===void 0&&(n=null),Jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fa(e):e,{state:n,key:e&&e.key||r||PO()})}function Kd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Es.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Jl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Es.Pop;let _=h(),w=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:w})}function p(_,w){a=Es.Push;let x=hg(v.location,_,w);n&&n(x,_),c=h()+1;let T=A_(x,c),C=v.createHref(x);try{o.pushState(T,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(C)}i&&l&&l({action:a,location:v.location,delta:1})}function g(_,w){a=Es.Replace;let x=hg(v.location,_,w);n&&n(x,_),c=h();let T=A_(x,c),C=v.createHref(x);o.replaceState(T,"",C),i&&l&&l({action:a,location:v.location,delta:0})}function E(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof _=="string"?_:Kd(_);return x=x.replace(/ $/,"%20"),it(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(R_,f),l=_,()=>{s.removeEventListener(R_,f),l=null}},createHref(_){return e(s,_)},createURL:E,encodeLocation(_){let w=E(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return o.go(_)}};return v}var k_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k_||(k_={}));function AO(t,e,n){return n===void 0&&(n="/"),kO(t,e,n,!1)}function kO(t,e,n,r){let s=typeof e=="string"?fa(e):e,i=dv(s.pathname||"/",n);if(i==null)return null;let o=vC(t);NO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=zO(i);a=UO(o[l],c,r)}return a}function vC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ns([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vC(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:FO(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of xC(i.path))s(i,o,l)}),e}function xC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$O(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DO=/^:[\w-]+$/,jO=3,OO=2,MO=1,VO=10,LO=-2,N_=t=>t==="*";function FO(t,e){let n=t.split("/"),r=n.length;return n.some(N_)&&(r+=LO),e&&(r+=OO),n.filter(s=>!N_(s)).reduce((s,i)=>s+(DO.test(i)?jO:i===""?MO:VO),r)}function $O(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function UO(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=D_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=D_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ns([i,f.pathname]),pathnameBase:GO(Ns([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ns([i,f.pathnameBase]))}return o}function D_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[f];return g&&!E?c[p]=void 0:c[p]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function BO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function zO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fa(t):t;return{pathname:n?n.startsWith("/")?n:HO(n,e):e,search:KO(r),hash:QO(s)}}function HO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hv(t,e){let n=qO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fa(t):(s=Jl({},t),it(!s.pathname||!s.pathname.includes("?"),kp("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),kp("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),kp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=WO(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Ns=t=>t.join("/").replace(/\/\/+/g,"/"),GO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wC=["post","put","patch","delete"];new Set(wC);const XO=["get",...wC];new Set(XO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}const pv=m.createContext(null),JO=m.createContext(null),ei=m.createContext(null),Xh=m.createContext(null),es=m.createContext({outlet:null,matches:[],isDataRoute:!1}),_C=m.createContext(null);function ZO(t,e){let{relative:n}=e===void 0?{}:e;pa()||it(!1);let{basename:r,navigator:s}=m.useContext(ei),{hash:i,pathname:o,search:a}=TC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ns([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pa(){return m.useContext(Xh)!=null}function Hi(){return pa()||it(!1),m.useContext(Xh).location}function EC(t){m.useContext(ei).static||m.useLayoutEffect(t)}function ti(){let{isDataRoute:t}=m.useContext(es);return t?pM():eM()}function eM(){pa()||it(!1);let t=m.useContext(pv),{basename:e,future:n,navigator:r}=m.useContext(ei),{matches:s}=m.useContext(es),{pathname:i}=Hi(),o=JSON.stringify(hv(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return EC(()=>{a.current=!0}),m.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=fv(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ns([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}const tM=m.createContext(null);function nM(t){let e=m.useContext(es).outlet;return e&&m.createElement(tM.Provider,{value:t},e)}function TC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ei),{matches:s}=m.useContext(es),{pathname:i}=Hi(),o=JSON.stringify(hv(s,r.v7_relativeSplatPath));return m.useMemo(()=>fv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function rM(t,e){return sM(t,e)}function sM(t,e,n,r){pa()||it(!1);let{navigator:s}=m.useContext(ei),{matches:i}=m.useContext(es),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Hi(),h;if(e){var f;let _=typeof e=="string"?fa(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||it(!1),h=_}else h=c;let p=h.pathname||"/",g=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=AO(t,{pathname:g}),v=cM(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ns([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ns([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?m.createElement(Xh.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Es.Pop}},v):v}function iM(){let t=fM(),e=YO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,i)}const oM=m.createElement(iM,null);class aM extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(es.Provider,{value:this.props.routeContext},m.createElement(_C.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lM(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(pv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(es.Provider,{value:e},r)}function cM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||it(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:g}=n,E=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,E=!1,v=null,_=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||oM,l&&(c<0&&p===0?(mM("route-fallback",!1),E=!0,_=null):c===p&&(E=!0,_=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),x=()=>{let T;return g?T=v:E?T=_:f.route.Component?T=m.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,m.createElement(lM,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(aM,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var bC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bC||{}),Qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qd||{});function uM(t){let e=m.useContext(pv);return e||it(!1),e}function dM(t){let e=m.useContext(JO);return e||it(!1),e}function hM(t){let e=m.useContext(es);return e||it(!1),e}function SC(t){let e=hM(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function fM(){var t;let e=m.useContext(_C),n=dM(Qd.UseRouteError),r=SC(Qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pM(){let{router:t}=uM(bC.UseNavigateStable),e=SC(Qd.UseNavigateStable),n=m.useRef(!1);return EC(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zl({fromRouteId:e},i)))},[t,e])}const j_={};function mM(t,e,n){!e&&!j_[t]&&(j_[t]=!0)}function gM(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function fg(t){let{to:e,replace:n,state:r,relative:s}=t;pa()||it(!1);let{future:i,static:o}=m.useContext(ei),{matches:a}=m.useContext(es),{pathname:l}=Hi(),c=ti(),h=fv(e,hv(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function CC(t){return nM(t.context)}function Tt(t){it(!1)}function yM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Es.Pop,navigator:i,static:o=!1,future:a}=t;pa()&&it(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Zl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=fa(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:E="default"}=r,v=m.useMemo(()=>{let _=dv(h,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:E},navigationType:s}},[l,h,f,p,g,E,s]);return v==null?null:m.createElement(ei.Provider,{value:c},m.createElement(Xh.Provider,{children:n,value:v}))}function vM(t){let{children:e,location:n}=t;return rM(pg(e),n)}new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,pg(r.props.children,i));return}r.type!==Tt&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function xM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function wM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _M(t,e){return t.button===0&&(!e||e==="_self")&&!wM(t)}const EM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TM="6";try{window.__reactRouterVersion=TM}catch{}const bM="startTransition",O_=Oh[bM];function SM(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=IO({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=m.useCallback(f=>{c&&O_?O_(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(h),[o,h]),m.useEffect(()=>gM(r),[r]),m.createElement(yM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const CM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=xM(e,EM),{basename:g}=m.useContext(ei),E,v=!1;if(typeof c=="string"&&IM.test(c)&&(E=c,CM))try{let T=new URL(window.location.href),C=c.startsWith("//")?new URL(T.protocol+c):new URL(c),A=dv(C.pathname,g);C.origin===T.origin&&A!=null?c=A+C.search+C.hash:v=!0}catch{}let _=ZO(c,{relative:s}),w=PM(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function x(T){r&&r(T),T.defaultPrevented||w(T)}return m.createElement("a",mg({},p,{href:E||_,onClick:v||i?r:x,ref:n,target:l}))});var M_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(M_||(M_={}));var V_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V_||(V_={}));function PM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ti(),c=Hi(),h=TC(t,{relative:o});return m.useCallback(f=>{if(_M(f,n)){f.preventDefault();let p=r!==void 0?r:Kd(c)===Kd(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}function IC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=IC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function PC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=IC(t))&&(r&&(r+=" "),r+=e);return r}function RM(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=RC(e))&&(r&&(r+=" "),r+=n);return r}function RC(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=RC(t[r]))&&(n&&(n+=" "),n+=e);return n}var mv="-";function AM(t){var e=NM(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(a){var l=a.split(mv);return l[0]===""&&l.length!==1&&l.shift(),AC(l,e)||kM(a)}function o(a,l){var c=n[a]||[];return l&&s[a]?[].concat(c,s[a]):c}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function AC(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?AC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var i=t.join(mv);return(o=e.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:o.classGroupId}}var L_=/^\[(.+)\]$/;function kM(t){if(L_.test(t)){var e=L_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function NM(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=jM(Object.entries(t.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];gg(a,r,o,e)}),r}function gg(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var i=s===""?e:F_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(DM(s)){gg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],l=o[1];gg(l,F_(e,a),n,r)})})}function F_(t,e){var n=t;return e.split(mv).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function DM(t){return t.isThemeGetter}function jM(t,e){return e?t.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,i]}):t}function OM(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var kC="!";function MM(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(o){for(var a=[],l=0,c=0,h,f=0;f<o.length;f++){var p=o[f];if(l===0){if(p===r&&(n||o.slice(f,f+s)===e)){a.push(o.slice(c,f)),c=f+s;continue}if(p==="/"){h=f;continue}}p==="["?l++:p==="]"&&l--}var g=a.length===0?o:o.substring(c),E=g.startsWith(kC),v=E?g.substring(1):g,_=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:v,maybePostfixModifierPosition:_}}}function VM(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function LM(t){return{cache:OM(t.cacheSize),splitModifiers:MM(t),...AM(t)}}var FM=/\s+/;function $M(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(FM).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,h=a.baseClassName,f=a.maybePostfixModifierPosition,p=r(f?h.substring(0,f):h),g=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:o};if(p=r(h),!p)return{isTailwindClass:!1,originalClassName:o};g=!1}var E=VM(l).join(":"),v=c?E+kC:E;return{isTailwindClass:!0,modifierId:v,classGroupId:p,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,h=a+l;return i.has(h)?!1:(i.add(h),s(l,c).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function UM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,i,o=a;function a(c){var h=e[0],f=e.slice(1),p=f.reduce(function(g,E){return E(g)},h());return r=LM(p),s=r.cache.get,i=r.cache.set,o=l,l(c)}function l(c){var h=s(c);if(h)return h;var f=$M(c,r);return i(c,f),f}return function(){return o(RM.apply(null,arguments))}}function Le(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var NC=/^\[(?:([a-z-]+):)?(.+)\]$/i,BM=/^\d+\/\d+$/,zM=new Set(["px","full","screen"]),WM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Fn(t){return xi(t)||zM.has(t)||BM.test(t)||yg(t)}function yg(t){return qi(t,"length",JM)}function GM(t){return qi(t,"size",DC)}function KM(t){return qi(t,"position",DC)}function QM(t){return qi(t,"url",ZM)}function Iu(t){return qi(t,"number",xi)}function xi(t){return!Number.isNaN(Number(t))}function YM(t){return t.endsWith("%")&&xi(t.slice(0,-1))}function Ga(t){return $_(t)||qi(t,"number",$_)}function ge(t){return NC.test(t)}function Ka(){return!0}function cs(t){return WM.test(t)}function XM(t){return qi(t,"",eV)}function qi(t,e,n){var r=NC.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function JM(t){return HM.test(t)}function DC(){return!1}function ZM(t){return t.startsWith("url(")}function $_(t){return Number.isInteger(Number(t))}function eV(t){return qM.test(t)}function tV(){var t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),o=Le("borderSpacing"),a=Le("borderWidth"),l=Le("contrast"),c=Le("grayscale"),h=Le("hueRotate"),f=Le("invert"),p=Le("gap"),g=Le("gradientColorStops"),E=Le("gradientColorStopPositions"),v=Le("inset"),_=Le("margin"),w=Le("opacity"),x=Le("padding"),T=Le("saturate"),C=Le("scale"),A=Le("sepia"),O=Le("skew"),I=Le("space"),S=Le("translate"),P=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",ge,e]},j=function(){return[ge,e]},N=function(){return["",Fn]},L=function(){return["auto",xi,ge]},B=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},W=function(){return["solid","dashed","dotted","double","none"]},K=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},V=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",ge]},G=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Y=function(){return[xi,Iu]},le=function(){return[xi,ge]};return{cacheSize:500,theme:{colors:[Ka],spacing:[Fn],blur:["none","",cs,ge],brightness:Y(),borderColor:[t],borderRadius:["none","","full",cs,ge],borderSpacing:j(),borderWidth:N(),contrast:Y(),grayscale:z(),hueRotate:le(),invert:z(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[YM,yg],inset:D(),margin:D(),opacity:Y(),padding:j(),saturate:Y(),scale:Y(),sepia:z(),skew:le(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(B(),[ge])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ga]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Ga]}],"grid-cols":[{"grid-cols":[Ka]}],"col-start-end":[{col:["auto",{span:["full",Ga]},ge]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ka]}],"row-start-end":[{row:["auto",{span:[Ga]},ge]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(V())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(V(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(V(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,e]}],"min-w":[{"min-w":["min","max","fit",ge,Fn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[cs]},cs,ge]}],h:[{h:[ge,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,Fn]}],"max-h":[{"max-h":[ge,e,"min","max","fit"]}],"font-size":[{text:["base",cs,yg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iu]}],"font-family":[{font:[Ka]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",xi,Iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,Fn]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(W(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Fn]}],"underline-offset":[{"underline-offset":["auto",ge,Fn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(B(),[KM])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(W(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(W())}],"outline-offset":[{"outline-offset":[ge,Fn]}],"outline-w":[{outline:[Fn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Fn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cs,XM]}],"shadow-color":[{shadow:[Ka]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cs,ge]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ga,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fn,Iu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var nV=UM(tV);function he(...t){return nV(PC(t))}function U_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rV(...t){return e=>{let n=!1;const r=t.map(s=>{const i=U_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():U_(t[s],null)}}}}function ot(...t){return m.useCallback(rV(...t),t)}function ec(t){const e=iV(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(aV);if(l){const c=l.props.children,h=a.map(f=>f===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:f);return d.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var sV=ec("Slot");function iV(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n,o=m.isValidElement(s)?cV(s):void 0,a=ot(o,r);if(m.isValidElement(s)){const l=lV(i,s.props);return s.type!==m.Fragment&&(l.ref=a),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oV=Symbol("radix.slottable");function aV(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oV}function lV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const B_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z_=PC,gv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return z_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=B_(h)||B_(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(E=>{let[v,_]=E;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,f,p]:c},[]);return z_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},uV=gv("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=Z.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?sV:"button";return d.jsx(o,{className:he(uV({variant:e,size:n,className:t})),ref:i,...s})});de.displayName="Button";var dV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ee=(t,e)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},c)=>m.createElement("svg",{ref:c,...dV,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${hV(t)}`,...l},[...e.map(([h,f])=>m.createElement(h,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},yv=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),fV=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),vg=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pV=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),mV=ee("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),gV=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),jC=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),yV=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vV=ee("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),xV=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wV=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),_V=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),tc=ee("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),EV=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),OC=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),TV=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),bV=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]),SV=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),CV=ee("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),IV=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),PV=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),RV=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),nc=ee("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),AV=ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),W_=ee("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Dn=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),kV=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),MC=ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),NV=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ma=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),DV=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),jV=ee("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),OV=ee("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),MV=ee("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),vv=ee("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]),VC=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),VV=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),LV=ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),FV=ee("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),$V=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),LC=ee("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),UV=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),FC=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),$C=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),BV=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xv=ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),wv=ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Yd=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),zV=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),WV=ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),HV=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),UC=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),H_=ee("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),BC=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),q_=ee("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),qV=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Xd=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_v=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),zC=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),WC=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},qC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new KV;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QV=function(t){const e=HC(t);return qC.encodeByteArray(e,!0)},Jd=function(t){return QV(t).replace(/\./g,"")},GC=function(t){try{return qC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=()=>YV().__FIREBASE_DEFAULTS__,JV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GC(t[1]);return e&&JSON.parse(e)},Jh=()=>{try{return XV()||JV()||ZV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QC=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YC=()=>{var t;return(t=Jh())===null||t===void 0?void 0:t.config},XC=t=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Jd(JSON.stringify(n)),Jd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function nL(){var t;const e=(t=Jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oL(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aL(){return!nL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lL(){try{return typeof indexedDB=="object"}catch{return!1}}function cL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uL,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?dL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new mr(s,a,r)}}function dL(t,e){return t.replace(hL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hL=/\{\$([^}]+)}/g;function fL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(G_(i)&&G_(o)){if(!Zd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function G_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pL(t,e){const n=new mL(t,e);return n.subscribe.bind(n)}class mL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Np),s.error===void 0&&(s.error=Np),s.complete===void 0&&(s.complete=Np);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xL(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vL(t){return t===hi?void 0:t}function xL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const _L={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},EL=we.INFO,TL={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},bL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ev{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=bL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const SL=(t,e)=>e.some(n=>t instanceof n);let K_,Q_;function CL(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IL(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,xg=new WeakMap,eI=new WeakMap,Dp=new WeakMap,Tv=new WeakMap;function PL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function RL(t){if(xg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});xg.set(t,e)}let wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AL(t){wg=t(wg)}function kL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jp(this),e,...n);return eI.set(r,e.sort?e.sort():[e]),Ds(r)}:IL().includes(t)?function(...e){return t.apply(jp(this),e),Ds(ZC.get(this))}:function(...e){return Ds(t.apply(jp(this),e))}}function NL(t){return typeof t=="function"?kL(t):(t instanceof IDBTransaction&&RL(t),SL(t,CL())?new Proxy(t,wg):t)}function Ds(t){if(t instanceof IDBRequest)return PL(t);if(Dp.has(t))return Dp.get(t);const e=NL(t);return e!==t&&(Dp.set(t,e),Tv.set(e,t)),e}const jp=t=>Tv.get(t);function DL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jL=["get","getKey","getAll","getAllKeys","count"],OL=["put","add","delete","clear"],Op=new Map;function Y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=OL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jL.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Op.set(e,i),i}AL(t=>({...t,get:(e,n,r)=>Y_(e,n)||t.get(e,n,r),has:(e,n)=>!!Y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _g="@firebase/app",X_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Ev("@firebase/app"),LL="@firebase/app-compat",FL="@firebase/analytics-compat",$L="@firebase/analytics",UL="@firebase/app-check-compat",BL="@firebase/app-check",zL="@firebase/auth",WL="@firebase/auth-compat",HL="@firebase/database",qL="@firebase/data-connect",GL="@firebase/database-compat",KL="@firebase/functions",QL="@firebase/functions-compat",YL="@firebase/installations",XL="@firebase/installations-compat",JL="@firebase/messaging",ZL="@firebase/messaging-compat",e4="@firebase/performance",t4="@firebase/performance-compat",n4="@firebase/remote-config",r4="@firebase/remote-config-compat",s4="@firebase/storage",i4="@firebase/storage-compat",o4="@firebase/firestore",a4="@firebase/vertexai-preview",l4="@firebase/firestore-compat",c4="firebase",u4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",d4={[_g]:"fire-core",[LL]:"fire-core-compat",[$L]:"fire-analytics",[FL]:"fire-analytics-compat",[BL]:"fire-app-check",[UL]:"fire-app-check-compat",[zL]:"fire-auth",[WL]:"fire-auth-compat",[HL]:"fire-rtdb",[qL]:"fire-data-connect",[GL]:"fire-rtdb-compat",[KL]:"fire-fn",[QL]:"fire-fn-compat",[YL]:"fire-iid",[XL]:"fire-iid-compat",[JL]:"fire-fcm",[ZL]:"fire-fcm-compat",[e4]:"fire-perf",[t4]:"fire-perf-compat",[n4]:"fire-rc",[r4]:"fire-rc-compat",[s4]:"fire-gcs",[i4]:"fire-gcs-compat",[o4]:"fire-fst",[l4]:"fire-fst-compat",[a4]:"fire-vertex","fire-js":"fire-js",[c4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,h4=new Map,Tg=new Map;function J_(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ki(t){const e=t.name;if(Tg.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,t);for(const n of eh.values())J_(n,t);for(const n of h4.values())J_(n,t);return!0}function Zh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new bc("app","Firebase",f4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=u4;function tI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw js.create("bad-app-name",{appName:String(s)});if(n||(n=YC()),!n)throw js.create("no-options");const i=eh.get(s);if(i){if(Zd(n,i.options)&&Zd(r,i.config))return i;throw js.create("duplicate-app",{appName:s})}const o=new wL(s);for(const l of Tg.values())o.addComponent(l);const a=new p4(n,r,o);return eh.set(s,a),a}function bv(t=Eg){const e=eh.get(t);if(!e&&t===Eg&&YC())return tI();if(!e)throw js.create("no-app",{appName:t});return e}function ir(t,e,n){var r;let s=(r=d4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}ki(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="firebase-heartbeat-database",g4=1,rc="firebase-heartbeat-store";let Mp=null;function nI(){return Mp||(Mp=DL(m4,g4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),Mp}async function y4(t){try{const n=(await nI()).transaction(rc),r=await n.objectStore(rc).get(rI(t));return await n.done,r}catch(e){if(e instanceof mr)Wr.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function Z_(t,e){try{const r=(await nI()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,rI(t)),await r.done}catch(n){if(n instanceof mr)Wr.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function rI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1024,x4=30*24*60*60*1e3;class w4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=e1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=x4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e1(),{heartbeatsToSend:r,unsentEntries:s}=_4(this._heartbeatsCache.heartbeats),i=Jd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Wr.warn(n),""}}}function e1(){return new Date().toISOString().substring(0,10)}function _4(t,e=v4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),t1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),t1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lL()?cL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function t1(t){return Jd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){ki(new Bs("platform-logger",e=>new ML(e),"PRIVATE")),ki(new Bs("heartbeat",e=>new w4(e),"PRIVATE")),ir(_g,X_,t),ir(_g,X_,"esm2017"),ir("fire-js","")}T4("");var b4="firebase",S4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(b4,S4,"app");var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,sI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.D=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(k,D,j){for(var N=Array(arguments.length-2),L=2;L<arguments.length;L++)N[L-2]=arguments[L];return S.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,P){P||(P=0);var k=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)k[D]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(D=0;16>D;++D)k[D]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],D=I.g[2];var j=I.g[3],N=S+(j^P&(D^j))+k[0]+3614090360&4294967295;S=P+(N<<7&4294967295|N>>>25),N=j+(D^S&(P^D))+k[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=D+(P^j&(S^P))+k[2]+606105819&4294967295,D=j+(N<<17&4294967295|N>>>15),N=P+(S^D&(j^S))+k[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(j^P&(D^j))+k[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(D^S&(P^D))+k[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=D+(P^j&(S^P))+k[6]+2821735955&4294967295,D=j+(N<<17&4294967295|N>>>15),N=P+(S^D&(j^S))+k[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(j^P&(D^j))+k[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(D^S&(P^D))+k[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=D+(P^j&(S^P))+k[10]+4294925233&4294967295,D=j+(N<<17&4294967295|N>>>15),N=P+(S^D&(j^S))+k[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(j^P&(D^j))+k[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=j+(D^S&(P^D))+k[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=D+(P^j&(S^P))+k[14]+2792965006&4294967295,D=j+(N<<17&4294967295|N>>>15),N=P+(S^D&(j^S))+k[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(D^j&(P^D))+k[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^D&(S^P))+k[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(j^S))+k[11]+643717713&4294967295,D=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(D^j))+k[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^j&(P^D))+k[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^D&(S^P))+k[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(j^S))+k[15]+3634488961&4294967295,D=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(D^j))+k[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^j&(P^D))+k[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^D&(S^P))+k[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(j^S))+k[3]+4107603335&4294967295,D=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(D^j))+k[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^j&(P^D))+k[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=j+(P^D&(S^P))+k[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(j^S))+k[7]+1735328473&4294967295,D=j+(N<<14&4294967295|N>>>18),N=P+(j^S&(D^j))+k[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(P^D^j)+k[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^D)+k[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=D+(j^S^P)+k[11]+1839030562&4294967295,D=j+(N<<16&4294967295|N>>>16),N=P+(D^j^S)+k[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^j)+k[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^D)+k[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=D+(j^S^P)+k[7]+4139469664&4294967295,D=j+(N<<16&4294967295|N>>>16),N=P+(D^j^S)+k[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^j)+k[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^D)+k[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=D+(j^S^P)+k[3]+3572445317&4294967295,D=j+(N<<16&4294967295|N>>>16),N=P+(D^j^S)+k[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^j)+k[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=j+(S^P^D)+k[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=D+(j^S^P)+k[15]+530742520&4294967295,D=j+(N<<16&4294967295|N>>>16),N=P+(D^j^S)+k[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(D^(P|~j))+k[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~D))+k[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=D+(S^(j|~P))+k[14]+2878612391&4294967295,D=j+(N<<15&4294967295|N>>>17),N=P+(j^(D|~S))+k[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~j))+k[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~D))+k[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=D+(S^(j|~P))+k[10]+4293915773&4294967295,D=j+(N<<15&4294967295|N>>>17),N=P+(j^(D|~S))+k[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~j))+k[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~D))+k[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=D+(S^(j|~P))+k[6]+2734768916&4294967295,D=j+(N<<15&4294967295|N>>>17),N=P+(j^(D|~S))+k[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~j))+k[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=j+(P^(S|~D))+k[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=D+(S^(j|~P))+k[2]+718787259&4294967295,D=j+(N<<15&4294967295|N>>>17),N=P+(j^(D|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var P=S-this.blockSize,k=this.B,D=this.h,j=0;j<S;){if(D==0)for(;j<=P;)s(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<S;)if(k[D++]=I.charCodeAt(j++),D==this.blockSize){s(this,k),D=0;break}}else for(;j<S;)if(k[D++]=I[j++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var P=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=P&255,P/=256;for(this.u(I),I=Array(16),S=P=0;4>S;++S)for(var k=0;32>k;k+=8)I[P++]=this.g[S]>>>k&255;return I};function i(I,S){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function o(I,S){this.h=S;for(var P=[],k=!0,D=I.length-1;0<=D;D--){var j=I[D]|0;k&&j==S||(P[D]=j,k=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return _(c(-I));for(var S=[],P=1,k=0;I>=P;k++)S[k]=I/P|0,P*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return _(h(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(S,8)),k=f,D=0;D<I.length;D+=8){var j=Math.min(8,I.length-D),N=parseInt(I.substring(D,D+j),S);8>j?(j=c(Math.pow(S,j)),k=k.j(j).add(c(N))):(k=k.j(P),k=k.add(c(N)))}return k}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var I=0,S=1,P=0;P<this.g.length;P++){var k=this.i(P);I+=(0<=k?k:4294967296+k)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(v(this))return"-"+_(this).toString(I);for(var S=c(Math.pow(I,6)),P=this,k="";;){var D=C(P,S).g;P=w(P,D.j(S));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=D,E(P))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=w(this,I),v(I)?-1:E(I)?0:1};function _(I){for(var S=I.g.length,P=[],k=0;k<S;k++)P[k]=~I.g[k];return new o(P,~I.h).add(p)}t.abs=function(){return v(this)?_(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0,D=0;D<=S;D++){var j=k+(this.i(D)&65535)+(I.i(D)&65535),N=(j>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=N>>>16,j&=65535,N&=65535,P[D]=N<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(I,S){return I.add(_(S))}t.j=function(I){if(E(this)||E(I))return f;if(v(this))return v(I)?_(this).j(_(I)):_(_(this).j(I));if(v(I))return _(this.j(_(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var S=this.g.length+I.g.length,P=[],k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<I.g.length;D++){var j=this.i(k)>>>16,N=this.i(k)&65535,L=I.i(D)>>>16,B=I.i(D)&65535;P[2*k+2*D]+=N*B,x(P,2*k+2*D),P[2*k+2*D+1]+=j*B,x(P,2*k+2*D+1),P[2*k+2*D+1]+=N*L,x(P,2*k+2*D+1),P[2*k+2*D+2]+=j*L,x(P,2*k+2*D+2)}for(k=0;k<S;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=S;k<2*S;k++)P[k]=0;return new o(P,0)};function x(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function T(I,S){this.g=I,this.h=S}function C(I,S){if(E(S))throw Error("division by zero");if(E(I))return new T(f,f);if(v(I))return S=C(_(I),S),new T(_(S.g),_(S.h));if(v(S))return S=C(I,_(S)),new T(_(S.g),S.h);if(30<I.g.length){if(v(I)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=p,k=S;0>=k.l(I);)P=A(P),k=A(k);var D=O(P,1),j=O(k,1);for(k=O(k,2),P=O(P,2);!E(k);){var N=j.add(k);0>=N.l(I)&&(D=D.add(P),j=N),k=O(k,1),P=O(P,1)}return S=w(I,D.j(S)),new T(D,S)}for(D=f;0<=I.l(S);){for(P=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=c(P),N=j.j(S);v(N)||0<N.l(I);)P-=k,j=c(P),N=j.j(S);E(j)&&(j=p),D=D.add(j),I=w(I,N)}return new T(D,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)&I.i(k);return new o(P,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)|I.i(k);return new o(P,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)^I.i(k);return new o(P,this.h^I.h)};function A(I){for(var S=I.g.length+1,P=[],k=0;k<S;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(P,I.h)}function O(I,S){var P=S>>5;S%=32;for(var k=I.g.length-P,D=[],j=0;j<k;j++)D[j]=0<S?I.i(j+P)>>>S|I.i(j+P+1)<<32-S:I.i(j+P);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Si=o}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iI,il,oI,cd,bg,aI,lI,cI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,b){return u==Array.prototype||u==Object.prototype||(u[y]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var y=0;y<u.length;++y){var b=u[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,y){if(y)e:{var b=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var M=u[R];if(!(M in b))break e;b=b[M]}u=u[u.length-1],R=b[u],y=y(R),y!=R&&y!=null&&e(b,u,{configurable:!0,writable:!0,value:y})}}function i(u,y){u instanceof String&&(u+="");var b=0,R=!1,M={next:function(){if(!R&&b<u.length){var F=b++;return{value:y(F,u[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function c(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function h(u,y,b){return u.call.apply(u.bind,arguments)}function f(u,y,b){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),u.apply(y,M)}}return function(){return u.apply(y,arguments)}}function p(u,y,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,y){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function E(u,y){function b(){}b.prototype=y.prototype,u.aa=y.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(R,M,F){for(var q=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)q[Ne-2]=arguments[Ne];return y.prototype[M].apply(R,q)}}function v(u){const y=u.length;if(0<y){const b=Array(y);for(let R=0;R<y;R++)b[R]=u[R];return b}return[]}function _(u,y){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const M=u.length||0,F=R.length||0;u.length=M+F;for(let q=0;q<F;q++)u[M+q]=R[q]}else u.push(R)}}class w{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,y,b){for(const R in u)y.call(b,u[R],R,u)}function I(u,y){for(const b in u)y.call(void 0,u[b],b,u)}function S(u){const y={};for(const b in u)y[b]=u[b];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,y){let b,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(b in R)u[b]=R[b];for(let F=0;F<P.length;F++)b=P[F],Object.prototype.hasOwnProperty.call(R,b)&&(u[b]=R[b])}}function D(u){var y=1;u=u.split(":");const b=[];for(;0<y&&u.length;)b.push(u.shift()),y--;return u.length&&b.push(u.join(":")),b}function j(u){a.setTimeout(()=>{throw u},0)}function N(){var u=z;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class L{constructor(){this.h=this.g=null}add(y,b){const R=B.get();R.set(y,b),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new w(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let K,V=!1,z=new L,G=()=>{const u=a.Promise.resolve(void 0);K=()=>{u.then(Y)}};var Y=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(b){j(b)}var y=B;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}V=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,y),a.removeEventListener("test",b,y)}catch{}return u}();function Xe(u,y){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(A){e:{try{C(y.nodeName);var M=!0;break e}catch{}M=!1}M||(y=null)}}else b=="mouseover"?y=u.fromElement:b=="mouseout"&&(y=u.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ke[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Xe.aa.h.call(this)}}E(Xe,ie);var ke={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Re=0;function ze(u,y,b,R,M){this.listener=u,this.proxy=null,this.src=y,this.type=b,this.capture=!!R,this.ha=M,this.key=++Re,this.da=this.fa=!1}function xe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,y,b,R,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var q=wt(u,y,R,M);return-1<q?(y=u[q],b||(y.fa=!1)):(y=new ze(y,this.src,F,!!R,M),y.fa=b,u.push(y)),y};function Te(u,y){var b=y.type;if(b in u.g){var R=u.g[b],M=Array.prototype.indexOf.call(R,y,void 0),F;(F=0<=M)&&Array.prototype.splice.call(R,M,1),F&&(xe(y),u.g[b].length==0&&(delete u.g[b],u.h--))}}function wt(u,y,b,R){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==y&&F.capture==!!b&&F.ha==R)return M}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),dn={};function vr(u,y,b,R,M){if(R&&R.once)return qc(u,y,b,R,M);if(Array.isArray(y)){for(var F=0;F<y.length;F++)vr(u,y[F],b,R,M);return null}return b=Bf(b),u&&u[te]?u.K(y,b,c(R)?!!R.capture:!!R,M):rs(u,y,b,!1,R,M)}function rs(u,y,b,R,M,F){if(!y)throw Error("Invalid event type");var q=c(M)?!!M.capture:!!M,Ne=$f(u);if(Ne||(u[_t]=Ne=new fe(u)),b=Ne.add(y,b,R,q,F),b.proxy)return b;if(R=Ff(),b.proxy=R,R.src=u,R.listener=b,u.addEventListener)Be||(M=q),M===void 0&&(M=!1),u.addEventListener(y.toString(),R,M);else if(u.attachEvent)u.attachEvent(bx(y.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ff(){function u(b){return y.call(u.src,u.listener,b)}const y=P2;return u}function qc(u,y,b,R,M){if(Array.isArray(y)){for(var F=0;F<y.length;F++)qc(u,y[F],b,R,M);return null}return b=Bf(b),u&&u[te]?u.L(y,b,c(R)?!!R.capture:!!R,M):rs(u,y,b,!0,R,M)}function Gc(u,y,b,R,M){if(Array.isArray(y))for(var F=0;F<y.length;F++)Gc(u,y[F],b,R,M);else R=c(R)?!!R.capture:!!R,b=Bf(b),u&&u[te]?(u=u.i,y=String(y).toString(),y in u.g&&(F=u.g[y],b=wt(F,b,R,M),-1<b&&(xe(F[b]),Array.prototype.splice.call(F,b,1),F.length==0&&(delete u.g[y],u.h--)))):u&&(u=$f(u))&&(y=u.g[y.toString()],u=-1,y&&(u=wt(y,b,R,M)),(b=-1<u?y[u]:null)&&ss(b))}function ss(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[te])Te(y.i,u);else{var b=u.type,R=u.proxy;y.removeEventListener?y.removeEventListener(b,R,u.capture):y.detachEvent?y.detachEvent(bx(b),R):y.addListener&&y.removeListener&&y.removeListener(R),(b=$f(y))?(Te(b,u),b.h==0&&(b.src=null,y[_t]=null)):xe(u)}}}function bx(u){return u in dn?dn[u]:dn[u]="on"+u}function P2(u,y){if(u.da)u=!0;else{y=new Xe(y,this);var b=u.listener,R=u.ha||u.src;u.fa&&ss(u),u=b.call(R,y)}return u}function $f(u){return u=u[_t],u instanceof fe?u:null}var Uf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bf(u){return typeof u=="function"?u:(u[Uf]||(u[Uf]=function(y){return u.handleEvent(y)}),u[Uf])}function kt(){le.call(this),this.i=new fe(this),this.M=this,this.F=null}E(kt,le),kt.prototype[te]=!0,kt.prototype.removeEventListener=function(u,y,b,R){Gc(this,u,y,b,R)};function Ht(u,y){var b,R=u.F;if(R)for(b=[];R;R=R.F)b.push(R);if(u=u.M,R=y.type||y,typeof y=="string")y=new ie(y,u);else if(y instanceof ie)y.target=y.target||u;else{var M=y;y=new ie(R,u),k(y,M)}if(M=!0,b)for(var F=b.length-1;0<=F;F--){var q=y.g=b[F];M=Kc(q,R,!0,y)&&M}if(q=y.g=u,M=Kc(q,R,!0,y)&&M,M=Kc(q,R,!1,y)&&M,b)for(F=0;F<b.length;F++)q=y.g=b[F],M=Kc(q,R,!1,y)&&M}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var b=u.g[y],R=0;R<b.length;R++)xe(b[R]);delete u.g[y],u.h--}}this.F=null},kt.prototype.K=function(u,y,b,R){return this.i.add(String(u),y,!1,b,R)},kt.prototype.L=function(u,y,b,R){return this.i.add(String(u),y,!0,b,R)};function Kc(u,y,b,R){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var M=!0,F=0;F<y.length;++F){var q=y[F];if(q&&!q.da&&q.capture==b){var Ne=q.listener,Et=q.ha||q.src;q.fa&&Te(u.i,q),M=Ne.call(Et,R)!==!1&&M}}return M&&!R.defaultPrevented}function Sx(u,y,b){if(typeof u=="function")b&&(u=p(u,b));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(u,y||0)}function Cx(u){u.g=Sx(()=>{u.g=null,u.i&&(u.i=!1,Cx(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class R2 extends le{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cx(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(u){le.call(this),this.h=u,this.g={}}E(Ca,le);var Ix=[];function Px(u){O(u.g,function(y,b){this.g.hasOwnProperty(b)&&ss(y)},u),u.g={}}Ca.prototype.N=function(){Ca.aa.N.call(this),Px(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zf=a.JSON.stringify,A2=a.JSON.parse,k2=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Wf(){}Wf.prototype.h=null;function Rx(u){return u.h||(u.h=u.i())}function Ax(){}var Ia={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hf(){ie.call(this,"d")}E(Hf,ie);function qf(){ie.call(this,"c")}E(qf,ie);var ii={},kx=null;function Qc(){return kx=kx||new kt}ii.La="serverreachability";function Nx(u){ie.call(this,ii.La,u)}E(Nx,ie);function Pa(u){const y=Qc();Ht(y,new Nx(y))}ii.STAT_EVENT="statevent";function Dx(u,y){ie.call(this,ii.STAT_EVENT,u),this.stat=y}E(Dx,ie);function qt(u){const y=Qc();Ht(y,new Dx(y,u))}ii.Ma="timingevent";function jx(u,y){ie.call(this,ii.Ma,u),this.size=y}E(jx,ie);function Ra(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},y)}function Aa(){this.g=!0}Aa.prototype.xa=function(){this.g=!1};function N2(u,y,b,R,M,F){u.info(function(){if(u.g)if(F)for(var q="",Ne=F.split("&"),Et=0;Et<Ne.length;Et++){var Ce=Ne[Et].split("=");if(1<Ce.length){var Nt=Ce[0];Ce=Ce[1];var Dt=Nt.split("_");q=2<=Dt.length&&Dt[1]=="type"?q+(Nt+"="+Ce+"&"):q+(Nt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+y+`
`+b+`
`+q})}function D2(u,y,b,R,M,F,q){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+y+`
`+b+`
`+F+" "+q})}function ro(u,y,b,R){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+O2(u,b)+(R?" "+R:"")})}function j2(u,y){u.info(function(){return"TIMEOUT: "+y})}Aa.prototype.info=function(){};function O2(u,y){if(!u.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var R=b[u];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return zf(b)}catch{return y}}var Yc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ox={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gf;function Xc(){}E(Xc,Wf),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},Gf=new Xc;function is(u,y,b,R){this.j=u,this.i=y,this.l=b,this.R=R||1,this.U=new Ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mx}function Mx(){this.i=null,this.g="",this.h=!1}var Vx={},Kf={};function Qf(u,y,b){u.L=1,u.v=tu(xr(y)),u.m=b,u.P=!0,Lx(u,null)}function Lx(u,y){u.F=Date.now(),Jc(u),u.A=xr(u.v);var b=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),Jx(b.i,"t",R),u.C=0,b=u.j.J,u.h=new Mx,u.g=gw(u.j,b?y:null,!u.m),0<u.O&&(u.M=new R2(p(u.Y,u,u.g),u.O)),y=u.U,b=u.g,R=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ix[0]=M.toString()),M=Ix);for(var F=0;F<M.length;F++){var q=vr(b,M[F],R||y.handleEvent,!1,y.h||y);if(!q)break;y.g[q.key]=q}y=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),Pa(),N2(u.i,u.u,u.A,u.l,u.R,u.m)}is.prototype.ca=function(u){u=u.target;const y=this.M;y&&wr(u)==3?y.j():this.Y(u)},is.prototype.Y=function(u){try{if(u==this.g)e:{const Dt=wr(this.g);var y=this.g.Ba();const oo=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||iw(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=oo?Pa(3):Pa(2)),Yf(this);var b=this.g.Z();this.X=b;t:if(Fx(this)){var R=iw(this.g);u="";var M=R.length,F=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),ka(this);var q="";break t}this.h.i=new a.TextDecoder}for(y=0;y<M;y++)this.h.h=!0,u+=this.h.i.decode(R[y],{stream:!(F&&y==M-1)});R.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=b==200,D2(this.i,this.u,this.A,this.l,this.R,Dt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,Et=this.g;if((Ne=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ne)){var Ce=Ne;break t}}Ce=null}if(b=Ce)ro(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xf(this,b);else{this.o=!1,this.s=3,qt(12),oi(this),ka(this);break e}}if(this.P){b=!0;let Vn;for(;!this.J&&this.C<q.length;)if(Vn=M2(this,q),Vn==Kf){Dt==4&&(this.s=4,qt(14),b=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Vx){this.s=4,qt(15),ro(this.i,this.l,q,"[Invalid Chunk]"),b=!1;break}else ro(this.i,this.l,Vn,null),Xf(this,Vn);if(Fx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||q.length!=0||this.h.h||(this.s=1,qt(16),b=!1),this.o=this.o&&b,!b)ro(this.i,this.l,q,"[Invalid Chunked Response]"),oi(this),ka(this);else if(0<q.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),rp(Nt),Nt.M=!0,qt(11))}}else ro(this.i,this.l,q,null),Xf(this,q);Dt==4&&oi(this),this.o&&!this.J&&(Dt==4?hw(this.j,this):(this.o=!1,Jc(this)))}else Z2(this.g),b==400&&0<q.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),oi(this),ka(this)}}}catch{}finally{}};function Fx(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function M2(u,y){var b=u.C,R=y.indexOf(`
`,b);return R==-1?Kf:(b=Number(y.substring(b,R)),isNaN(b)?Vx:(R+=1,R+b>y.length?Kf:(y=y.slice(R,R+b),u.C=R+b,y)))}is.prototype.cancel=function(){this.J=!0,oi(this)};function Jc(u){u.S=Date.now()+u.I,$x(u,u.I)}function $x(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ra(p(u.ba,u),y)}function Yf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}is.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(j2(this.i,this.A),this.L!=2&&(Pa(),qt(17)),oi(this),this.s=2,ka(this)):$x(this,this.S-u)};function ka(u){u.j.G==0||u.J||hw(u.j,u)}function oi(u){Yf(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Px(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Xf(u,y){try{var b=u.j;if(b.G!=0&&(b.g==u||Jf(b.h,u))){if(!u.K&&Jf(b.h,u)&&b.G==3){try{var R=b.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)au(b),iu(b);else break e;np(b),qt(18)}}else b.za=M[1],0<b.za-b.T&&37500>M[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ra(p(b.Za,b),6e3));if(1>=zx(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else li(b,11)}else if((u.K||b.g==u)&&au(b),!x(y))for(M=b.Da.g.parse(y),y=0;y<M.length;y++){let Ce=M[y];if(b.T=Ce[0],Ce=Ce[1],b.G==2)if(Ce[0]=="c"){b.K=Ce[1],b.ia=Ce[2];const Nt=Ce[3];Nt!=null&&(b.la=Nt,b.j.info("VER="+b.la));const Dt=Ce[4];Dt!=null&&(b.Aa=Dt,b.j.info("SVER="+b.Aa));const oo=Ce[5];oo!=null&&typeof oo=="number"&&0<oo&&(R=1.5*oo,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Vn=u.g;if(Vn){const cu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var F=R.h;F.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zf(F,F.h),F.h=null))}if(R.D){const sp=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;sp&&(R.ya=sp,Ve(R.I,R.D,sp))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var q=u;if(R.qa=mw(R,R.J?R.ia:null,R.W),q.K){Wx(R.h,q);var Ne=q,Et=R.L;Et&&(Ne.I=Et),Ne.B&&(Yf(Ne),Jc(Ne)),R.g=q}else uw(R);0<b.i.length&&ou(b)}else Ce[0]!="stop"&&Ce[0]!="close"||li(b,7);else b.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?li(b,7):tp(b):Ce[0]!="noop"&&b.l&&b.l.ta(Ce),b.v=0)}}Pa(4)}catch{}}var V2=class{constructor(u,y){this.g=u,this.map=y}};function Ux(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zx(u){return u.h?1:u.g?u.g.size:0}function Jf(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Zf(u,y){u.g?u.g.add(y):u.h=y}function Wx(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Ux.prototype.cancel=function(){if(this.i=Hx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const b of u.g.values())y=y.concat(b.D);return y}return v(u.i)}function L2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var y=[],b=u.length,R=0;R<b;R++)y.push(u[R]);return y}y=[],b=0;for(R in u)y[b++]=u[R];return y}function F2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var y=[];u=u.length;for(var b=0;b<u;b++)y.push(b);return y}y=[],b=0;for(const R in u)y[b++]=R;return y}}}function qx(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var b=F2(u),R=L2(u),M=R.length,F=0;F<M;F++)y.call(void 0,R[F],b&&b[F],u)}var Gx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $2(u,y){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var R=u[b].indexOf("="),M=null;if(0<=R){var F=u[b].substring(0,R);M=u[b].substring(R+1)}else F=u[b];y(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ai(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ai){this.h=u.h,Zc(this,u.j),this.o=u.o,this.g=u.g,eu(this,u.s),this.l=u.l;var y=u.i,b=new ja;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Kx(this,b),this.m=u.m}else u&&(y=String(u).match(Gx))?(this.h=!1,Zc(this,y[1]||"",!0),this.o=Na(y[2]||""),this.g=Na(y[3]||"",!0),eu(this,y[4]),this.l=Na(y[5]||"",!0),Kx(this,y[6]||"",!0),this.m=Na(y[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}ai.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Da(y,Qx,!0),":");var b=this.g;return(b||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Da(y,Qx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Da(b,b.charAt(0)=="/"?z2:B2,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Da(b,H2)),u.join("")};function xr(u){return new ai(u)}function Zc(u,y,b){u.j=b?Na(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function eu(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function Kx(u,y,b){y instanceof ja?(u.i=y,q2(u.i,u.h)):(b||(y=Da(y,W2)),u.i=new ja(y,u.h))}function Ve(u,y,b){u.i.set(y,b)}function tu(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Na(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Da(u,y,b){return typeof u=="string"?(u=encodeURI(u).replace(y,U2),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function U2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qx=/[#\/\?@]/g,B2=/[#\?:]/g,z2=/[#\?]/g,W2=/[#\?@]/g,H2=/#/g;function ja(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function os(u){u.g||(u.g=new Map,u.h=0,u.i&&$2(u.i,function(y,b){u.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}t=ja.prototype,t.add=function(u,y){os(this),this.i=null,u=so(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(y),this.h+=1,this};function Yx(u,y){os(u),y=so(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Xx(u,y){return os(u),y=so(u,y),u.g.has(y)}t.forEach=function(u,y){os(this),this.g.forEach(function(b,R){b.forEach(function(M){u.call(y,M,R,this)},this)},this)},t.na=function(){os(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let R=0;R<y.length;R++){const M=u[R];for(let F=0;F<M.length;F++)b.push(y[R])}return b},t.V=function(u){os(this);let y=[];if(typeof u=="string")Xx(this,u)&&(y=y.concat(this.g.get(so(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)y=y.concat(u[b])}return y},t.set=function(u,y){return os(this),this.i=null,u=so(this,u),Xx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},t.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function Jx(u,y,b){Yx(u,y),0<b.length&&(u.i=null,u.g.set(so(u,y),v(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var R=y[b];const F=encodeURIComponent(String(R)),q=this.V(R);for(R=0;R<q.length;R++){var M=F;q[R]!==""&&(M+="="+encodeURIComponent(String(q[R]))),u.push(M)}}return this.i=u.join("&")};function so(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function q2(u,y){y&&!u.j&&(os(u),u.i=null,u.g.forEach(function(b,R){var M=R.toLowerCase();R!=M&&(Yx(this,R),Jx(this,M,b))},u)),u.j=y}function G2(u,y){const b=new Aa;if(a.Image){const R=new Image;R.onload=g(as,b,"TestLoadImage: loaded",!0,y,R),R.onerror=g(as,b,"TestLoadImage: error",!1,y,R),R.onabort=g(as,b,"TestLoadImage: abort",!1,y,R),R.ontimeout=g(as,b,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else y(!1)}function K2(u,y){const b=new Aa,R=new AbortController,M=setTimeout(()=>{R.abort(),as(b,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:R.signal}).then(F=>{clearTimeout(M),F.ok?as(b,"TestPingServer: ok",!0,y):as(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(M),as(b,"TestPingServer: error",!1,y)})}function as(u,y,b,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(b)}catch{}}function Q2(){this.g=new k2}function Y2(u,y,b){const R=b||"";try{qx(u,function(M,F){let q=M;c(M)&&(q=zf(M)),y.push(R+F+"="+encodeURIComponent(q))})}catch(M){throw y.push(R+"type="+encodeURIComponent("_badmap")),M}}function nu(u){this.l=u.Ub||null,this.j=u.eb||!1}E(nu,Wf),nu.prototype.g=function(){return new ru(this.l,this.j)},nu.prototype.i=function(u){return function(){return u}}({});function ru(u,y){kt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ru,kt),t=ru.prototype,t.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,Ma(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Oa(this):Ma(this),this.readyState==3&&Zx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Oa(this))},t.Qa=function(u){this.g&&(this.response=u,Oa(this))},t.ga=function(){this.g&&Oa(this)};function Oa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ma(u)}t.setRequestHeader=function(u,y){this.u.append(u,y)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=y.next();return u.join(`\r
`)};function Ma(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ew(u){let y="";return O(u,function(b,R){y+=R,y+=":",y+=b,y+=`\r
`}),y}function ep(u,y,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ew(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Ve(u,y,b))}function Je(u){kt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Je,kt);var X2=/^https?$/i,J2=["POST","PUT"];t=Je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,y,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gf.g(),this.v=this.o?Rx(this.o):Rx(Gf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(F){tw(this,F);return}if(u=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)b.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())b.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(J2,y,void 0))||R||M||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,q]of b)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sw(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){tw(this,F)}};function tw(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,nw(u),su(u)}function nw(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),su(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rw(this):this.bb())},t.bb=function(){rw(this)};function rw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||wr(u)!=4||u.Z()!=2)){if(u.u&&wr(u)==4)Sx(u.Ea,0,u);else if(Ht(u,"readystatechange"),wr(u)==4){u.h=!1;try{const q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var R;if(R=q===0){var M=String(u.D).match(Gx)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!X2.test(M?M.toLowerCase():"")}b=R}if(b)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var F=2<wr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",nw(u)}}finally{su(u)}}}}function su(u,y){if(u.g){sw(u);const b=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||Ht(u,"ready");try{b.onreadystatechange=R}catch{}}}function sw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),A2(y)}};function iw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Z2(u){const y={};u=(u.g&&2<=wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(x(u[R]))continue;var b=D(u[R]);const M=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=y[M]||[];y[M]=F,F.push(b)}I(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(u,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||y}function ow(u){this.Aa=0,this.i=[],this.j=new Aa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,u),this.cb=Va("retryDelaySeedMs",1e4,u),this.Wa=Va("forwardChannelMaxRetries",2,u),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ux(u&&u.concurrentRequestLimit),this.Da=new Q2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ow.prototype,t.la=8,t.G=1,t.connect=function(u,y,b,R){qt(0),this.W=u,this.H=y||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=mw(this,null,this.W),ou(this)};function tp(u){if(aw(u),u.G==3){var y=u.U++,b=xr(u.I);if(Ve(b,"SID",u.K),Ve(b,"RID",y),Ve(b,"TYPE","terminate"),La(u,b),y=new is(u,u.j,y),y.L=2,y.v=tu(xr(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=y.v,b=!0),b||(y.g=gw(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Jc(y)}pw(u)}function iu(u){u.g&&(rp(u),u.g.cancel(),u.g=null)}function aw(u){iu(u),u.u&&(a.clearTimeout(u.u),u.u=null),au(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ou(u){if(!Bx(u.h)&&!u.s){u.s=!0;var y=u.Ga;K||G(),V||(K(),V=!0),z.add(y,u),u.B=0}}function eD(u,y){return zx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ra(p(u.Ga,u,y),fw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new is(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=cw(this,M,y),b=xr(this.I),Ve(b,"RID",u),Ve(b,"CVER",22),this.D&&Ve(b,"X-HTTP-Session-Id",this.D),La(this,b),F&&(this.O?y="headers="+encodeURIComponent(String(ew(F)))+"&"+y:this.m&&ep(b,this.m,F)),Zf(this.h,M),this.Ua&&Ve(b,"TYPE","init"),this.P?(Ve(b,"$req",y),Ve(b,"SID","null"),M.T=!0,Qf(M,b,null)):Qf(M,b,y),this.G=2}}else this.G==3&&(u?lw(this,u):this.i.length==0||Bx(this.h)||lw(this))};function lw(u,y){var b;y?b=y.l:b=u.U++;const R=xr(u.I);Ve(R,"SID",u.K),Ve(R,"RID",b),Ve(R,"AID",u.T),La(u,R),u.m&&u.o&&ep(R,u.m,u.o),b=new is(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),y&&(u.i=y.D.concat(u.i)),y=cw(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zf(u.h,b),Qf(b,R,y)}function La(u,y){u.H&&O(u.H,function(b,R){Ve(y,R,b)}),u.l&&qx({},function(b,R){Ve(y,R,b)})}function cw(u,y,b){b=Math.min(u.i.length,b);var R=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const q=["count="+b];F==-1?0<b?(F=M[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let Ne=!0;for(let Et=0;Et<b;Et++){let Ce=M[Et].g;const Nt=M[Et].map;if(Ce-=F,0>Ce)F=Math.max(0,M[Et].g-100),Ne=!1;else try{Y2(Nt,q,"req"+Ce+"_")}catch{R&&R(Nt)}}if(Ne){R=q.join("&");break e}}}return u=u.i.splice(0,b),y.D=u,R}function uw(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;K||G(),V||(K(),V=!0),z.add(y,u),u.v=0}}function np(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ra(p(u.Fa,u),fw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,dw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ra(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),iu(this),dw(this))};function rp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function dw(u){u.g=new is(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=xr(u.qa);Ve(y,"RID","rpc"),Ve(y,"SID",u.K),Ve(y,"AID",u.T),Ve(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(y,"TO",u.ja),Ve(y,"TYPE","xmlhttp"),La(u,y),u.m&&u.o&&ep(y,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=tu(xr(y)),b.m=null,b.P=!0,Lx(b,u)}t.Za=function(){this.C!=null&&(this.C=null,iu(this),np(this),qt(19))};function au(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function hw(u,y){var b=null;if(u.g==y){au(u),rp(u),u.g=null;var R=2}else if(Jf(u.h,y))b=y.D,Wx(u.h,y),R=1;else return;if(u.G!=0){if(y.o)if(R==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var M=u.B;R=Qc(),Ht(R,new jx(R,b)),ou(u)}else uw(u);else if(M=y.s,M==3||M==0&&0<y.X||!(R==1&&eD(u,y)||R==2&&np(u)))switch(b&&0<b.length&&(y=u.h,y.i=y.i.concat(b)),M){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function fw(u,y){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*y}function li(u,y){if(u.j.info("Error code "+y),y==2){var b=p(u.fb,u),R=u.Xa;const M=!R;R=new ai(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zc(R,"https"),tu(R),M?G2(R.toString(),b):K2(R.toString(),b)}else qt(2);u.G=0,u.l&&u.l.sa(y),pw(u),aw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function pw(u){if(u.G=0,u.ka=[],u.l){const y=Hx(u.h);(y.length!=0||u.i.length!=0)&&(_(u.ka,y),_(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function mw(u,y,b){var R=b instanceof ai?xr(b):new ai(b);if(R.g!="")y&&(R.g=y+"."+R.g),eu(R,R.s);else{var M=a.location;R=M.protocol,y=y?y+"."+M.hostname:M.hostname,M=+M.port;var F=new ai(null);R&&Zc(F,R),y&&(F.g=y),M&&eu(F,M),b&&(F.l=b),R=F}return b=u.D,y=u.ya,b&&y&&Ve(R,b,y),Ve(R,"VER",u.la),La(u,R),R}function gw(u,y,b){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Je(new nu({eb:b})):new Je(u.pa),y.Ha(u.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yw(){}t=yw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lu(){}lu.prototype.g=function(u,y){return new hn(u,y)};function hn(u,y){kt.call(this),this.g=new ow(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!x(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new io(this)}E(hn,kt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){tp(this.g)},hn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=zf(u),u=b);y.i.push(new V2(y.Ya++,u)),y.G==3&&ou(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,tp(this.g),delete this.g,hn.aa.N.call(this)};function vw(u){Hf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const b in y){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}E(vw,Hf);function xw(){qf.call(this),this.status=1}E(xw,qf);function io(u){this.g=u}E(io,yw),io.prototype.ua=function(){Ht(this.g,"a")},io.prototype.ta=function(u){Ht(this.g,new vw(u))},io.prototype.sa=function(u){Ht(this.g,new xw)},io.prototype.ra=function(){Ht(this.g,"b")},lu.prototype.createWebChannel=lu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,cI=function(){return new lu},lI=function(){return Qc()},aI=ii,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yc.NO_ERROR=0,Yc.TIMEOUT=8,Yc.HTTP_ERROR=6,cd=Yc,Ox.COMPLETE="complete",oI=Ox,Ax.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",kt.prototype.listen=kt.prototype.K,il=Ax,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,iI=Je}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const r1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Ev("@firebase/firestore");function Qa(){return Ni.logLevel}function J(t,...e){if(Ni.logLevel<=we.DEBUG){const n=e.map(Sv);Ni.debug(`Firestore (${ga}): ${t}`,...n)}}function Hr(t,...e){if(Ni.logLevel<=we.ERROR){const n=e.map(Sv);Ni.error(`Firestore (${ga}): ${t}`,...n)}}function ea(t,...e){if(Ni.logLevel<=we.WARN){const n=e.map(Sv);Ni.warn(`Firestore (${ga}): ${t}`,...n)}}function Sv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function Se(t,e){t||oe()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class I4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P4{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new uI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Lt(e)}}class R4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new R4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new k4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=D4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function ta(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new dt(0,0))}static max(){return new ce(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends sc{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const j4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends sc{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return j4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(De.fromString(e))}static fromName(e){return new ne(De.fromString(e).popFirst(5))}static empty(){return new ne(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new De(e.slice()))}}function O4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new zs(s,ne.empty(),e)}function M4(t){return new zs(t.readTime,t.key,-1)}class zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(ce.min(),ne.empty(),-1)}static max(){return new zs(ce.max(),ne.empty(),-1)}}function V4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==L4)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function $4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cv.oe=-1;function Pc(t){return t==null}function th(t){return t===0&&1/t==-1/0}function U4(t){return typeof t=="number"&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i1(this.data.getIterator())}getIteratorFrom(e){return new i1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class i1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new gn([])}unionWith(e){let n=new Pt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fI("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const B4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(Se(!!t),typeof t=="string"){let e=0;const n=B4.exec(t);if(Se(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pv(t){const e=t.mapValue.fields.__previous_value__;return Iv(e)?Pv(e):e}function ic(t){const e=Ws(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:H4(t)?9007199254740991:W4(t)?10:11:oe()}function dr(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ws(s.timestampValue),a=Ws(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Di(s.bytesValue).isEqual(Di(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?th(o)===th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(s1(o)!==s1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dr(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function ac(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return o1(t.timestampValue,e.timestampValue);case 4:return o1(ic(t),ic(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Di(i),l=Di(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ie(a[c],l[c]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(nt(i.latitude),nt(o.latitude));return a!==0?a:Ie(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return a1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const f=i.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=Ie(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:a1(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Au.mapValue&&o===Au.mapValue)return 0;if(i===Au.mapValue)return 1;if(o===Au.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ie(l[f],h[f]);if(p!==0)return p;const g=na(a[l[f]],c[h[f]]);if(g!==0)return g}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function o1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Ws(t),r=Ws(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function a1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=na(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function ra(t){return Sg(t)}function Sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sg(n.fields[o])}`;return s+"}"}(t.mapValue):oe()}function l1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cg(t){return!!t&&"integerValue"in t}function Rv(t){return!!t&&"arrayValue"in t}function c1(t){return!!t&&"nullValue"in t}function u1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function W4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ud(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(vl(this.value))}}function pI(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new Ct([n]);if(ud(r)){const i=pI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,ce.min(),ce.min(),ce.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new gt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new gt(e,2,n,ce.min(),ce.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,ce.min(),ce.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function d1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function h1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function q4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{}class ut extends mI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new K4(e,n,r):n==="array-contains"?new X4(e,r):n==="in"?new J4(e,r):n==="not-in"?new Z4(e,r):n==="array-contains-any"?new eF(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q4(e,r):new Y4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends mI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return gI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gI(t){return t.op==="and"}function yI(t){return G4(t)&&gI(t)}function G4(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Ig(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(yI(t))return t.filters.map(e=>Ig(e)).join(",");{const e=t.filters.map(n=>Ig(n)).join(",");return`${t.op}(${e})`}}function vI(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&dr(r.value,s.value)}(t,e):t instanceof Qn?function(r,s){return s instanceof Qn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&vI(o,s.filters[a]),!0):!1}(t,e):void oe()}function xI(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(xI).join(" ,")+"}"}(t):"Filter"}class K4 extends ut{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q4 extends ut{constructor(e,n){super(e,"in",n),this.keys=wI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y4 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=wI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class X4 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rv(n)&&ac(n.arrayValue,this.value)}}class J4 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class Z4 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class eF extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function f1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tF(t,e,n,r,s,i,o)}function Av(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.ue=n}return e.ue}function kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h1(t.startAt,e.startAt)&&h1(t.endAt,e.endAt)}function Pg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nF(t,e,n,r,s,i,o,a){return new ya(t,e,n,r,s,i,o,a)}function Nv(t){return new ya(t)}function p1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _I(t){return t.collectionGroup!==null}function xl(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(Ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new lc(i,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new lc(Ct.keyField(),r))}return e.ce}function or(t){const e=ue(t);return e.le||(e.le=rF(e,xl(t))),e.le}function rF(t,e){if(t.limitType==="F")return f1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new lc(s.field,i)});const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return f1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rg(t,e){const n=t.filters.concat([e]);return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ag(t,e,n){return new ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return kv(or(t),or(e))&&t.limitType===e.limitType}function EI(t){return`${Av(or(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xI(s)).join(", ")}]`),Pc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ra(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ra(s)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function tf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=d1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xl(r),s)||r.endAt&&!function(o,a,l){const c=d1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xl(r),s))}(t,e)}function sF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TI(t){return(e,n)=>{let r=!1;for(const s of xl(t)){const i=iF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iF(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?na(l,c):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return hI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new Ye(ne.comparator);function qr(){return oF}const bI=new Ye(ne.comparator);function ol(...t){let e=bI;for(const n of t)e=e.insert(n.key,n);return e}function SI(t){let e=bI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return wl()}function CI(){return wl()}function wl(){return new va(t=>t.toString(),(t,e)=>t.isEqual(e))}const aF=new Ye(ne.comparator),lF=new Pt(ne.comparator);function ve(...t){let e=lF;for(const n of t)e=e.add(n);return e}const cF=new Pt(Ie);function uF(){return cF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function II(t){return{integerValue:""+t}}function dF(t,e){return U4(e)?II(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function hF(t,e,n){return t instanceof rh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Iv(i)&&(i=Pv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof cc?RI(t,e):t instanceof uc?AI(t,e):function(s,i){const o=PI(s,i),a=m1(o)+m1(s.Pe);return Cg(o)&&Cg(s.Pe)?II(a):Dv(s.serializer,a)}(t,e)}function fF(t,e,n){return t instanceof cc?RI(t,e):t instanceof uc?AI(t,e):n}function PI(t,e){return t instanceof sh?function(r){return Cg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class rh extends nf{}class cc extends nf{constructor(e){super(),this.elements=e}}function RI(t,e){const n=kI(e);for(const r of t.elements)n.some(s=>dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class uc extends nf{constructor(e){super(),this.elements=e}}function AI(t,e){let n=kI(e);for(const r of t.elements)n=n.filter(s=>!dr(s,r));return{arrayValue:{values:n}}}class sh extends nf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function m1(t){return nt(t.integerValue||t.doubleValue)}function kI(t){return Rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof cc&&s instanceof cc||r instanceof uc&&s instanceof uc?ta(r.elements,s.elements,dr):r instanceof sh&&s instanceof sh?dr(r.Pe,s.Pe):r instanceof rh&&s instanceof rh}(t.transform,e.transform)}class mF{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rf{}function NI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sf(t.key,$t.none()):new Rc(t.key,t.data,$t.none());{const n=t.data,r=Xt.empty();let s=new Pt(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ni(t.key,r,new gn(s.toArray()),$t.none())}}function gF(t,e,n){t instanceof Rc?function(s,i,o){const a=s.value.clone(),l=y1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ni?function(s,i,o){if(!dd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=y1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(DI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _l(t,e,n,r){return t instanceof Rc?function(i,o,a,l){if(!dd(i.precondition,o))return a;const c=i.value.clone(),h=v1(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ni?function(i,o,a,l){if(!dd(i.precondition,o))return a;const c=v1(i.fieldTransforms,l,o),h=o.data;return h.setAll(DI(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return dd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=PI(r.transform,s||null);i!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,i))}return n||null}function g1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ta(r,s,(i,o)=>pF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends rf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ni extends rf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function y1(t,e,n){const r=new Map;Se(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,fF(o,a,n[s]))}return r}function v1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hF(i,o,e))}return r}class sf extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jI extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=NI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>g1(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>g1(n,r))}}class jv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length);let s=function(){return aF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ee;function OI(t){switch(t){default:return oe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function MI(t){if(t===void 0)return Hr("GRPC error has no .code"),$.UNKNOWN;switch(t){case at.OK:return $.OK;case at.CANCELLED:return $.CANCELLED;case at.UNKNOWN:return $.UNKNOWN;case at.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case at.INTERNAL:return $.INTERNAL;case at.UNAVAILABLE:return $.UNAVAILABLE;case at.UNAUTHENTICATED:return $.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case at.NOT_FOUND:return $.NOT_FOUND;case at.ALREADY_EXISTS:return $.ALREADY_EXISTS;case at.PERMISSION_DENIED:return $.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case at.ABORTED:return $.ABORTED;case at.OUT_OF_RANGE:return $.OUT_OF_RANGE;case at.UNIMPLEMENTED:return $.UNIMPLEMENTED;case at.DATA_LOSS:return $.DATA_LOSS;default:return oe()}}(Ee=at||(at={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new Si([4294967295,4294967295],0);function x1(t){const e=_F().encode(t),n=new sI;return n.update(e),new Uint8Array(n.digest())}function w1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Si([n,r],0),new Si([s,i],0)]}class Ov{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Si.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Si.fromNumber(r)));return s.compare(EF)===1&&(s=new Si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=x1(e),[r,s]=w1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ov(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=x1(e),[r,s]=w1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new of(ce.min(),s,new Ye(Ie),qr(),ve())}}class Ac{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ac(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class VI{constructor(e,n){this.targetId=e,this.me=n}}class LI{constructor(e,n,r=At.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class _1{constructor(){this.fe=0,this.ge=T1(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe()}}),new Ac(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=T1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TF{constructor(e){this.Le=e,this.Be=new Map,this.ke=qr(),this.qe=E1(),this.Qe=new Ye(Ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Pg(i))if(r===0){const o=new ne(i.path);this.Ue(n,o,gt.newNoDocument(o,ce.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Di(r).toUint8Array()}catch(l){if(l instanceof fI)return ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ov(o,s,i)}catch(l){return ea(l instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Pg(a.target)){const l=new ne(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,gt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ve();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new of(e,n,this.Qe,this.ke,r);return this.ke=qr(),this.qe=E1(),this.Qe=new Ye(Ie),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pt(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function E1(){return new Ye(ne.comparator)}function T1(){return new Ye(ne.comparator)}const bF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),SF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),CF=(()=>({and:"AND",or:"OR"}))();class IF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kg(t,e){return t.useProto3Json||Pc(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PF(t,e){return ih(t,e.toTimestamp())}function vn(t){return Se(!!t),ce.fromTimestamp(function(n){const r=Ws(n);return new dt(r.seconds,r.nanos)}(t))}function Mv(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=De.fromString(t);return Se(qI(e)),e}function oh(t,e){return Mv(t.databaseId,e.path)}function El(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(BI(n))}function UI(t,e){return Mv(t.databaseId,e)}function RF(t){const e=$I(t);return e.length===4?De.emptyPath():BI(e)}function Dg(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BI(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b1(t,e,n){return{name:oh(t,e),fields:n.value.mapValue.fields}}function AF(t,e){return"found"in e?function(r,s){Se(!!s.found),s.found.name,s.found.updateTime;const i=El(r,s.found.name),o=vn(s.found.updateTime),a=s.found.createTime?vn(s.found.createTime):ce.min(),l=new Xt({mapValue:{fields:s.found.fields}});return gt.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){Se(!!s.missing),Se(!!s.readTime);const i=El(r,s.missing),o=vn(s.readTime);return gt.newNoDocument(i,o)}(t,e):oe()}function kF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Se(h===void 0||typeof h=="string"),At.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:MI(c.code);return new Q(h,c.message||"")}(o);n=new LI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=El(t,r.document.name),i=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):ce.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=gt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new hd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=El(t,r.document),i=r.readTime?vn(r.readTime):ce.min(),o=gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=El(t,r.document),i=r.removedTargetIds||[];n=new hd([],i,s,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new wF(s,i),a=r.targetId;n=new VI(a,o)}}return n}function zI(t,e){let n;if(e instanceof Rc)n={update:b1(t,e.key,e.value)};else if(e instanceof sf)n={delete:oh(t,e.key)};else if(e instanceof ni)n={update:b1(t,e.key,e.data),updateMask:$F(e.fieldMask)};else{if(!(e instanceof jI))return oe();n={verify:oh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:PF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function NF(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?vn(s.updateTime):vn(i);return o.isEqual(ce.min())&&(o=vn(i)),new mF(o,s.transformResults||[])}(n,e))):[]}function DF(t,e){return{documents:[UI(t,e.path)]}}function jF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,s);const i=function(c){if(c.length!==0)return HI(Qn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:mo(p.field),direction:VF(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=kg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function OF(t){let e=RF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=WI(f);return p instanceof Qn&&yI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new lc(go(E.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Pc(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new nh(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new nh(g,p)}(n.endAt)),nF(e,s,o,i,a,"F",l,c)}function MF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=go(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=go(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=go(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(go(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>WI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function VF(t){return bF[t]}function LF(t){return SF[t]}function FF(t){return CF[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return Ct.fromServerFormat(t.fieldPath)}function HI(t){return t instanceof ut?function(n){if(n.op==="=="){if(u1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(c1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(c1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:LF(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(s=>HI(s));return r.length===1?r[0]:{compositeFilter:{op:FF(n.op),filters:r}}}(t):oe()}function $F(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,s,i=ce.min(),o=ce.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.ct=e}}function BF(t){const e=OF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.un=new WF}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(zs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class WF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Pt(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sa(0)}static kn(){return new sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.changes=new va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&_l(r.mutation,s,gn.empty(),dt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=wi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ol();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qr();const o=wl(),a=function(){return wl()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ni)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),_l(h.mutation,c,h.mutation.getFieldMask(),dt.now())):o.set(c.key,gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new qF(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wl();let s=new Ye((o,a)=>o-a),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||gn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||ve()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=CI();h.forEach(p=>{if(!i.has(p)){const g=NI(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(wi());let a=-1,l=i;return o.next(c=>U.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ve())).next(h=>({batchId:a,changes:SI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ol();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const c=function(f,p){return new ya(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,gt.newInvalidDocument(h)))});let a=ol();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&_l(h.mutation,c,gn.empty(),dt.now()),tf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:BF(s.bundledQuery),readTime:vn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.overlays=new Ye(ne.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=wi(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=wi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=wi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return U.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xF(n,r));let i=this.Ir.get(n);i===void 0&&(i=ve(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.Tr=new Pt(pt.Er),this.dr=new Pt(pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new De([])),r=new pt(n,e),s=new pt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new De([])),r=new pt(n,e),s=new pt(n,e+1);let i=ve();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pt(pt.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),s=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ie);return n.forEach(s=>{const i=new pt(s,0),o=new pt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new pt(new ne(i),0);let a=new Pt(Ie);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new pt(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():gt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V4(M4(h),r)<=0||(s.has(h.key)||tf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZF(this)}getSize(e){return U.resolve(this.size)}}class ZF extends HF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.persistence=e,this.Nr=new va(n=>Av(n),kv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vv,this.targetCount=0,this.kr=sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cv(0),this.Kr=!1,this.Kr=!0,this.$r=new YF,this.referenceDelegate=e(this),this.Ur=new e5(this),this.indexManager=new zF,this.remoteDocumentCache=function(s){return new JF(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UF(n),this.Gr=new KF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new XF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new n5(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class n5 extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Jr=new Vv,this.Yr=null}static Zr(e){return new Lv(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=ne.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Fv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return aL()?8:$4(zt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new r5;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Qa()<=we.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Qa()<=we.DEBUG&&J("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Qa()<=we.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):U.resolve())}Yi(e,n){if(p1(n))return U.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ag(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ve(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Ag(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return p1(n)||s.isEqual(ce.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?U.resolve(null):(Qa()<=we.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),po(n)),this.rs(e,o,n,O4(s,-1)).next(a=>a))})}ts(e,n){let r=new Pt(TI(e));return n.forEach((s,i)=>{tf(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Qa()<=we.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",po(n)),this.Ji.getDocumentsMatchingQuery(e,n,zs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ye(Ie),this._s=new va(i=>Av(i),kv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function o5(t,e,n,r){return new i5(t,e,n,r)}async function GI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ve();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function a5(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let g=U.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(v=>{const _=c.docVersions.get(E);Se(_!==null),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function KI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function l5(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(At.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(v,_,w){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=qr(),c=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(c5(i,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(ce.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function c5(t,e,n){let r=ve(),s=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function u5(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d5(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jg(t,e,n){const r=ue(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ic(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function S1(t,e,n){const r=ue(t);let s=ce.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=ue(l),p=f._s.get(h);return p!==void 0?U.resolve(f.os.get(p)):f.Ur.getTargetData(c,h)}(r,o,or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:ve())).next(a=>(h5(r,sF(e),a),{documents:a,Ts:i})))}function h5(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class C1{constructor(){this.activeTargetIds=uF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f5{constructor(){this.so=new C1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new C1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function Vp(){return ku===null?ku=function(){return 268435456+Math.round(2147483648*Math.random())}():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class y5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Vp(),l=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(h=>(J("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ea("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=m5[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Vp();return new Promise((o,a)=>{const l=new iI;l.setWithCredentials(!0),l.listenOnce(oI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cd.NO_ERROR:const h=l.getResponseJson();J(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case cd.TIMEOUT:J(Mt,`RPC '${e}' ${i} timed out`),a(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const f=l.getStatus();if(J(Mt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(g.status);a(new Q(E,g.message))}else a(new Q($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q($.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{J(Mt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);J(Mt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Vp(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cI(),a=lI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");J(Mt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const E=new g5({Io:_=>{g?J(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(J(Mt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),J(Mt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},To:()=>f.close()}),v=(_,w,x)=>{_.listen(w,T=>{try{x(T)}catch(C){setTimeout(()=>{throw C},0)}})};return v(f,il.EventType.OPEN,()=>{g||(J(Mt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),v(f,il.EventType.CLOSE,()=>{g||(g=!0,J(Mt,`RPC '${e}' stream ${s} transport closed`),E.So())}),v(f,il.EventType.ERROR,_=>{g||(g=!0,ea(Mt,`RPC '${e}' stream ${s} transport errored:`,_),E.So(new Q($.UNAVAILABLE,"The operation could not be completed")))}),v(f,il.EventType.MESSAGE,_=>{var w;if(!g){const x=_.data[0];Se(!!x);const T=x,C=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(C){J(Mt,`RPC '${e}' stream ${s} received error:`,C);const A=C.status;let O=function(P){const k=at[P];if(k!==void 0)return MI(k)}(A),I=C.message;O===void 0&&(O=$.INTERNAL,I="Unknown error status: "+A+" with message "+C.message),g=!0,E.So(new Q(O,I)),f.close()}else J(Mt,`RPC '${e}' stream ${s} received:`,x),E.bo(x)}}),v(a,aI.STAT_EVENT,_=>{_.stat===bg.PROXY?J(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===bg.NOPROXY&&J(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return new IF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $v(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v5 extends QI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=kF(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?vn(o.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Dg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Pg(l)?{documents:DF(i,l)}:{query:jF(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FI(i,o.resumeToken);const c=kg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=ih(i,o.snapshotVersion.toTimestamp());const c=kg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=MF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Dg(this.serializer),n.removeTarget=e,this.a_(n)}}class x5 extends QI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=NF(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Dg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zI(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Ng(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q($.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ng(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hr(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.L_.add(4),await kc(c),c.q_.set("Unknown"),c.L_.delete(4),await lf(c)}(this))})}),this.q_=new _5(r,s)}}async function lf(t){if(Qi(t))for(const e of t.B_)await e(!0)}async function kc(t){for(const e of t.B_)await e(!1)}function YI(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Wv(n)?zv(n):xa(n).r_()&&Bv(n,e))}function Uv(t,e){const n=ue(t),r=xa(n);n.N_.delete(e),r.r_()&&XI(n,e),n.N_.size===0&&(r.r_()?r.o_():Qi(n)&&n.q_.set("Unknown"))}function Bv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xa(t).A_(e)}function XI(t,e){t.Q_.xe(e),xa(t).R_(e)}function zv(t){t.Q_=new TF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xa(t).start(),t.q_.v_()}function Wv(t){return Qi(t)&&!xa(t).n_()&&t.N_.size>0}function Qi(t){return ue(t).L_.size===0}function JI(t){t.Q_=void 0}async function T5(t){t.q_.set("Online")}async function b5(t){t.N_.forEach((e,n)=>{Bv(t,e)})}async function S5(t,e){JI(t),Wv(t)?(t.q_.M_(e),zv(t)):t.q_.set("Unknown")}async function C5(t,e,n){if(t.q_.set("Online"),e instanceof LI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(t,r)}else if(e instanceof hd?t.Q_.Ke(e):e instanceof VI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await KI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),XI(i,l);const f=new Ts(h.target,l,c,h.sequenceNumber);Bv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await ah(t,r)}}async function ah(t,e,n){if(!Ic(e))throw e;t.L_.add(1),await kc(t),t.q_.set("Offline"),n||(n=()=>KI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await lf(t)})}function ZI(t,e){return e().catch(n=>ah(t,n,e))}async function cf(t){const e=ue(t),n=Hs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;I5(e);)try{const s=await u5(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,P5(e,s)}catch(s){await ah(e,s)}eP(e)&&tP(e)}function I5(t){return Qi(t)&&t.O_.length<10}function P5(t,e){t.O_.push(e);const n=Hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eP(t){return Qi(t)&&!Hs(t).n_()&&t.O_.length>0}function tP(t){Hs(t).start()}async function R5(t){Hs(t).p_()}async function A5(t){const e=Hs(t);for(const n of t.O_)e.m_(n.mutations)}async function k5(t,e,n){const r=t.O_.shift(),s=jv.from(r,e,n);await ZI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cf(t)}async function N5(t,e){e&&Hs(t).V_&&await async function(r,s){if(function(o){return OI(o)&&o!==$.ABORTED}(s.code)){const i=r.O_.shift();Hs(r).s_(),await ZI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cf(r)}}(t,e),eP(t)&&tP(t)}async function P1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.L_.add(3),await kc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await lf(n)}async function D5(t,e){const n=ue(t);e?(n.L_.delete(2),await lf(n)):e||(n.L_.add(2),await kc(n),n.q_.set("Unknown"))}function xa(t){return t.K_||(t.K_=function(n,r,s){const i=ue(n);return i.w_(),new v5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:T5.bind(null,t),Ro:b5.bind(null,t),mo:S5.bind(null,t),d_:C5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Wv(t)?zv(t):t.q_.set("Unknown")):(await t.K_.stop(),JI(t))})),t.K_}function Hs(t){return t.U_||(t.U_=function(n,r,s){const i=ue(n);return i.w_(),new x5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R5.bind(null,t),mo:N5.bind(null,t),f_:A5.bind(null,t),g_:k5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cf(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Hv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),Ic(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ol(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.W_=new Ye(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ia(e,n,$o.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class O5{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=A1(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function A1(){return new va(t=>EI(t),ef)}async function M5(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new j5,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=qv(o,`Initialization of query '${po(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Gv(n)}async function V5(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L5(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Gv(n)}function F5(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Gv(t){t.Y_.forEach(e=>{e.next()})}var Og,k1;(k1=Og||(Og={})).ea="default",k1.Cache="cache";class $5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class U5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=TI(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new R1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=tf(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?E!==v&&(r.track({type:3,doc:g}),_=!0):this.ga(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,E){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return v(g)-v(E)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new ia(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new R1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nP(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ia.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class B5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class z5{constructor(e){this.key=e,this.va=!1}}class W5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new va(a=>EI(a),ef),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ne.comparator),this.Na=new Map,this.La=new Vv,this.Ba={},this.ka=new Map,this.qa=sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H5(t,e,n=!0){const r=cP(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await sP(r,e,n,!0),s}async function q5(t,e){const n=cP(t);await sP(n,e,!0,!1)}async function sP(t,e,n,r){const s=await d5(t.localStore,or(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await G5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&YI(t.remoteStore,s),a}async function G5(t,e,n,r,s){t.Ka=(f,p,g)=>async function(v,_,w,x){let T=_.view.ma(w);T.ns&&(T=await S1(v.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,T)));const C=x&&x.targetChanges.get(_.targetId),A=x&&x.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(T,v.isPrimaryClient,C,A);return D1(v,_.targetId,O.wa),O.snapshot}(t,f,p,g);const i=await S1(t.localStore,e,!0),o=new U5(e,i.Ts),a=o.ma(i.documents),l=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);D1(t,n,c.wa);const h=new B5(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function K5(t,e,n){const r=ue(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ef(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Uv(r.remoteStore,s.targetId),Mg(r,s.targetId)}).catch(Cc)):(Mg(r,s.targetId),await jg(r.localStore,s.targetId,!0))}async function Q5(t,e){const n=ue(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uv(n.remoteStore,r.targetId))}async function Y5(t,e,n){const r=r3(t);try{const s=await function(o,a){const l=ue(o),c=dt.now(),h=a.reduce((g,E)=>g.add(E.key),ve());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=qr(),v=ve();return l.cs.getEntries(g,h).next(_=>{E=_,E.forEach((w,x)=>{x.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(_=>{f=_;const w=[];for(const x of a){const T=yF(x,f.get(x.key).overlayedDocument);T!=null&&w.push(new ni(x.key,T,pI(T.value.mapValue),$t.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:SI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ye(Ie)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Nc(r,s.changes),await cf(r.remoteStore)}catch(s){const i=qv(s,"Failed to persist write");n.reject(i)}}async function iP(t,e){const n=ue(t);try{const r=await l5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Se(o.va):s.removedDocuments.size>0&&(Se(o.va),o.va=!1))}),await Nc(n,r,e)}catch(r){await Cc(r)}}function N1(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&Gv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X5(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ye(ne.comparator);o=o.insert(i,gt.newNoDocument(i,ce.min()));const a=ve().add(i),l=new of(ce.min(),new Map,new Ye(Ie),o,a);await iP(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Kv(r)}else await jg(r.localStore,e,!1).then(()=>Mg(r,e,n)).catch(Cc)}async function J5(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await a5(n.localStore,e);aP(n,r,null),oP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nc(n,s)}catch(s){await Cc(s)}}async function Z5(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Se(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);aP(r,e,n),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nc(r,s)}catch(s){await Cc(s)}}function oP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function aP(t,e,n){const r=ue(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lP(t,r)})}function lP(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Uv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Kv(t))}function D1(t,e,n){for(const r of n)r instanceof nP?(t.La.addReference(r.key,e),e3(t,r)):r instanceof rP?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lP(t,r.key)):oe()}function e3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),Kv(t))}function Kv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(De.fromString(e)),r=t.qa.next();t.Na.set(r,new z5(n)),t.Oa=t.Oa.insert(n,r),YI(t.remoteStore,new Ts(or(Nv(n.path)),r,"TargetPurposeLimboResolution",Cv.oe))}}async function Nc(t,e,n){const r=ue(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Fv.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const h=ue(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,p=>U.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>U.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Ic(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.os.get(p),E=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(p,v)}}}(r.localStore,i))}async function t3(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await GI(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Q($.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nc(n,r.hs)}}function n3(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let s=ve();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function cP(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X5.bind(null,e),e.Ca.d_=L5.bind(null,e.eventManager),e.Ca.$a=F5.bind(null,e.eventManager),e}function r3(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z5.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return o5(this.persistence,new s5,e.initialUser,this.serializer)}Ga(e){return new t5(Lv.Zr,this.serializer)}Wa(e){return new f5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class Vg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t3.bind(null,this.syncEngine),await D5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O5}()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=function(i){return new y5(i)}(e.databaseInfo);return function(i,o,a,l){return new w5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new E5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>N1(this.syncEngine,n,0),function(){return I1.D()?new I1:new p5}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new W5(s,i,o,a,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);J("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await kc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=ue(s),a={documents:i.map(f=>oh(o.serializer,f))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,De.emptyPath(),a,i.length),c=new Map;l.forEach(f=>{const p=AF(o.serializer,f);c.set(p.key.toString(),p)});const h=[];return i.forEach(f=>{const p=c.get(f.toString());Se(!!p),h.push(p)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=ne.fromPath(r);this.mutations.push(new jI(s,this.precondition(s)))}),await async function(r,s){const i=ue(r),o={writes:s.map(a=>zI(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,De.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw oe();n=ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ce.min())?$t.exists(!1):$t.updateTime(n):$t.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ce.min()))throw new Q($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $t.updateTime(n)}return $t.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new $v(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new i3(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Pc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!OI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Lt.UNAUTHENTICATED,this.clientId=dI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fp(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l3(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>P1(e.remoteStore,s)),t._onlineComponents=e}async function l3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Fp(t,new lh)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Fp(t,new lh);return t._offlineComponents}async function Qv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await j1(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await j1(t,new Vg))),t._onlineComponents}function c3(t){return Qv(t).then(e=>e.syncEngine)}function u3(t){return Qv(t).then(e=>e.datastore)}async function O1(t){const e=await Qv(t),n=e.eventManager;return n.onListen=H5.bind(null,e.syncEngine),n.onUnlisten=K5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q5.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d3(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V1(t){if(!ne.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L1(t){if(ne.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C4;switch(r.type){case"firstParty":return new A4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M1.get(n);r&&(J("ComponentProvider","Removing Datastore"),M1.delete(n),r.terminate())}(this),Promise.resolve()}}function h3(t,e,n,r={}){var s;const i=(t=Or(t,df))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=JC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}t._authCredentials=new I4(new uI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Ms extends Yi{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ne(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function ch(t,e,...n){if(t=Ue(t),dP("collection","path",e),t instanceof df){const r=De.fromString(e,...n);return L1(r),new Ms(t,null,r)}{if(!(t instanceof Zt||t instanceof Ms))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return L1(r),new Ms(t.firestore,null,r)}}function Tl(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=dI.newId()),dP("doc","path",e),t instanceof df){const r=De.fromString(e,...n);return V1(r),new Zt(t,null,new ne(r))}{if(!(t instanceof Zt||t instanceof Ms))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return V1(r),new Zt(t.firestore,t instanceof Ms?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $v(this,"async_queue_retry"),this.Vu=()=>{const r=Lp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Os;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ic(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Hr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Hv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function U1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Oi extends df{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $1(e),this._firestoreClient=void 0,await e}}}function f3(t,e){const n=typeof t=="object"?t:bv(),r=typeof t=="string"?t:e||"(default)",s=Zh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=QC("firestore");i&&h3(s,...i)}return s}function Yv(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p3(t),t._firestoreClient}function p3(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new z4(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uP(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new a3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(At.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=/^__.*__$/;class g3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class hP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class e0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new e0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return uh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fP(this.Cu)&&m3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class y3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}Qu(e,n,r,s=!1){return new e0({Cu:e,methodName:n,qu:r,path:Ct.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(t){const e=t._freezeSettings(),n=af(t._databaseId);return new y3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pP(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);t0("Data must be an object, but it was:",o,r);const a=yP(r,o);let l,c;if(i.merge)l=new gn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Lg(e,f,n);if(!o.contains(p))throw new Q($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);xP(h,p)||h.push(p)}l=new gn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new g3(new Xt(a),l,c)}class ff extends Xv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function mP(t,e,n,r){const s=t.Qu(1,e,n);t0("Data must be an object, but it was:",s,r);const i=[],o=Xt.empty();Ki(r,(l,c)=>{const h=n0(e,l,n);c=Ue(c);const f=s.Nu(h);if(c instanceof ff)i.push(h);else{const p=jc(c,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new gn(i);return new hP(o,a,s.fieldTransforms)}function gP(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Lg(e,r,n)],l=[s];if(i.length%2!=0)throw new Q($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Lg(e,i[p])),l.push(i[p+1]);const c=[],h=Xt.empty();for(let p=a.length-1;p>=0;--p)if(!xP(c,a[p])){const g=a[p];let E=l[p];E=Ue(E);const v=o.Nu(g);if(E instanceof ff)c.push(g);else{const _=jc(E,v);_!=null&&(c.push(g),h.set(g,_))}}const f=new gn(c);return new hP(h,f,o.fieldTransforms)}function v3(t,e,n,r=!1){return jc(n,t.Qu(r?4:3,e))}function jc(t,e){if(vP(t=Ue(t)))return t0("Unsupported field value:",e,t),yP(t,e);if(t instanceof Xv)return function(r,s){if(!fP(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=jc(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=dt.fromDate(r);return{timestampValue:ih(s.serializer,i)}}if(r instanceof dt){const i=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(s.serializer,i)}}if(r instanceof Jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:FI(s.serializer,r._byteString)};if(r instanceof Zt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Dv(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${uf(r)}`)}(t,e)}function yP(t,e){const n={};return hI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const i=jc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Jv||t instanceof Mi||t instanceof Zt||t instanceof Xv||t instanceof Zv)}function t0(t,e,n){if(!vP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=uf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Lg(t,e,n){if((e=Ue(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return n0(t,e);throw uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const x3=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(x3)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dc(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q($.INVALID_ARGUMENT,a+t+l)}function xP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w3 extends dh{data(){return super.data()}}function r0(t,e){return typeof e=="string"?n0(t,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}class wP extends s0{}function E3(t,e,...n){let r=[];e instanceof s0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof o0).length,a=i.filter(l=>l instanceof i0).length;if(o>1||o>0&&a>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class i0 extends wP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i0(e,n,r)}_apply(e){const n=this._parse(e);return _P(e._query,n),new Yi(e.firestore,e.converter,Rg(e._query,n))}_parse(e){const n=hf(e.firestore);return function(i,o,a,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){z1(f,h);const g=[];for(const E of f)g.push(B1(l,i,E));p={arrayValue:{values:g}}}else p=B1(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||z1(f,h),p=v3(a,o,f,h==="in"||h==="not-in");return ut.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class o0 extends s0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)_P(o,l),o=Rg(o,l)}(e._query,n),new Yi(e.firestore,e.converter,Rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a0 extends wP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new a0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(i,o)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ya(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function T3(t,e="asc"){const n=e,r=r0("orderBy",t);return a0._create(r,n)}function B1(t,e,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!ne.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l1(t,new ne(r))}if(n instanceof Zt)return l1(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function z1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _P(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EP{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>nt(o.doubleValue));return new Zv(i)}convertGeoPoint(e){return new Jv(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Se(qI(r));const s=new oc(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||Hr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class b3 extends EP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l0 extends dh{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fd extends l0{data(e={}){return super.data(e)}}class S3{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ro(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fd(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new fd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ro(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new fd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ro(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:C3(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}class c0 extends EP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function bP(t,e,n,...r){t=Or(t,Zt);const s=Or(t.firestore,Oi),i=hf(s);let o;return o=typeof(e=Ue(e))=="string"||e instanceof Dc?gP(i,"updateDoc",t._key,e,n,r):mP(i,"updateDoc",t._key,e),u0(s,[o.toMutation(t._key,$t.exists(!0))])}function I3(t){return u0(Or(t.firestore,Oi),[new sf(t._key,$t.none())])}function SP(t,e){const n=Or(t.firestore,Oi),r=Tl(t),s=TP(t.converter,e);return u0(n,[pP(hf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,$t.exists(!1))]).then(()=>r)}function CP(t,...e){var n,r,s;t=Ue(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||U1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(U1(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,h;if(t instanceof Zt)c=Or(t.firestore,Oi),h=Nv(t._key.path),l={next:f=>{e[o]&&e[o](P3(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Or(t,Yi);c=Or(f.firestore,Oi),h=f._query;const p=new c0(c);l={next:g=>{e[o]&&e[o](new S3(c,p,f,g))},error:e[o+1],complete:e[o+2]},_3(t._query)}return function(p,g,E,v){const _=new s3(v),w=new $5(g,_,E);return p.asyncQueue.enqueueAndForget(async()=>M5(await O1(p),w)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>V5(await O1(p),w))}}(Yv(c),h,a,l)}function u0(t,e){return function(r,s){const i=new Os;return r.asyncQueue.enqueueAndForget(async()=>Y5(await c3(r),s,i)),i.promise}(Yv(t),e)}function P3(t,e,n){const r=n.docs.get(e._key),s=new c0(t);return new l0(t,s,e._key,r,new Ro(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={maxAttempts:5};function Ya(t,e){if((t=Ue(t)).firestore!==e)throw new Q($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=hf(n)}get(n){const r=Ya(n,this._firestore),s=new b3(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return oe();const o=i[0];if(o.isFoundDocument())return new dh(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new dh(this._firestore,s,r._key,null,r.converter);throw oe()})}set(n,r,s){const i=Ya(n,this._firestore),o=TP(i.converter,r,s),a=pP(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=Ya(n,this._firestore);let a;return a=typeof(r=Ue(r))=="string"||r instanceof Dc?gP(this._dataReader,"Transaction.update",o._key,r,s,i):mP(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Ya(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ya(e,this._firestore),r=new c0(this._firestore);return super.get(e).then(s=>new l0(this._firestore,r,n._key,s._document,new Ro(!1,!1),n.converter))}}function k3(t,e,n){t=Or(t,Oi);const r=Object.assign(Object.assign({},R3),n);return function(i){if(i.maxAttempts<1)throw new Q($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new Os;return i.asyncQueue.enqueueAndForget(async()=>{const c=await u3(i);new o3(i.asyncQueue,c,a,o,l).au()}),l.promise}(Yv(t),s=>e(new A3(t,s)),r)}(function(e,n=!0){(function(s){ga=s})(Gi),ki(new Bs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Oi(new P4(r.getProvider("auth-internal")),new N4(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ir(r1,"4.7.3",e),ir(r1,"4.7.3","esm2017")})();var Ut=function(){return Ut=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ut.apply(this,arguments)};function wa(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IP(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function PP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N3=PP,RP=new bc("auth","Firebase",PP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Ev("@firebase/auth");function D3(t,...e){hh.logLevel<=we.WARN&&hh.warn(`Auth (${Gi}): ${t}`,...e)}function pd(t,...e){hh.logLevel<=we.ERROR&&hh.error(`Auth (${Gi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw h0(t,...e)}function Gn(t,...e){return h0(t,...e)}function d0(t,e,n){const r=Object.assign(Object.assign({},N3()),{[e]:n});return new bc("auth","Firebase",r).create(e,{appName:t.name})}function Mr(t){return d0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mn(t,"argument-error"),d0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function h0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RP.create(t,...e)}function re(t,e,...n){if(!t)throw h0(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function Gr(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O3(){return W1()==="http:"||W1()==="https:"}function W1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O3()||sL()||"connection"in navigator)?navigator.onLine:!0}function V3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=tL()||iL()}get(){return M3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Oc(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jn(t,e,n,r,s={}){return kP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Sc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return rL()||(c.referrerPolicy="no-referrer"),AP.fetch()(NP(t,t.config.apiHost,n,a),c)})}async function kP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},L3),e);try{const s=new U3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Nu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw d0(t,h,c);Mn(t,h)}}catch(s){if(s instanceof mr)throw s;Mn(t,"network-request-failed",{message:String(s)})}}async function Mc(t,e,n,r,s={}){const i=await Jn(t,e,n,r,s);return"mfaPendingCredential"in i&&Mn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function NP(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?f0(t.config,s):`${t.config.apiScheme}://${s}`}function $3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),F3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gn(t,e,r);return s.customData._tokenResponse=n,s}function H1(t){return t!==void 0&&t.enterprise!==void 0}class B3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function z3(t,e){return Jn(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){return Jn(t,"POST","/v1/accounts:delete",e)}async function DP(t,e){return Jn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H3(t,e=!1){const n=Ue(t),r=await n.getIdToken(e),s=p0(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bl($p(s.auth_time)),issuedAtTime:bl($p(s.iat)),expirationTime:bl($p(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function p0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const s=GC(n);return s?JSON.parse(s):(pd("Failed to decode base64 JWT payload"),null)}catch(s){return pd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function q1(t){const e=p0(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&q3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vi(t,DP(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?jP(i.providerUserInfo):[],a=Q3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $g(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function K3(t){const e=Ue(t);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jP(t){return t.map(e=>{var{providerId:n}=e,r=wa(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e){const n=await kP(t,{},async()=>{const r=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=NP(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X3(t,e){return Jn(t,"POST","/v2/accounts:revokeToken",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Y3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Uo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=wa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $g(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vi(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H3(this,e)}reload(){return K3(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Vi(this,W3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:C,isAnonymous:A,providerData:O,stsTokenManager:I}=n;re(T&&I,e,"internal-error");const S=Uo.fromJSON(this.name,I);re(typeof T=="string",e,"internal-error"),us(f,e.name),us(p,e.name),re(typeof C=="boolean",e,"internal-error"),re(typeof A=="boolean",e,"internal-error"),us(g,e.name),us(E,e.name),us(v,e.name),us(_,e.name),us(w,e.name),us(x,e.name);const P=new kr({uid:T,auth:e,email:p,emailVerified:C,displayName:f,isAnonymous:A,photoURL:E,phoneNumber:g,tenantId:v,stsTokenManager:S,createdAt:w,lastLoginAt:x});return O&&Array.isArray(O)&&(P.providerData=O.map(k=>Object.assign({},k))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Uo;s.updateFromServerResponse(n);const i=new kr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?jP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Uo;a.updateFromIdToken(r);const l=new kr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new $g(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;function Nr(t){Gr(t instanceof Function,"Expected a class definition");let e=G1.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OP.type="NONE";const K1=OP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=md(this.userKey,s.apiKey,i),this.fullPersistenceKey=md("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bo(Nr(K1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Nr(K1);const o=md(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=kr._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Bo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Bo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UP(e))return"Blackberry";if(BP(e))return"Webos";if(VP(e))return"Safari";if((e.includes("chrome/")||LP(e))&&!e.includes("edge/"))return"Chrome";if($P(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MP(t=zt()){return/firefox\//i.test(t)}function VP(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LP(t=zt()){return/crios\//i.test(t)}function FP(t=zt()){return/iemobile/i.test(t)}function $P(t=zt()){return/android/i.test(t)}function UP(t=zt()){return/blackberry/i.test(t)}function BP(t=zt()){return/webos/i.test(t)}function m0(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function J3(t=zt()){var e;return m0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z3(){return oL()&&document.documentMode===10}function zP(t=zt()){return m0(t)||$P(t)||BP(t)||UP(t)||/windows phone/i.test(t)||FP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e=[]){let n;switch(t){case"Browser":n=Q1(zt());break;case"Worker":n=`${Q1(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(t,e={}){return Jn(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=6;class r${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:n$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y1(this),this.idTokenSubscription=new Y1(this),this.beforeStateQueue=new e$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DP(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Mr(this));const n=e?Ue(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t$(this),n=new r$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&D3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(t){return Ue(t)}class Y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=pL(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i$(t){pf=t}function HP(t){return pf.loadJS(t)}function o$(){return pf.recaptchaEnterpriseScript}function a$(){return pf.gapiScript}function l$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const c$="recaptcha-enterprise",u$="NO_RECAPTCHA";class d${constructor(e){this.type=c$,this.auth=ns(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{z3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new B3(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;H1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(u$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&H1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=o$();l.length!==0&&(l+=a),HP(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function X1(t,e,n,r=!1){const s=new d$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ph(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await X1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await X1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e){const n=Zh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Zd(i,e??{}))return s;Mn(s,"already-initialized")}return n.initialize({options:e})}function f$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p$(t,e,n){const r=ns(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=qP(e),{host:o,port:a}=m$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||g$()}function qP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m$(t){const e=qP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:J1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:J1(o)}}}function J1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function y$(t,e){return Jn(t,"POST","/v1/accounts:update",e)}async function v$(t,e){return Jn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x$(t,e){return Mc(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}async function w$(t,e){return Jn(t,"POST","/v1/accounts:sendOobCode",ts(t,e))}async function _$(t,e){return w$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function T$(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends g0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,n,"signInWithPassword",x$);case"emailLink":return E$(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,r,"signUpPassword",v$);case"emailLink":return T$(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e){return Mc(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="http://localhost";class Li extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=wa(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:b$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C$(t){const e=rl(sl(t)).link,n=e?rl(sl(e)).deep_link_id:null,r=rl(sl(t)).deep_link_id;return(r?rl(sl(r)).link:null)||r||n||e||t}class y0{constructor(e){var n,r,s,i,o,a;const l=rl(sl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=S$((s=l.mode)!==null&&s!==void 0?s:null);re(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=C$(e);try{return new y0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.providerId=Xi.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y0.parseLink(n);return re(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}Xi.PROVIDER_ID="password";Xi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends v0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Vc{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Vc{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e){return Mc(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await kr._fromIdTokenResponse(e,r,s),o=Z1(r);return new Fi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Z1(r);return new Fi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends mr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new mh(e,n,r,s)}}function GP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,i,e,r):i})}async function P$(t,e,n=!1){const r=await Vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(Mr(r));const s="reauthenticate";try{const i=await Vi(t,GP(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=p0(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Fi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e,n=!1){if(zn(t.app))return Promise.reject(Mr(t));const r="signIn",s=await GP(t,r,e),i=await Fi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function R$(t,e){return QP(ns(t),e)}async function A$(t,e){return KP(Ue(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e,n){var r;re(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t){const e=ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N$(t,e,n){const r=ns(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&k$(r,s,n),await ph(r,s,"getOobCode",_$)}async function D$(t,e,n){if(zn(t.app))return Promise.reject(Mr(t));const r=ns(t),o=await ph(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I$).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YP(t),l}),a=await Fi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function j$(t,e,n){return zn(t.app)?Promise.reject(Mr(t)):R$(Ue(t),Xi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){return Jn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ue(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Vi(r,O$(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function M$(t,e){return V$(Ue(t),null,e)}async function V$(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await Vi(t,y$(r,i));await t._updateTokensIfNecessary(o,!0)}function L$(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function F$(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}function $$(t,e,n,r){return Ue(t).onAuthStateChanged(e,n,r)}function U$(t){return Ue(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=1e3,z$=10;class ZP extends JP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Z3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,z$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZP.type="LOCAL";const W$=ZP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends JP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eR.type="SESSION";const tR=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await H$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=x0("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function G$(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function K$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y$(){return nR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebaseLocalStorageDb",X$=1,yh="firebaseLocalStorage",sR="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function J$(){const t=indexedDB.deleteDatabase(rR);return new Lc(t).toPromise()}function Ug(){const t=indexedDB.open(rR,X$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yh,{keyPath:sR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await J$(),e(await Ug()))})})}async function eE(t,e,n){const r=gf(t,!0).put({[sR]:e,value:n});return new Lc(r).toPromise()}async function Z$(t,e){const n=gf(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function tE(t,e){const n=gf(t,!0).delete(e);return new Lc(n).toPromise()}const e6=800,t6=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>t6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(Y$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K$(),!this.activeServiceWorker)return;this.sender=new q$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await eE(e,gh,"1"),await tE(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gf(s,!1).getAll();return new Lc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const n6=iR;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e){return e?Nr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r6(t){return QP(t.auth,new w0(t),t.bypassAuthState)}function s6(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),KP(n,new w0(t),t.bypassAuthState)}async function i6(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),P$(n,new w0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r6;case"linkViaPopup":case"linkViaRedirect":return i6;case"reauthViaPopup":case"reauthViaRedirect":return s6;default:Mn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Oc(2e3,1e4);async function a6(t,e,n){if(zn(t.app))return Promise.reject(Gn(t,"operation-not-supported-in-this-environment"));const r=ns(t);j3(t,e,v0);const s=oR(r,n);return new _i(r,"signInViaPopup",e,s).executeNotNull()}class _i extends aR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_i.currentPopupAction&&_i.currentPopupAction.cancel(),_i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o6.get())};e()}}_i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="pendingRedirect",gd=new Map;class c6 extends aR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await u6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u6(t,e){const n=f6(e),r=h6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function d6(t,e){gd.set(t._key(),e)}function h6(t){return Nr(t._redirectPersistence)}function f6(t){return md(l6,t.config.apiKey,t.name)}async function p6(t,e,n=!1){if(zn(t.app))return Promise.reject(Mr(t));const r=ns(t),s=oR(r,e),o=await new c6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=10*60*1e3;class g6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m6&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e={}){return Jn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w6=/^https?/;async function _6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v6(t);for(const n of e)try{if(E6(n))return}catch{}Mn(t,"unauthorized-domain")}function E6(t){const e=Fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!w6.test(n))return!1;if(x6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new Oc(3e4,6e4);function rE(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b6(t){return new Promise((e,n)=>{var r,s,i;function o(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),n(Gn(t,"network-request-failed"))},timeout:T6.get()})}if(!((s=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ar().gapi)===null||i===void 0)&&i.load)o();else{const a=l$("iframefcb");return ar()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},HP(`${a$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yd=null,e})}let yd=null;function S6(t){return yd=yd||b6(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Oc(5e3,15e3),I6="__/auth/iframe",P6="emulator/auth/iframe",R6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k6(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f0(e,P6):`https://${t.config.authDomain}/${I6}`,r={apiKey:e.apiKey,appName:t.name,v:Gi},s=A6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Sc(r).slice(1)}`}async function N6(t){const e=await S6(t),n=ar().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:k6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=ar().setTimeout(()=>{i(o)},C6.get());function l(){ar().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j6=500,O6=600,M6="_blank",V6="http://localhost";class sE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L6(t,e,n,r=j6,s=O6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},D6),{width:r.toString(),height:s.toString(),top:i,left:o}),c=zt().toLowerCase();n&&(a=LP(c)?M6:n),MP(c)&&(e=e||V6,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(J3(c)&&a!=="_self")return F6(e||"",a),new sE(null);const f=window.open(e||"",a,h);re(f,t,"popup-blocked");try{f.focus()}catch{}return new sE(f)}function F6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",U6="emulator/auth/handler",B6=encodeURIComponent("fac");async function iE(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gi,eventId:s};if(e instanceof v0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",fL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(i||{}))o[h]=f}if(e instanceof Vc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${B6}=${encodeURIComponent(l)}`:"";return`${z6(t)}?${Sc(a).slice(1)}${c}`}function z6({config:t}){return t.emulator?f0(t,U6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="webStorageSupport";class W6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tR,this._completeRedirectFn=p6,this._overrideRedirectResult=d6}async _openPopup(e,n,r,s){var i;Gr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await iE(e,n,r,Fg(),s);return L6(e,o,x0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await iE(e,n,r,Fg(),s);return G$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Gr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await N6(e),r=new g6(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Up,{type:Up},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Up];o!==void 0&&n(!!o),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zP()||VP()||m0()}}const H6=W6;var oE="@firebase/auth",aE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K6(t){ki(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WP(t)},c=new s$(r,s,i,l);return f$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ki(new Bs("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(r=>new q6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(oE,aE,G6(t)),ir(oE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=5*60,Y6=XC("authIdTokenMaxAge")||Q6;let lE=null;const X6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y6)return;const s=n==null?void 0:n.token;lE!==s&&(lE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function J6(t=bv()){const e=Zh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h$(t,{popupRedirectResolver:H6,persistence:[n6,W$,tR]}),r=XC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=X6(i.toString());F$(n,o,()=>o(n.currentUser)),L$(n,a=>o(a))}}const s=KC("auth");return s&&p$(n,`http://${s}`),n}function Z6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Z6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebasestorage.googleapis.com",e9="storageBucket",t9=2*60*1e3,n9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends mr{constructor(e,n,r=0){super(Bp(e),`Firebase Storage: ${n} (${Bp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function Bp(t){return"storage/"+t}function r9(){const t="An unknown error occurred, please check the error payload for server response.";return new gr(hr.UNKNOWN,t)}function s9(){return new gr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i9(){return new gr(hr.CANCELED,"User canceled the upload/download.")}function o9(t){return new gr(hr.INVALID_URL,"Invalid URL '"+t+"'.")}function a9(t){return new gr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cE(t){return new gr(hr.INVALID_ARGUMENT,t)}function uR(){return new gr(hr.APP_DELETED,"The Firebase app was deleted.")}function l9(t){return new gr(hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(r.path==="")return r;throw a9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),E={bucket:1,path:3},v=n===cR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${v}/${s}/${_}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:g,indices:E,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<T.length;C++){const A=T[C],O=A.regex.exec(e);if(O){const I=O[A.indices.bucket];let S=O[A.indices.path];S||(S=""),r=new Wn(I,S),A.postModify(r);break}}if(r==null)throw o9(e);return r}}class c9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(..._){c||(c=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function p(){i&&clearTimeout(i)}function g(_,...w){if(c){p();return}if(_){p(),h.call(null,_,...w);return}if(l()||o){p(),h.call(null,_,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let E=!1;function v(_){E||(E=!0,p(),!c&&(s!==null?(_||(a=2),clearTimeout(s),f(0)):_||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function d9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){return t!==void 0}function uE(t,e,n,r){if(r<e)throw cE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cE(`Invalid value for '${t}'. Expected ${n} or less.`)}function f9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var vh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vh||(vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,s,i,o,a,l,c,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,E)=>{this.resolve_=g,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Du(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===vh.NO_ERROR,l=i.getStatus();if(!a||p9(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===vh.ABORT;r(!1,new Du(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Du(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());h9(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=r9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?uR():i9();o(l)}else{const l=s9();o(l)}};this.canceled_?n(!1,new Du(!1,null,!0)):this.backoffId_=u9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Du{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w9(t,e,n,r,s,i,o=!0){const a=f9(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return v9(c,e),g9(c,n),y9(c,i),x9(c,r),new m9(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xh(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E9(this._location.path)}get storage(){return this._service}get parent(){const e=_9(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l9(e)}}function dE(t,e){const n=e==null?void 0:e[e9];return n==null?null:Wn.makeFromBucketSpec(n,t)}function T9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:JC(s,t.app.options.projectId))}class b9{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=cR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t9,this._maxUploadRetryTime=n9,this._requests=new Set,s!=null?this._bucket=Wn.makeFromBucketSpec(s,this._host):this._bucket=dE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=dE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new c9(uR());{const o=w9(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const hE="@firebase/storage",fE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="storage";function S9(t=bv(),e){t=Ue(t);const r=Zh(t,dR).getImmediate({identifier:e}),s=QC("storage");return s&&C9(r,...s),r}function C9(t,e,n,r={}){T9(t,e,n,r)}function I9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new b9(n,r,s,e,Gi)}function P9(){ki(new Bs(dR,I9,"PUBLIC").setMultipleInstances(!0)),ir(hE,fE,""),ir(hE,fE,"esm2017")}P9();const R9={apiKey:"AIzaSyA_bE6gzFdIFfKQySJQi7uudfgvaVBAlxI",authDomain:"fox2-77fdd.firebaseapp.com",projectId:"fox2-77fdd",storageBucket:"fox2-77fdd.appspot.com",messagingSenderId:"442481432364",appId:"1:442481432364:web:eb72754872a4bd1eedbe89",measurementId:"G-CYKGWRT6FT"},_0=tI(R9),br=f3(_0),Wo=J6(_0);S9(_0);const A9=new Cr,k9=new Sr,N9=new Ir,hR=m.createContext();function yf(){return m.useContext(hR)}function D9({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(!0);m.useEffect(()=>$$(Wo,f=>{n(f),s(!1)}),[]);const c={currentUser:e,loading:r,signOut:()=>U$(Wo),sendPasswordReset:h=>N$(Wo,h),updateUserPassword:h=>e?M$(e,h):Promise.reject(new Error("No user is currently signed in.")),reauthenticateUser:h=>{if(!e)return Promise.reject(new Error("No user is currently signed in."));const f=Xi.credential(e.email,h);return A$(e,f)}};return r?d.jsxs("div",{className:"flex items-center justify-center h-screen bg-background",children:[d.jsx(Dn,{className:"h-16 w-16 animate-spin text-primary"}),d.jsx("p",{className:"ml-4 text-xl text-foreground",children:"جاري تحميل بيانات المستخدم..."})]}):d.jsx(hR.Provider,{value:c,children:t})}const j9=1;let zp=0;function O9(){return zp=(zp+1)%Number.MAX_VALUE,zp.toString()}const Gt={state:{toasts:[]},listeners:[],getState:()=>Gt.state,setState:t=>{typeof t=="function"?Gt.state=t(Gt.state):Gt.state={...Gt.state,...t},Gt.listeners.forEach(e=>e(Gt.state))},subscribe:t=>(Gt.listeners.push(t),()=>{Gt.listeners=Gt.listeners.filter(e=>e!==t)})},M9=({...t})=>{const e=O9(),n=s=>Gt.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===e?{...o,...s}:o)})),r=()=>Gt.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==e)}));return Gt.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,j9)})),{id:e,dismiss:r,update:n}};function bn(){const[t,e]=m.useState(Gt.getState());return m.useEffect(()=>Gt.subscribe(r=>{e(r)}),[]),m.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:M9,toasts:t.toasts}}const fR=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),vf=m.createContext({}),xf=m.createContext(null),wf=typeof document<"u",E0=wf?m.useLayoutEffect:m.useEffect,pR=m.createContext({strict:!1}),T0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),V9="framerAppearId",mR="data-"+T0(V9);function L9(t,e,n,r){const{visualElement:s}=m.useContext(vf),i=m.useContext(pR),o=m.useContext(xf),a=m.useContext(fR).reducedMotion,l=m.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;m.useInsertionEffect(()=>{c&&c.update(n,o)});const h=m.useRef(!!(n[mR]&&!window.HandoffComplete));return E0(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),m.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function F9(t,e,n){return m.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ao(n)&&(n.current=r))},[e])}function hc(t){return typeof t=="string"||Array.isArray(t)}function _f(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const b0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S0=["initial",...b0];function Ef(t){return _f(t.animate)||S0.some(e=>hc(t[e]))}function gR(t){return!!(Ef(t)||t.variants)}function $9(t,e){if(Ef(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hc(n)?n:void 0,animate:hc(r)?r:void 0}}return t.inherit!==!1?e:{}}function U9(t){const{initial:e,animate:n}=$9(t,m.useContext(vf));return m.useMemo(()=>({initial:e,animate:n}),[pE(e),pE(n)])}function pE(t){return Array.isArray(t)?t.join(" "):t}const mE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fc={};for(const t in mE)fc[t]={isEnabled:e=>mE[t].some(n=>!!e[n])};function B9(t){for(const e in t)fc[e]={...fc[e],...t[e]}}const C0=m.createContext({}),yR=m.createContext({}),z9=Symbol.for("motionComponentSymbol");function W9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&B9(t);function i(a,l){let c;const h={...m.useContext(fR),...a,layoutId:H9(a)},{isStatic:f}=h,p=U9(a),g=r(a,f);if(!f&&wf){p.visualElement=L9(s,g,h,e);const E=m.useContext(yR),v=m.useContext(pR).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,v,t,E))}return m.createElement(vf.Provider,{value:p},c&&p.visualElement?m.createElement(c,{visualElement:p.visualElement,...h}):null,n(s,a,F9(g,p.visualElement,l),g,f,p.visualElement))}const o=m.forwardRef(i);return o[z9]=s,o}function H9({layoutId:t}){const e=m.useContext(C0).id;return e&&t!==void 0?e+"-"+t:t}function q9(t){function e(r,s={}){return W9(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const G9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I0(t){return typeof t!="string"||t.includes("-")?!1:!!(G9.indexOf(t)>-1||/[A-Z]/.test(t))}const wh={};function K9(t){Object.assign(wh,t)}const Fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ji=new Set(Fc);function vR(t,{layout:e,layoutId:n}){return Ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wh[t]||t==="opacity")}const cn=t=>!!(t&&t.getVelocity),Q9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y9=Fc.length;function X9(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<Y9;o++){const a=Fc[o];if(t[a]!==void 0){const l=Q9[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const xR=t=>e=>typeof e=="string"&&e.startsWith(t),wR=xR("--"),Bg=xR("var(--"),J9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Z9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,qs=(t,e,n)=>Math.min(Math.max(n,t),e),Zi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sl={...Zi,transform:t=>qs(0,1,t)},ju={...Zi,default:1},Cl=t=>Math.round(t*1e5)/1e5,Tf=/(-)?([\d]*\.?[\d])+/g,_R=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,eU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $c(t){return typeof t=="string"}const Uc=t=>({test:e=>$c(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ds=Uc("deg"),lr=Uc("%"),ae=Uc("px"),tU=Uc("vh"),nU=Uc("vw"),gE={...lr,parse:t=>lr.parse(t)/100,transform:t=>lr.transform(t*100)},yE={...Zi,transform:Math.round},ER={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:ds,skewX:ds,skewY:ds,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Sl,originX:gE,originY:gE,originZ:ae,zIndex:yE,fillOpacity:Sl,strokeOpacity:Sl,numOctaves:yE};function P0(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const f in e){const p=e[f];if(wR(f)){i[f]=p;continue}const g=ER[f],E=Z9(p,g);if(Ji.has(f)){if(l=!0,o[f]=E,!h)continue;p!==(g.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,a[f]=E):s[f]=E}if(e.transform||(l||r?s.transform=X9(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;s.transformOrigin=`${f} ${p} ${g}`}}const R0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TR(t,e,n){for(const r in e)!cn(e[r])&&!vR(r,n)&&(t[r]=e[r])}function rU({transformTemplate:t},e,n){return m.useMemo(()=>{const r=R0();return P0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function sU(t,e,n){const r=t.style||{},s={};return TR(s,r,t),Object.assign(s,rU(t,e,n)),t.transformValues?t.transformValues(s):s}function iU(t,e,n){const r={},s=sU(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const oU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _h(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oU.has(t)}let bR=t=>!_h(t);function aU(t){t&&(bR=e=>e.startsWith("on")?!_h(e):t(e))}try{aU(require("@emotion/is-prop-valid").default)}catch{}function lU(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(bR(s)||n===!0&&_h(s)||!e&&!_h(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function vE(t,e,n){return typeof t=="string"?t:ae.transform(e+n*t)}function cU(t,e,n){const r=vE(e,t.x,t.width),s=vE(n,t.y,t.height);return`${r} ${s}`}const uU={offset:"stroke-dashoffset",array:"stroke-dasharray"},dU={offset:"strokeDashoffset",array:"strokeDasharray"};function hU(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?uU:dU;t[i.offset]=ae.transform(-r);const o=ae.transform(e),a=ae.transform(n);t[i.array]=`${o} ${a}`}function A0(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f,p){if(P0(t,c,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:E,dimensions:v}=t;g.transform&&(v&&(E.transform=g.transform),delete g.transform),v&&(s!==void 0||i!==void 0||E.transform)&&(E.transformOrigin=cU(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&hU(g,o,a,l,!1)}const SR=()=>({...R0(),attrs:{}}),k0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fU(t,e,n,r){const s=m.useMemo(()=>{const i=SR();return A0(i,e,{enableHardwareAcceleration:!1},k0(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};TR(i,t.style,t),s.style={...i,...s.style}}return s}function pU(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(I0(n)?fU:iU)(r,i,o,n),h={...lU(r,typeof n=="string",t),...l,ref:s},{children:f}=r,p=m.useMemo(()=>cn(f)?f.get():f,[f]);return m.createElement(n,{...h,children:p})}}function CR(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const IR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PR(t,e,n,r){CR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(IR.has(s)?s:T0(s),e.attrs[s])}function N0(t,e){const{style:n}=t,r={};for(const s in n)(cn(n[s])||e.style&&cn(e.style[s])||vR(s,t))&&(r[s]=n[s]);return r}function RR(t,e){const n=N0(t,e);for(const r in t)if(cn(t[r])||cn(e[r])){const s=Fc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function D0(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function AR(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const Eh=t=>Array.isArray(t),mU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gU=t=>Eh(t)?t[t.length-1]||0:t;function vd(t){const e=cn(t)?t.get():t;return mU(e)?e.toValue():e}function yU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:vU(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const kR=t=>(e,n)=>{const r=m.useContext(vf),s=m.useContext(xf),i=()=>yU(t,e,r,s);return n?i():AR(i)};function vU(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=vd(i[p]);let{initial:o,animate:a}=t;const l=Ef(t),c=gR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!_f(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const E=D0(t,g);if(!E)return;const{transitionEnd:v,transition:_,...w}=E;for(const x in w){let T=w[x];if(Array.isArray(T)){const C=h?T.length-1:0;T=T[C]}T!==null&&(s[x]=T)}for(const x in v)s[x]=v[x]}),s}const tt=t=>t;class xE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function xU(t){let e=new xE,n=new xE,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const f=h&&s,p=f?e:n;return c&&o.add(l),p.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const Ou=["prepare","read","update","preRender","render","postRender"],wU=40;function _U(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ou.reduce((f,p)=>(f[p]=xU(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,wU),1),s.timestamp=f,s.isProcessing=!0,Ou.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Ou.reduce((f,p)=>{const g=i[p];return f[p]=(E,v=!1,_=!1)=>(n||l(),g.schedule(E,v,_)),f},{}),cancel:f=>Ou.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:Me,cancel:Kr,state:Vt,steps:Wp}=_U(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),EU={useVisualState:kR({scrapeMotionValuesFromProps:RR,createRenderState:SR,onMount:(t,e,{renderState:n,latestValues:r})=>{Me.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Me.render(()=>{A0(n,r,{enableHardwareAcceleration:!1},k0(e.tagName),t.transformTemplate),PR(e,n)})}})},TU={useVisualState:kR({scrapeMotionValuesFromProps:N0,createRenderState:R0})};function bU(t,{forwardMotionProps:e=!1},n,r){return{...I0(t)?EU:TU,preloadedFeatures:n,useRender:pU(e),createVisualElement:r,Component:t}}function Dr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const NR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function bf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const SU=t=>e=>NR(e)&&t(e,bf(e));function Vr(t,e,n,r){return Dr(t,e,SU(n),r)}const CU=(t,e)=>n=>e(t(n)),Vs=(...t)=>t.reduce(CU);function DR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const wE=DR("dragHorizontal"),_E=DR("dragVertical");function jR(t){let e=!1;if(t==="y")e=_E();else if(t==="x")e=wE();else{const n=wE(),r=_E();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function OR(){const t=jR(!0);return t?(t(),!1):!0}class ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}function EE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||OR())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Me.update(()=>a[r](i,o))};return Vr(t.current,n,s,{passive:!t.getProps()[r]})}class IU extends ri{mount(){this.unmount=Vs(EE(this.node,!0),EE(this.node,!1))}unmount(){}}class PU extends ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vs(Dr(this.node.current,"focus",()=>this.onFocus()),Dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MR=(t,e)=>e?t===e?!0:MR(t,e.parentElement):!1;function Hp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,bf(n))}class RU extends ri{constructor(){super(...arguments),this.removeStartListeners=tt,this.removeEndListeners=tt,this.removeAccessibleListeners=tt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Vr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Me.update(()=>{!f&&!MR(this.node.current,a.target)?h&&h(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Vr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Vs(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Hp("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Me.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Dr(this.node.current,"keyup",o),Hp("down",(a,l)=>{this.startPress(a,l)})},n=Dr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Hp("cancel",(i,o)=>this.cancelPress(i,o))},s=Dr(this.node.current,"blur",r);this.removeAccessibleListeners=Vs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Me.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Me.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Vr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Dr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zg=new WeakMap,qp=new WeakMap,AU=t=>{const e=zg.get(t.target);e&&e(t)},kU=t=>{t.forEach(AU)};function NU({root:t,...e}){const n=t||document;qp.has(n)||qp.set(n,{});const r=qp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(kU,{root:t,...e})),r[s]}function DU(t,e,n){const r=NU(e);return zg.set(t,n),r.observe(t),()=>{zg.delete(t),r.unobserve(t)}}const jU={some:0,all:1};class OU extends ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jU[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(l)};return DU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MU(e,n))&&this.startObserver()}unmount(){}}function MU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VU={inView:{Feature:OU},tap:{Feature:RU},focus:{Feature:PU},hover:{Feature:IU}};function VR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function LU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function FU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Sf(t,e,n){const r=t.getProps();return D0(r,e,n!==void 0?n:r.custom,LU(t),FU(t))}let $U=tt,j0=tt;const Ls=t=>t*1e3,Lr=t=>t/1e3,UU={current:!1},LR=t=>Array.isArray(t)&&typeof t[0]=="number";function FR(t){return!!(!t||typeof t=="string"&&$R[t]||LR(t)||Array.isArray(t)&&t.every(FR))}const ll=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$R={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ll([0,.65,.55,1]),circOut:ll([.55,0,1,.45]),backIn:ll([.31,.01,.66,-.59]),backOut:ll([.33,1.53,.69,.99])};function UR(t){if(t)return LR(t)?ll(t):Array.isArray(t)?t.map(UR):$R[t]}function BU(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=UR(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function zU(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const BR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WU=1e-7,HU=12;function qU(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=BR(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>WU&&++a<HU);return o}function Bc(t,e,n,r){if(t===e&&n===r)return tt;const s=i=>qU(i,0,1,t,n);return i=>i===0||i===1?i:BR(s(i),e,r)}const GU=Bc(.42,0,1,1),KU=Bc(0,0,.58,1),zR=Bc(.42,0,.58,1),QU=t=>Array.isArray(t)&&typeof t[0]!="number",WR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HR=t=>e=>1-t(1-e),O0=t=>1-Math.sin(Math.acos(t)),qR=HR(O0),YU=WR(O0),GR=Bc(.33,1.53,.69,.99),M0=HR(GR),XU=WR(M0),JU=t=>(t*=2)<1?.5*M0(t):.5*(2-Math.pow(2,-10*(t-1))),ZU={linear:tt,easeIn:GU,easeInOut:zR,easeOut:KU,circIn:O0,circInOut:YU,circOut:qR,backIn:M0,backInOut:XU,backOut:GR,anticipate:JU},TE=t=>{if(Array.isArray(t)){j0(t.length===4);const[e,n,r,s]=t;return Bc(e,n,r,s)}else if(typeof t=="string")return ZU[t];return t},V0=(t,e)=>n=>!!($c(n)&&eU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),KR=(t,e,n)=>r=>{if(!$c(r))return r;const[s,i,o,a]=r.match(Tf);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},e7=t=>qs(0,255,t),Gp={...Zi,transform:t=>Math.round(e7(t))},Ei={test:V0("rgb","red"),parse:KR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gp.transform(t)+", "+Gp.transform(e)+", "+Gp.transform(n)+", "+Cl(Sl.transform(r))+")"};function t7(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Wg={test:V0("#"),parse:t7,transform:Ei.transform},ko={test:V0("hsl","hue"),parse:KR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+lr.transform(Cl(e))+", "+lr.transform(Cl(n))+", "+Cl(Sl.transform(r))+")"},Kt={test:t=>Ei.test(t)||Wg.test(t)||ko.test(t),parse:t=>Ei.test(t)?Ei.parse(t):ko.test(t)?ko.parse(t):Wg.parse(t),transform:t=>$c(t)?t:t.hasOwnProperty("red")?Ei.transform(t):ko.transform(t)},qe=(t,e,n)=>-n*t+n*e+t;function Kp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function n7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Kp(l,a,t+1/3),i=Kp(l,a,t),o=Kp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Qp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},r7=[Wg,Ei,ko],s7=t=>r7.find(e=>e.test(t));function bE(t){const e=s7(t);let n=e.parse(t);return e===ko&&(n=n7(n)),n}const QR=(t,e)=>{const n=bE(t),r=bE(e),s={...n};return i=>(s.red=Qp(n.red,r.red,i),s.green=Qp(n.green,r.green,i),s.blue=Qp(n.blue,r.blue,i),s.alpha=qe(n.alpha,r.alpha,i),Ei.transform(s))};function i7(t){var e,n;return isNaN(t)&&$c(t)&&(((e=t.match(Tf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_R))===null||n===void 0?void 0:n.length)||0)>0}const YR={regex:J9,countKey:"Vars",token:"${v}",parse:tt},XR={regex:_R,countKey:"Colors",token:"${c}",parse:Kt.parse},JR={regex:Tf,countKey:"Numbers",token:"${n}",parse:Zi.parse};function Yp(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Th(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Yp(n,YR),Yp(n,XR),Yp(n,JR),n}function ZR(t){return Th(t).values}function eA(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Th(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(YR.token,o[l]):l<r+n?a=a.replace(XR.token,Kt.transform(o[l])):a=a.replace(JR.token,Cl(o[l]));return a}}const o7=t=>typeof t=="number"?0:t;function a7(t){const e=ZR(t);return eA(t)(e.map(o7))}const Gs={test:i7,parse:ZR,createTransformer:eA,getAnimatableNone:a7},tA=(t,e)=>n=>`${n>0?e:t}`;function nA(t,e){return typeof t=="number"?n=>qe(t,e,n):Kt.test(t)?QR(t,e):t.startsWith("var(")?tA(t,e):sA(t,e)}const rA=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>nA(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},l7=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=nA(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},sA=(t,e)=>{const n=Gs.createTransformer(e),r=Th(t),s=Th(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Vs(rA(r.values,s.values),n):tA(t,e)},pc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},SE=(t,e)=>n=>qe(t,e,n);function c7(t){return typeof t=="number"?SE:typeof t=="string"?Kt.test(t)?QR:sA:Array.isArray(t)?rA:typeof t=="object"?l7:SE}function u7(t,e,n){const r=[],s=n||c7(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||tt:e;a=Vs(l,a)}r.push(a)}return r}function iA(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(j0(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=u7(e,r,s),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=pc(t[h],t[h+1],c);return o[h](f)};return n?c=>l(qs(t[0],t[i-1],c)):l}function d7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=pc(0,e,r);t.push(qe(n,1,s))}}function h7(t){const e=[0];return d7(e,t.length-1),e}function f7(t,e){return t.map(n=>n*e)}function p7(t,e){return t.map(()=>e||zR).splice(0,t.length-1)}function bh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=QU(r)?r.map(TE):TE(r),i={done:!1,value:e[0]},o=f7(n&&n.length===e.length?n:h7(e),t),a=iA(o,e,{ease:Array.isArray(s)?s:p7(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function oA(t,e){return e?t*(1e3/e):0}const m7=5;function aA(t,e,n){const r=Math.max(e-m7,0);return oA(n-t(r),e-r)}const Xp=.001,g7=.01,CE=10,y7=.05,v7=1;function x7({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i;$U(t<=Ls(CE));let o=1-e;o=qs(y7,v7,o),t=qs(g7,CE,Lr(t)),o<1?(s=c=>{const h=c*o,f=h*t,p=h-n,g=Hg(c,o),E=Math.exp(-f);return Xp-p/g*E},i=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-f),v=Hg(Math.pow(c,2),o);return(-s(c)+Xp>0?-1:1)*((p-g)*E)/v}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Xp+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=_7(s,i,a);if(t=Ls(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const w7=12;function _7(t,e,n){let r=n;for(let s=1;s<w7;s++)r=r-t(r)/e(r);return r}function Hg(t,e){return t*Math.sqrt(1-e*e)}const E7=["duration","bounce"],T7=["stiffness","damping","mass"];function IE(t,e){return e.some(n=>t[n]!==void 0)}function b7(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!IE(t,T7)&&IE(t,E7)){const n=x7(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lA({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=b7({...r,velocity:-Lr(r.velocity||0)}),g=f||0,E=l/(2*Math.sqrt(a*c)),v=i-s,_=Lr(Math.sqrt(a/c)),w=Math.abs(v)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let x;if(E<1){const T=Hg(_,E);x=C=>{const A=Math.exp(-E*_*C);return i-A*((g+E*_*v)/T*Math.sin(T*C)+v*Math.cos(T*C))}}else if(E===1)x=T=>i-Math.exp(-_*T)*(v+(g+_*v)*T);else{const T=_*Math.sqrt(E*E-1);x=C=>{const A=Math.exp(-E*_*C),O=Math.min(T*C,300);return i-A*((g+E*_*v)*Math.sinh(O)+T*v*Math.cosh(O))/T}}return{calculatedDuration:p&&h||null,next:T=>{const C=x(T);if(p)o.done=T>=h;else{let A=g;T!==0&&(E<1?A=aA(x,T,C):A=0);const O=Math.abs(A)<=n,I=Math.abs(i-C)<=e;o.done=O&&I}return o.value=o.done?i:C,o}}}function PE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,E=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const _=f+v,w=o===void 0?_:o(_);w!==_&&(v=w-f);const x=S=>-v*Math.exp(-S/r),T=S=>w+x(S),C=S=>{const P=x(S),k=T(S);p.done=Math.abs(P)<=c,p.value=p.done?w:k};let A,O;const I=S=>{g(p.value)&&(A=S,O=lA({keyframes:[p.value,E(p.value)],velocity:aA(T,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:S=>{let P=!1;return!O&&A===void 0&&(P=!0,C(S),I(S)),A!==void 0&&S>A?O.next(S-A):(!P&&C(S),p)}}}const S7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Me.update(e,!0),stop:()=>Kr(e),now:()=>Vt.isProcessing?Vt.timestamp:performance.now()}},RE=2e4;function AE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<RE;)e+=n,r=t.next(e);return e>=RE?1/0:e}const C7={decay:PE,inertia:PE,tween:bh,keyframes:bh,spring:lA};function Sh({autoplay:t=!0,delay:e=0,driver:n=S7,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:f,...p}){let g=1,E=!1,v,_;const w=()=>{_=new Promise(Y=>{v=Y})};w();let x;const T=C7[s]||bh;let C;T!==bh&&typeof r[0]!="number"&&(C=iA([0,100],r,{clamp:!1}),r=[0,100]);const A=T({...p,keyframes:r});let O;a==="mirror"&&(O=T({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",S=null,P=null,k=null;A.calculatedDuration===null&&i&&(A.calculatedDuration=AE(A));const{calculatedDuration:D}=A;let j=1/0,N=1/0;D!==null&&(j=D+o,N=j*(i+1)-o);let L=0;const B=Y=>{if(P===null)return;g>0&&(P=Math.min(P,Y)),g<0&&(P=Math.min(Y-N/g,P)),S!==null?L=S:L=Math.round(Y-P)*g;const le=L-e*(g>=0?1:-1),ie=g>=0?le<0:le>N;L=Math.max(le,0),I==="finished"&&S===null&&(L=N);let Be=L,Xe=A;if(i){const ze=Math.min(L,N)/j;let xe=Math.floor(ze),fe=ze%1;!fe&&ze>=1&&(fe=1),fe===1&&xe--,xe=Math.min(xe,i+1),!!(xe%2)&&(a==="reverse"?(fe=1-fe,o&&(fe-=o/j)):a==="mirror"&&(Xe=O)),Be=qs(0,1,fe)*j}const ke=ie?{done:!1,value:r[0]}:Xe.next(Be);C&&(ke.value=C(ke.value));let{done:te}=ke;!ie&&D!==null&&(te=g>=0?L>=N:L<=0);const Re=S===null&&(I==="finished"||I==="running"&&te);return f&&f(ke.value),Re&&V(),ke},W=()=>{x&&x.stop(),x=void 0},K=()=>{I="idle",W(),v(),w(),P=k=null},V=()=>{I="finished",h&&h(),W(),v()},z=()=>{if(E)return;x||(x=n(B));const Y=x.now();l&&l(),S!==null?P=Y-S:(!P||I==="finished")&&(P=Y),I==="finished"&&w(),k=P,S=null,I="running",x.start()};t&&z();const G={then(Y,le){return _.then(Y,le)},get time(){return Lr(L)},set time(Y){Y=Ls(Y),L=Y,S!==null||!x||g===0?S=Y:P=x.now()-Y/g},get duration(){const Y=A.calculatedDuration===null?AE(A):A.calculatedDuration;return Lr(Y)},get speed(){return g},set speed(Y){Y===g||!x||(g=Y,G.time=Lr(L))},get state(){return I},play:z,pause:()=>{I="paused",S=L},stop:()=>{E=!0,I!=="idle"&&(I="idle",c&&c(),K())},cancel:()=>{k!==null&&B(k),K()},complete:()=>{I="finished"},sample:Y=>(P=0,B(Y))};return G}function I7(t){let e;return()=>(e===void 0&&(e=t()),e)}const P7=I7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),R7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Mu=10,A7=2e4,k7=(t,e)=>e.type==="spring"||t==="backgroundColor"||!FR(e.ease);function N7(t,e,{onUpdate:n,onComplete:r,...s}){if(!(P7()&&R7.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(T=>{a=T})};h();let{keyframes:f,duration:p=300,ease:g,times:E}=s;if(k7(e,s)){const T=Sh({...s,repeat:0,delay:0});let C={done:!1,value:f[0]};const A=[];let O=0;for(;!C.done&&O<A7;)C=T.sample(O),A.push(C.value),O+=Mu;E=void 0,f=A,p=O-Mu,g="linear"}const v=BU(t.owner.current,e,f,{...s,duration:p,ease:g,times:E}),_=()=>{c=!1,v.cancel()},w=()=>{c=!0,Me.update(_),a(),h()};return v.onfinish=()=>{c||(t.set(zU(f,s)),r&&r(),w())},{then(T,C){return l.then(T,C)},attachTimeline(T){return v.timeline=T,v.onfinish=null,tt},get time(){return Lr(v.currentTime||0)},set time(T){v.currentTime=Ls(T)},get speed(){return v.playbackRate},set speed(T){v.playbackRate=T},get duration(){return Lr(p)},play:()=>{o||(v.play(),Kr(_))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:T}=v;if(T){const C=Sh({...s,autoplay:!1});t.setWithVelocity(C.sample(T-Mu).value,C.sample(T).value,Mu)}w()},complete:()=>{c||v.finish()},cancel:w}}function D7({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:tt,pause:tt,stop:tt,then:i=>(i(),Promise.resolve()),cancel:tt,complete:tt});return e?Sh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const j7={type:"spring",stiffness:500,damping:25,restSpeed:10},O7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),M7={type:"keyframes",duration:.8},V7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L7=(t,{keyframes:e})=>e.length>2?M7:Ji.has(t)?t.startsWith("scale")?O7(e[1]):j7:V7,qg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gs.test(e)||e==="0")&&!e.startsWith("url(")),F7=new Set(["brightness","contrast","saturate","opacity"]);function $7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Tf)||[];if(!r)return t;const s=n.replace(r,"");let i=F7.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const U7=/([a-z-]*)\(.*?\)/g,Gg={...Gs,getAnimatableNone:t=>{const e=t.match(U7);return e?e.map($7).join(" "):t}},B7={...ER,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Gg,WebkitFilter:Gg},L0=t=>B7[t];function cA(t,e){let n=L0(t);return n!==Gg&&(n=Gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uA=t=>/^0[^.\s]+$/.test(t);function z7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||uA(t)}function W7(t,e,n,r){const s=qg(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),z7(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];i[h]=cA(e,a)}return i}function H7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function F0(t,e){return t[e]||t.default||t}const q7={skipAnimations:!1},$0=(t,e,n,r={})=>s=>{const i=F0(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ls(o);const l=W7(e,t,n,i),c=l[0],h=l[l.length-1],f=qg(t,c),p=qg(t,h);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:E=>{e.set(E),i.onUpdate&&i.onUpdate(E)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(H7(i)||(g={...g,...L7(t,g)}),g.duration&&(g.duration=Ls(g.duration)),g.repeatDelay&&(g.repeatDelay=Ls(g.repeatDelay)),!f||!p||UU.current||i.type===!1||q7.skipAnimations)return D7(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=N7(e,t,g);if(E)return E}return Sh(g)};function Ch(t){return!!(cn(t)&&t.add)}const dA=t=>/^\-?\d*\.?\d+$/.test(t);function U0(t,e){t.indexOf(e)===-1&&t.push(e)}function B0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class z0{constructor(){this.subscriptions=[]}add(e){return U0(this.subscriptions,e),()=>B0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const G7=t=>!isNaN(parseFloat(t));class K7{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Vt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Me.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Me.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=G7(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oa(t,e){return new K7(t,e)}const hA=t=>e=>e.test(t),Q7={test:t=>t==="auto",parse:t=>t},fA=[Zi,ae,lr,ds,nU,tU,Q7],Xa=t=>fA.find(hA(t)),Y7=[...fA,Kt,Gs],X7=t=>Y7.find(hA(t));function J7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oa(n))}function Z7(t,e){const n=Sf(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=gU(i[o]);J7(t,o,a)}}function eB(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),h!=null&&(typeof h=="string"&&(dA(h)||uA(h))?h=parseFloat(h):!X7(h)&&Gs.test(c)&&(h=cA(l,c)),t.addValue(l,oa(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function tB(t,e){return e?(e[t]||e.default||e).from:void 0}function nB(t,e,n){const r={};for(const s in t){const i=tB(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function rB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sB(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function pA(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),g=a[f];if(!p||g===void 0||h&&rB(h,f))continue;const E={delay:n,elapsed:0,...F0(i||{},f)};if(window.HandoffAppearAnimations){const w=t.getProps()[mR];if(w){const x=window.HandoffAppearAnimations(w,f,p,Me);x!==null&&(E.elapsed=x,E.isHandoff=!0)}}let v=!E.isHandoff&&!sB(p,g);if(E.type==="spring"&&(p.getVelocity()||E.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start($0(f,p,g,t.shouldReduceMotion&&Ji.has(f)?{type:!1}:E));const _=p.animation;Ch(l)&&(l.add(f),_.then(()=>l.remove(f))),c.push(_)}return o&&Promise.all(c).then(()=>{o&&Z7(t,o)}),c}function Kg(t,e,n={}){const r=Sf(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(pA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return iB(t,e,c+l,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function iB(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(oB).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Kg(c,e,{...i,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function oB(t,e){return t.sortNodePosition(e)}function aB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Kg(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Kg(t,e,n);else{const s=typeof e=="function"?Sf(t,e,n.custom):e;r=Promise.all(pA(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const lB=[...b0].reverse(),cB=b0.length;function uB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aB(t,n,r)))}function dB(t){let e=uB(t);const n=fB();let r=!0;const s=(l,c)=>{const h=Sf(t,c);if(h){const{transition:f,transitionEnd:p,...g}=h;l={...l,...g,...p}}return l};function i(l){e=l(t)}function o(l,c){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],g=new Set;let E={},v=1/0;for(let w=0;w<cB;w++){const x=lB[w],T=n[x],C=h[x]!==void 0?h[x]:f[x],A=hc(C),O=x===c?T.isActive:null;O===!1&&(v=w);let I=C===f[x]&&C!==h[x]&&A;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...E},!T.isActive&&O===null||!C&&!T.prevProp||_f(C)||typeof C=="boolean")continue;let P=hB(T.prevProp,C)||x===c&&T.isActive&&!I&&A||w>v&&A,k=!1;const D=Array.isArray(C)?C:[C];let j=D.reduce(s,{});O===!1&&(j={});const{prevResolvedValues:N={}}=T,L={...N,...j},B=W=>{P=!0,g.has(W)&&(k=!0,g.delete(W)),T.needsAnimating[W]=!0};for(const W in L){const K=j[W],V=N[W];if(E.hasOwnProperty(W))continue;let z=!1;Eh(K)&&Eh(V)?z=!VR(K,V):z=K!==V,z?K!==void 0?B(W):g.add(W):K!==void 0&&g.has(W)?B(W):T.protectedKeys[W]=!0}T.prevProp=C,T.prevResolvedValues=j,T.isActive&&(E={...E,...j}),r&&t.blockInitialAnimation&&(P=!1),P&&(!I||k)&&p.push(...D.map(W=>({animation:W,options:{type:x,...l}})))}if(g.size){const w={};g.forEach(x=>{const T=t.getBaseTarget(x);T!==void 0&&(w[x]=T)}),p.push({animation:w})}let _=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function a(l,c,h){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var E;return(E=g.animationState)===null||E===void 0?void 0:E.setActive(l,c)}),n[l].isActive=c;const p=o(h,l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function hB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VR(e,t):!1}function ci(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fB(){return{animate:ci(!0),whileInView:ci(),whileHover:ci(),whileTap:ci(),whileDrag:ci(),whileFocus:ci(),exit:ci()}}class pB extends ri{constructor(e){super(e),e.animationState||(e.animationState=dB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_f(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let mB=0;class gB extends ri{constructor(){super(...arguments),this.id=mB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yB={animation:{Feature:pB},exit:{Feature:gB}},kE=(t,e)=>Math.abs(t-e);function vB(t,e){const n=kE(t.x,e.x),r=kE(t.y,e.y);return Math.sqrt(n**2+r**2)}class mA{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=vB(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:E}=f,{timestamp:v}=Vt;this.history.push({...E,timestamp:v});const{onStart:_,onMove:w}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jp(p,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Zp(f.type==="pointercancel"?this.lastMoveEventInfo:Jp(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,_),E&&E(f,_)},!NR(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=bf(e),a=Jp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Vt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Zp(a,this.history)),this.removeListeners=Vs(Vr(this.contextWindow,"pointermove",this.handlePointerMove),Vr(this.contextWindow,"pointerup",this.handlePointerUp),Vr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function Jp(t,e){return e?{point:e(t.point)}:t}function NE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:NE(t,gA(e)),offset:NE(t,xB(e)),velocity:wB(e,.1)}}function xB(t){return t[0]}function gA(t){return t[t.length-1]}function wB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=gA(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const i=Lr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _n(t){return t.max-t.min}function Qg(t,e=0,n=.01){return Math.abs(t-e)<=n}function DE(t,e,n,r=.5){t.origin=r,t.originPoint=qe(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),(Qg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=qe(n.min,n.max,t.origin)-t.originPoint,(Qg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Il(t,e,n,r){DE(t.x,e.x,n.x,r?r.originX:void 0),DE(t.y,e.y,n.y,r?r.originY:void 0)}function jE(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function _B(t,e,n){jE(t.x,e.x,n.x),jE(t.y,e.y,n.y)}function OE(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function Pl(t,e,n){OE(t.x,e.x,n.x),OE(t.y,e.y,n.y)}function EB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qe(n,t,r.max):Math.min(t,n)),t}function ME(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TB(t,{top:e,left:n,bottom:r,right:s}){return{x:ME(t.x,n,s),y:ME(t.y,e,r)}}function VE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bB(t,e){return{x:VE(t.x,e.x),y:VE(t.y,e.y)}}function SB(t,e){let n=.5;const r=_n(t),s=_n(e);return s>r?n=pc(e.min,e.max-r,t.min):r>s&&(n=pc(t.min,t.max-s,e.min)),qs(0,1,n)}function CB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Yg=.35;function IB(t=Yg){return t===!1?t=0:t===!0&&(t=Yg),{x:LE(t,"left","right"),y:LE(t,"top","bottom")}}function LE(t,e,n){return{min:FE(t,e),max:FE(t,n)}}function FE(t,e){return typeof t=="number"?t:t[e]||0}const $E=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:$E(),y:$E()}),UE=()=>({min:0,max:0}),lt=()=>({x:UE(),y:UE()});function Cn(t){return[t("x"),t("y")]}function yA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function em(t){return t===void 0||t===1}function Xg({scale:t,scaleX:e,scaleY:n}){return!em(t)||!em(e)||!em(n)}function fi(t){return Xg(t)||vA(t)||t.z||t.rotate||t.rotateX||t.rotateY}function vA(t){return BE(t.x)||BE(t.y)}function BE(t){return t&&t!=="0%"}function Ih(t,e,n){const r=t-n,s=e*r;return n+s}function zE(t,e,n,r,s){return s!==void 0&&(t=Ih(t,s,r)),Ih(t,n,r)+e}function Jg(t,e=0,n=1,r,s){t.min=zE(t.min,e,n,r,s),t.max=zE(t.max,e,n,r,s)}function xA(t,{x:e,y:n}){Jg(t.x,e.translate,e.scale,e.originPoint),Jg(t.y,n.translate,n.scale,n.originPoint)}function AB(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Do(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,xA(t,o)),r&&fi(i.latestValues)&&Do(t,i.latestValues))}e.x=WE(e.x),e.y=WE(e.y)}function WE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function gs(t,e){t.min=t.min+e,t.max=t.max+e}function HE(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=qe(t.min,t.max,i);Jg(t,e[n],e[r],o,e.scale)}const kB=["x","scaleX","originX"],NB=["y","scaleY","originY"];function Do(t,e){HE(t.x,e,kB),HE(t.y,e,NB)}function wA(t,e){return yA(RB(t.getBoundingClientRect(),e))}function DB(t,e,n){const r=wA(t,n),{scroll:s}=e;return s&&(gs(r.x,s.offset.x),gs(r.y,s.offset.y)),r}const _A=({current:t})=>t?t.ownerDocument.defaultView:null,jB=new WeakMap;class OB{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bf(h,"page").point)},i=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:E}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jR(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(_=>{let w=this.getAxisMotionValue(_).get()||0;if(lr.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const T=x.layout.layoutBox[_];T&&(w=_n(T)*(parseFloat(w)/100))}}this.originPoint[_]=w}),E&&Me.update(()=>E(h,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:E,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=f;if(g&&this.currentDirection===null){this.currentDirection=MB(_),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),v&&v(h,f)},a=(h,f)=>this.stop(h,f),l=()=>Cn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mA(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_A(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Me.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=EB(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=TB(s.layoutBox,n):this.constraints=!1,this.elastic=IB(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=CB(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=DB(r,s.root,this.visualElement.getTransformPagePoint());let o=bB(s.layout.layoutBox,i);if(n){const a=n(PB(o));this.hasMutatedConstraints=!!a,a&&(o=yA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cn(h=>{if(!Vu(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($0(e,r,0,n))}stopAnimation(){Cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cn(n=>{const{drag:r}=this.getProps();if(!Vu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ao(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Cn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=SB({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cn(o=>{if(!Vu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;jB.set(this.visualElement,this);const e=this.visualElement.current,n=Vr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ao(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Dr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Yg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Vu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function MB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VB extends ri{constructor(e){super(e),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new OB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const qE=t=>(e,n)=>{t&&Me.update(()=>t(e,n))};class LB extends ri{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(e){this.session=new mA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_A(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:qE(e),onStart:qE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Me.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Vr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function FB(){const t=m.useContext(xf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=m.useId();return m.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const xd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ja={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=GE(t,e.target.x),r=GE(t,e.target.y);return`${n}% ${r}%`}},$B={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gs.parse(t);if(s.length>5)return r;const i=Gs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class UB extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;K9(BB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Me.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EA(t){const[e,n]=FB(),r=m.useContext(C0);return Z.createElement(UB,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(yR),isPresent:e,safeToRemove:n})}const BB={borderRadius:{...Ja,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ja,borderTopRightRadius:Ja,borderBottomLeftRadius:Ja,borderBottomRightRadius:Ja,boxShadow:$B},TA=["TopLeft","TopRight","BottomLeft","BottomRight"],zB=TA.length,KE=t=>typeof t=="string"?parseFloat(t):t,QE=t=>typeof t=="number"||ae.test(t);function WB(t,e,n,r,s,i){s?(t.opacity=qe(0,n.opacity!==void 0?n.opacity:1,HB(r)),t.opacityExit=qe(e.opacity!==void 0?e.opacity:1,0,qB(r))):i&&(t.opacity=qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<zB;o++){const a=`border${TA[o]}Radius`;let l=YE(e,a),c=YE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||QE(l)===QE(c)?(t[a]=Math.max(qe(KE(l),KE(c),r),0),(lr.test(c)||lr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=qe(e.rotate||0,n.rotate||0,r))}function YE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const HB=bA(0,.5,qR),qB=bA(.5,.95,tt);function bA(t,e,n){return r=>r<t?0:r>e?1:n(pc(t,e,r))}function XE(t,e){t.min=e.min,t.max=e.max}function Sn(t,e){XE(t.x,e.x),XE(t.y,e.y)}function JE(t,e,n,r,s){return t-=e,t=Ih(t,1/n,r),s!==void 0&&(t=Ih(t,1/s,r)),t}function GB(t,e=0,n=1,r=.5,s,i=t,o=t){if(lr.test(e)&&(e=parseFloat(e),e=qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qe(i.min,i.max,r);t===i&&(a-=e),t.min=JE(t.min,e,n,a,s),t.max=JE(t.max,e,n,a,s)}function ZE(t,e,[n,r,s],i,o){GB(t,e[n],e[r],e[s],e.scale,i,o)}const KB=["x","scaleX","originX"],QB=["y","scaleY","originY"];function eT(t,e,n,r){ZE(t.x,e,KB,n?n.x:void 0,r?r.x:void 0),ZE(t.y,e,QB,n?n.y:void 0,r?r.y:void 0)}function tT(t){return t.translate===0&&t.scale===1}function SA(t){return tT(t.x)&&tT(t.y)}function YB(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function CA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function nT(t){return _n(t.x)/_n(t.y)}class XB{constructor(){this.members=[]}add(e){U0(this.members,e),e.scheduleRender()}remove(e){if(B0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rT(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const JB=(t,e)=>t.depth-e.depth;class ZB{constructor(){this.children=[],this.isDirty=!1}add(e){U0(this.children,e),this.isDirty=!0}remove(e){B0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JB),this.isDirty=!1,this.children.forEach(e)}}function e8(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Kr(r),t(i-e))};return Me.read(r,!0),()=>Kr(r)}function t8(t){window.MotionDebug&&window.MotionDebug.record(t)}function n8(t){return t instanceof SVGElement&&t.tagName!=="svg"}function r8(t,e,n){const r=cn(t)?t:oa(t);return r.start($0("",r,e,n)),r.animation}const sT=["","X","Y","Z"],s8={visibility:"hidden"},iT=1e3;let i8=0;const pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function IA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=i8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pi.totalNodes=pi.resolvedTargetDeltas=pi.recalculatedProjection=0,this.nodes.forEach(l8),this.nodes.forEach(f8),this.nodes.forEach(p8),this.nodes.forEach(c8),t8(pi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=e8(p,250),xd.hasAnimatedSinceResize&&(xd.hasAnimatedSinceResize=!1,this.nodes.forEach(aT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||x8,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=h.getProps(),x=!this.targetLayout||!CA(this.targetLayout,E)||g,T=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const C={...F0(v,"layout"),onPlay:_,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||aT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oT);return}this.isUpdating||this.nodes.forEach(d8),this.isUpdating=!1,this.nodes.forEach(h8),this.nodes.forEach(o8),this.nodes.forEach(a8),this.clearAllSnapshots();const a=performance.now();Vt.delta=qs(0,1e3/60,a-Vt.timestamp),Vt.timestamp=a,Vt.isProcessing=!0,Wp.update.process(Vt),Wp.preRender.process(Vt),Wp.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(u8),this.sharedNodes.forEach(g8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!SA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||fi(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),w8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return lt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(gs(a.x,l.offset.x),gs(a.y,l.offset.y)),a}removeElementScroll(o){const a=lt();Sn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:f}=c;if(c!==this.root&&h&&f.layoutScroll){if(h.isRoot){Sn(a,o);const{scroll:p}=this.root;p&&(gs(a.x,-p.offset.x),gs(a.y,-p.offset.y))}gs(a.x,h.offset.x),gs(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=lt();Sn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Do(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),fi(h.latestValues)&&Do(l,h.latestValues)}return fi(this.latestValues)&&Do(l,this.latestValues),l}removeTransform(o){const a=lt();Sn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fi(c.latestValues))continue;Xg(c.latestValues)&&c.updateSnapshot();const h=lt(),f=c.measurePageBox();Sn(h,f),eT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return fi(this.latestValues)&&eT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Pl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_B(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),xA(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Pl(this.relativeTargetOrigin,this.target,g.target),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xg(this.parent.latestValues)||vA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Sn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;AB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:E}=a;if(!E){this.projectionTransform&&(this.projectionDelta=No(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=No(),this.projectionDeltaWithTransform=No());const v=this.projectionTransform;Il(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=rT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=lt(),g=l?l.source:void 0,E=this.layout?this.layout.source:void 0,v=g!==E,_=this.getStack(),w=!_||_.members.length<=1,x=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(v8));this.animationProgress=0;let T;this.mixTargetDelta=C=>{const A=C/1e3;lT(f.x,o.x,A),lT(f.y,o.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y8(this.relativeTarget,this.relativeTargetOrigin,p,A),T&&YB(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=lt()),Sn(T,this.relativeTarget)),v&&(this.animationValues=h,WB(h,c,this.latestValues,A,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{xd.hasAnimatedSinceResize=!0,this.currentAnimation=r8(0,iT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&PA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||lt();const f=_n(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=_n(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Sn(a,l),Do(a,h),Il(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<sT.length;h++){const f="rotate"+sT[h];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return s8;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vd(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=vd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fi(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=rT(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:g,y:E}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${E.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in wh){if(p[v]===void 0)continue;const{correct:_,applyTo:w}=wh[v],x=c.transform==="none"?p[v]:_(p[v],f);if(w){const T=w.length;for(let C=0;C<T;C++)c[w[C]]=x}else c[v]=x}return this.options.layoutId&&(c.pointerEvents=f===this?vd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(oT),this.root.sharedNodes.clear()}}}function o8(t){t.updateLayout()}function a8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Cn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=_n(p);p.min=r[f].min,p.max=p.min+g}):PA(i,n.layoutBox,r)&&Cn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=_n(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=No();Il(a,r,n.layoutBox);const l=No();o?Il(l,t.applyTransform(s,!0),n.measuredBox):Il(l,r,n.layoutBox);const c=!SA(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const E=lt();Pl(E,n.layoutBox,p.layoutBox);const v=lt();Pl(v,r,g.layoutBox),CA(E,v)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l8(t){pi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u8(t){t.clearSnapshot()}function oT(t){t.clearMeasurements()}function d8(t){t.isLayoutDirty=!1}function h8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function aT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f8(t){t.resolveTargetDelta()}function p8(t){t.calcProjection()}function m8(t){t.resetRotation()}function g8(t){t.removeLeadSnapshot()}function lT(t,e,n){t.translate=qe(e.translate,0,n),t.scale=qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cT(t,e,n,r){t.min=qe(e.min,n.min,r),t.max=qe(e.max,n.max,r)}function y8(t,e,n,r){cT(t.x,e.x,n.x,r),cT(t.y,e.y,n.y,r)}function v8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x8={duration:.45,ease:[.4,0,.1,1]},uT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),dT=uT("applewebkit/")&&!uT("chrome/")?Math.round:tt;function hT(t){t.min=dT(t.min),t.max=dT(t.max)}function w8(t){hT(t.x),hT(t.y)}function PA(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qg(nT(e),nT(n),.2)}const _8=IA({attachResizeListener:(t,e)=>Dr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tm={current:void 0},RA=IA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tm.current){const t=new _8({});t.mount(window),t.setOptions({layoutScroll:!0}),tm.current=t}return tm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E8={pan:{Feature:LB},drag:{Feature:VB,ProjectionNode:RA,MeasureLayout:EA}},T8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function b8(t){const e=T8.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Zg(t,e,n=1){const[r,s]=b8(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return dA(o)?parseFloat(o):o}else return Bg(s)?Zg(s,e,n+1):s}function S8(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Bg(i))return;const o=Zg(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Bg(i))continue;const o=Zg(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const C8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AA=t=>C8.has(t),I8=t=>Object.keys(t).some(AA),fT=t=>t===Zi||t===ae,pT=(t,e)=>parseFloat(t.split(", ")[e]),mT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return pT(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?pT(i[1],t):0}},P8=new Set(["x","y","z"]),R8=Fc.filter(t=>!P8.has(t));function A8(t){const e=[];return R8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:mT(4,13),y:mT(5,14)};aa.translateX=aa.x;aa.translateY=aa.y;const k8=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=aa[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=aa[c](l,i)}),t},N8=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(AA);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],f=Xa(h);const p=e[l];let g;if(Eh(p)){const E=p.length,v=p[0]===null?1:0;h=p[v],f=Xa(h);for(let _=v;_<E&&p[_]!==null;_++)g?j0(Xa(p[_])===g):g=Xa(p[_])}else g=Xa(p);if(f!==g)if(fT(f)&&fT(g)){const E=c.get();typeof E=="string"&&c.set(parseFloat(E)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===ae&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(h===0||p===0)?h===0?c.set(g.transform(h)):e[l]=f.transform(p):(o||(i=A8(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=k8(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),wf&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function D8(t,e,n,r){return I8(e)?N8(t,e,n,r):{target:e,transitionEnd:r}}const j8=(t,e,n,r)=>{const s=S8(t,e,r);return e=s.target,r=s.transitionEnd,D8(t,e,n,r)},ey={current:null},kA={current:!1};function O8(){if(kA.current=!0,!!wf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ey.current=t.matches;t.addListener(e),e()}else ey.current=!1}function M8(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(cn(i))t.addValue(s,i),Ch(r)&&r.add(s);else if(cn(o))t.addValue(s,oa(i,{owner:t})),Ch(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,oa(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const gT=new WeakMap,NA=Object.keys(fc),V8=NA.length,yT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],L8=S0.length;class F8{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Me.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Ef(n),this.isVariantNode=gR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];a[f]!==void 0&&cn(p)&&(p.set(a[f],!1),Ch(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,gT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kA.current||O8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gT.delete(this.current),this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ji.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Me.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<V8;l++){const c=NA[l],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:g}=fc[c];p&&(o=p),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||f&&Ao(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yT.length;r++){const s=yT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=M8(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<L8;r++){const s=S0[r],i=this.props[s];(hc(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=oa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=D0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!cn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DA extends F8{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=nB(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){eB(this,r,o);const a=j8(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function $8(t){return window.getComputedStyle(t)}class U8 extends DA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ji.has(n)){const r=L0(n);return r&&r.default||0}else{const r=$8(e),s=(wR(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wA(e,n)}build(e,n,r,s){P0(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return N0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){CR(e,n,r,s)}}class B8 extends DA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ji.has(n)){const r=L0(n);return r&&r.default||0}return n=IR.has(n)?n:T0(n),e.getAttribute(n)}measureInstanceViewportBox(){return lt()}scrapeMotionValuesFromProps(e,n){return RR(e,n)}build(e,n,r,s){A0(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){PR(e,n,r,s)}mount(e){this.isSVGTag=k0(e.tagName),super.mount(e)}}const z8=(t,e)=>I0(t)?new B8(e,{enableHardwareAcceleration:!1}):new U8(e,{enableHardwareAcceleration:!0}),W8={layout:{ProjectionNode:RA,MeasureLayout:EA}},H8={...yB,...VU,...E8,...W8},se=q9((t,e)=>bU(t,e,H8,z8));function jA(){const t=m.useRef(!1);return E0(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function q8(){const t=jA(),[e,n]=m.useState(0),r=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>Me.postRender(r),[r]),e]}class G8 extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K8({children:t,isPresent:e}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),m.createElement(G8,{isPresent:e,childRef:r,sizeRef:s},m.cloneElement(t,{ref:r}))}const nm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=AR(Q8),l=m.useId(),c=m.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return m.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=m.createElement(K8,{isPresent:n},t)),m.createElement(xf.Provider,{value:c},t)};function Q8(){return new Map}function Y8(t){return m.useEffect(()=>()=>t(),[])}const mi=t=>t.key||"";function X8(t,e){t.forEach(n=>{const r=mi(n);e.set(r,n)})}function J8(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const W0=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useContext(C0).forceRender||q8()[0],l=jA(),c=J8(t);let h=c;const f=m.useRef(new Map).current,p=m.useRef(h),g=m.useRef(new Map).current,E=m.useRef(!0);if(E0(()=>{E.current=!1,X8(c,g),p.current=h}),Y8(()=>{E.current=!0,g.clear(),f.clear()}),E.current)return m.createElement(m.Fragment,null,h.map(x=>m.createElement(nm,{key:mi(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));h=[...h];const v=p.current.map(mi),_=c.map(mi),w=v.length;for(let x=0;x<w;x++){const T=v[x];_.indexOf(T)===-1&&!f.has(T)&&f.set(T,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((x,T)=>{if(_.indexOf(T)!==-1)return;const C=g.get(T);if(!C)return;const A=v.indexOf(T);let O=x;if(!O){const I=()=>{f.delete(T);const S=Array.from(g.keys()).filter(P=>!_.includes(P));if(S.forEach(P=>g.delete(P)),p.current=c.filter(P=>{const k=mi(P);return k===T||S.includes(k)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=m.createElement(nm,{key:mi(C),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:i,mode:o},C),f.set(T,O)}h.splice(A,0,O)}),h=h.map(x=>{const T=x.key;return f.has(T)?x:m.createElement(nm,{key:mi(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),m.createElement(m.Fragment,null,f.size?h:h.map(x=>m.cloneElement(x)))},Z8=()=>{const{currentUser:t,signOut:e}=yf(),n=ti(),{toast:r}=bn(),[s,i]=m.useState(0);m.useEffect(()=>{const a=()=>{const l=JSON.parse(localStorage.getItem("cartItems"))||[];i(l.reduce((c,h)=>c+h.quantity,0))};return a(),window.addEventListener("cartUpdated",a),()=>{window.removeEventListener("cartUpdated",a)}},[]);const o=async()=>{try{await e(),r({title:"تم تسجيل الخروج بنجاح!",description:"نأمل رؤيتك مرة أخرى قريباً.",variant:"default"}),n("/")}catch(a){r({title:"خطأ في تسجيل الخروج",description:a.message,variant:"destructive"})}};return d.jsx(se.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"bg-gradient-to-r from-water-blue to-water-green/80 shadow-lg sticky top-0 z-50 py-3 px-4 md:px-8",children:d.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[d.jsxs(et,{to:"/",className:"flex items-center space-x-2 text-white hover:opacity-90 transition-opacity",children:[d.jsx(tc,{size:36,className:"text-white"}),d.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"رايت واتر"})]}),d.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-4",children:[d.jsx(et,{to:"/products",children:d.jsx(de,{variant:"ghost",className:"text-white hover:bg-white/20 px-2 sm:px-3",children:"المنتجات"})}),d.jsx(et,{to:"/cart",children:d.jsxs(de,{variant:"ghost",className:"text-white hover:bg-white/20 relative px-2 sm:px-3",children:[d.jsx(Yd,{size:20}),d.jsx("span",{className:"ml-1 hidden md:inline",children:"السلة"}),s>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:s})]})}),t?d.jsxs(d.Fragment,{children:[t.email&&(t.email.toLowerCase().includes("admin@rightwater.com")||t.email.toLowerCase().includes("testadmin@example.com"))&&d.jsx(et,{to:"/admin",children:d.jsxs(de,{variant:"ghost",className:"text-white hover:bg-white/20 px-2 sm:px-3",children:[d.jsx(xv,{size:20}),d.jsx("span",{className:"ml-1 hidden md:inline",children:"التحكم"})]})}),d.jsx(et,{to:"/profile",children:d.jsxs(de,{variant:"ghost",className:"text-white hover:bg-white/20 px-2 sm:px-3",children:[d.jsx(Xd,{size:20}),d.jsx("span",{className:"ml-1 hidden md:inline",children:"ملفي"})]})}),d.jsxs(de,{variant:"ghost",onClick:o,className:"text-white hover:bg-white/20 px-2 sm:px-3",children:[d.jsx(NV,{size:20}),d.jsx("span",{className:"ml-1 hidden md:inline",children:"خروج"})]})]}):d.jsx(et,{to:"/login",children:d.jsxs(de,{variant:"outline",className:"text-white border-white hover:bg-white hover:text-primary px-2 sm:px-3",children:[d.jsx(MC,{size:20}),d.jsx("span",{className:"ml-1",children:"دخول"})]})})]})]})})},ez=()=>{const t=new Date().getFullYear();return d.jsxs(se.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"bg-gradient-to-r from-water-blue-dark to-water-blue text-primary-foreground py-12 px-4",children:[d.jsxs("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-right",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-center md:justify-start mb-4",children:[d.jsx(tc,{size:32,className:"mr-2"}),d.jsx("span",{className:"text-2xl font-bold",children:"رايت واتر"})]}),d.jsx("p",{className:"text-sm text-blue-100",children:"نلتزم بتوفير أنظمة معالجة مياه وحلول شرب صحية عالية الجودة لضمان حياة أفضل."})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xl font-semibold mb-4",children:"روابط سريعة"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-water-blue-light transition-colors",children:"الرئيسية"})}),d.jsx("li",{children:d.jsx("a",{href:"/products",className:"hover:text-water-blue-light transition-colors",children:"المنتجات"})}),d.jsx("li",{children:d.jsx("a",{href:"/about",className:"hover:text-water-blue-light transition-colors",children:"عن الشركة"})}),d.jsx("li",{children:d.jsx("a",{href:"/contact",className:"hover:text-water-blue-light transition-colors",children:"اتصل بنا"})})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xl font-semibold mb-4",children:"تابعنا"}),d.jsxs("div",{className:"flex justify-center md:justify-start space-x-4 space-x-reverse mb-4",children:[d.jsx("a",{href:"#",className:"hover:text-water-blue-light transition-colors",children:d.jsx(OC,{size:24})}),d.jsx("a",{href:"#",className:"hover:text-water-blue-light transition-colors",children:d.jsx(BC,{size:24})}),d.jsx("a",{href:"#",className:"hover:text-water-blue-light transition-colors",children:d.jsx(RV,{size:24})}),d.jsx("a",{href:"#",className:"hover:text-water-blue-light transition-colors",children:d.jsx(AV,{size:24})})]}),d.jsxs("p",{className:"text-sm text-blue-100",children:["العنوان: 123 شارع النيل، القاهرة، مصر",d.jsx("br",{}),"الهاتف: +20 2 12345678"]})]})]}),d.jsx("div",{className:"mt-8 pt-8 border-t border-water-blue-light/30 text-center text-sm text-blue-100",children:d.jsxs("p",{children:["© ",t," شركة رايت واتر. جميع الحقوق محفوظة. العملة: جنيه مصري (EGP)"]})})]})};function _e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function tz(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function eo(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:g,...E}=f,v=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,_=m.useMemo(()=>E,Object.values(E));return d.jsx(v.Provider,{value:_,children:g})};c.displayName=i+"Provider";function h(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,E=m.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,nz(s,...e)]}function nz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function H0(t){const e=t+"CollectionProvider",[n,r]=eo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:w}=v,x=Z.useRef(null),T=Z.useRef(new Map).current;return d.jsx(s,{scope:_,itemMap:T,collectionRef:x,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=ec(a),c=Z.forwardRef((v,_)=>{const{scope:w,children:x}=v,T=i(a,w),C=ot(_,T.collectionRef);return d.jsx(l,{ref:C,children:x})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ec(h),g=Z.forwardRef((v,_)=>{const{scope:w,children:x,...T}=v,C=Z.useRef(null),A=ot(_,C),O=i(h,w);return Z.useEffect(()=>(O.itemMap.set(C,{ref:C,...T}),()=>void O.itemMap.delete(C))),d.jsx(p,{[f]:"",ref:A,children:x})});g.displayName=h;function E(v){const _=i(t+"CollectionConsumer",v);return Z.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const T=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((O,I)=>T.indexOf(O.ref.current)-T.indexOf(I.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},E,r]}var rz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=rz.reduce((t,e)=>{const n=ec(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function OA(t,e){t&&Zs.flushSync(()=>t.dispatchEvent(e))}function fr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function sz(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var iz="DismissableLayer",ty="dismissableLayer.update",oz="dismissableLayer.pointerDownOutside",az="dismissableLayer.focusOutside",vT,MA=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q0=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(MA),[h,f]=m.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),E=ot(e,I=>f(I)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(_),x=h?v.indexOf(h):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,C=x>=w,A=cz(I=>{const S=I.target,P=[...c.branches].some(k=>k.contains(S));!C||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=uz(I=>{const S=I.target;[...c.branches].some(k=>k.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return sz(I=>{x===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),m.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(vT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),xT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=vT)}},[h,p,n,c]),m.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),xT())},[h,c]),m.useEffect(()=>{const I=()=>g({});return document.addEventListener(ty,I),()=>document.removeEventListener(ty,I)},[]),d.jsx(Pe.div,{...l,ref:E,style:{pointerEvents:T?C?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,O.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,A.onPointerDownCapture)})});q0.displayName=iz;var lz="DismissableLayerBranch",VA=m.forwardRef((t,e)=>{const n=m.useContext(MA),r=m.useRef(null),s=ot(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Pe.div,{...t,ref:s})});VA.displayName=lz;function cz(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){LA(oz,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uz(t,e=globalThis==null?void 0:globalThis.document){const n=fr(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&LA(az,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xT(){const t=new CustomEvent(ty);document.dispatchEvent(t)}function LA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OA(s,i):s.dispatchEvent(i)}var dz=q0,hz=VA,$i=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},fz="Portal",G0=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);$i(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gC.createPortal(d.jsx(Pe.div,{...r,ref:e}),o):null});G0.displayName=fz;function pz(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var to=t=>{const{present:e,children:n}=t,r=mz(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ot(r.ref,gz(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};to.displayName="Presence";function mz(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=pz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Lu(r.current);i.current=a==="mounted"?c:"none"},[a]),$i(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=Lu(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),$i(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=g=>{const v=Lu(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Lu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Lu(t){return(t==null?void 0:t.animationName)||"none"}function gz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yz=Oh[" useInsertionEffect ".trim().toString()]||$i;function _a({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=vz({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=m.useCallback(h=>{var f;if(a){const p=xz(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function vz({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return yz(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function xz(t){return typeof t=="function"}var wz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_z="VisuallyHidden",K0=m.forwardRef((t,e)=>d.jsx(Pe.span,{...t,ref:e,style:{...wz,...t.style}}));K0.displayName=_z;var Q0="ToastProvider",[Y0,Ez,Tz]=H0("Toast"),[FA,nQ]=eo("Toast",[Tz]),[bz,Cf]=FA(Q0),$A=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,h]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Q0}\`. Expected non-empty \`string\`.`),d.jsx(Y0.Provider,{scope:e,children:d.jsx(bz,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>h(g=>g+1),[]),onToastRemove:m.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};$A.displayName=Q0;var UA="ToastViewport",Sz=["F8"],ny="toast.viewportPause",ry="toast.viewportResume",BA=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Sz,label:s="Notifications ({hotkey})",...i}=t,o=Cf(UA,n),a=Ez(n),l=m.useRef(null),c=m.useRef(null),h=m.useRef(null),f=m.useRef(null),p=ot(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;m.useEffect(()=>{const _=w=>{var T;r.length!==0&&r.every(C=>w[C]||w.code===C)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,w=f.current;if(E&&_&&w){const x=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(ny);w.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(ry);w.dispatchEvent(O),o.isClosePausedRef.current=!1}},C=O=>{!_.contains(O.relatedTarget)&&T()},A=()=>{_.contains(document.activeElement)||T()};return _.addEventListener("focusin",x),_.addEventListener("focusout",C),_.addEventListener("pointermove",x),_.addEventListener("pointerleave",A),window.addEventListener("blur",x),window.addEventListener("focus",T),()=>{_.removeEventListener("focusin",x),_.removeEventListener("focusout",C),_.removeEventListener("pointermove",x),_.removeEventListener("pointerleave",A),window.removeEventListener("blur",x),window.removeEventListener("focus",T)}}},[E,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const x=a().map(T=>{const C=T.ref.current,A=[C,...Lz(C)];return _==="forwards"?A:A.reverse()});return(_==="forwards"?x.reverse():x).flat()},[a]);return m.useEffect(()=>{const _=f.current;if(_){const w=x=>{var A,O,I;const T=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!T){const S=document.activeElement,P=x.shiftKey;if(x.target===_&&P){(A=c.current)==null||A.focus();return}const j=v({tabbingDirection:P?"backwards":"forwards"}),N=j.findIndex(L=>L===S);rm(j.slice(N+1))?x.preventDefault():P?(O=c.current)==null||O.focus():(I=h.current)==null||I.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,v]),d.jsxs(hz,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&d.jsx(sy,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});rm(_)}}),d.jsx(Y0.Slot,{scope:n,children:d.jsx(Pe.ol,{tabIndex:-1,...i,ref:p})}),E&&d.jsx(sy,{ref:h,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});rm(_)}})]})});BA.displayName=UA;var zA="ToastFocusProxy",sy=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Cf(zA,n);return d.jsx(K0,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});sy.displayName=zA;var zc="Toast",Cz="toast.swipeStart",Iz="toast.swipeMove",Pz="toast.swipeCancel",Rz="toast.swipeEnd",WA=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=_a({prop:r,defaultProp:s??!0,onChange:i,caller:zc});return d.jsx(to,{present:n||a,children:d.jsx(Nz,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:fr(t.onPause),onResume:fr(t.onResume),onSwipeStart:_e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:_e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});WA.displayName=zc;var[Az,kz]=FA(zc,{onClose(){}}),Nz=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...E}=t,v=Cf(zc,n),[_,w]=m.useState(null),x=ot(e,L=>w(L)),T=m.useRef(null),C=m.useRef(null),A=s||v.duration,O=m.useRef(0),I=m.useRef(A),S=m.useRef(0),{onToastAdd:P,onToastRemove:k}=v,D=fr(()=>{var B;(_==null?void 0:_.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),o()}),j=m.useCallback(L=>{!L||L===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(D,L))},[D]);m.useEffect(()=>{const L=v.viewport;if(L){const B=()=>{j(I.current),c==null||c()},W=()=>{const K=new Date().getTime()-O.current;I.current=I.current-K,window.clearTimeout(S.current),l==null||l()};return L.addEventListener(ny,W),L.addEventListener(ry,B),()=>{L.removeEventListener(ny,W),L.removeEventListener(ry,B)}}},[v.viewport,A,l,c,j]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&j(A)},[i,A,v.isClosePausedRef,j]),m.useEffect(()=>(P(),()=>k()),[P,k]);const N=m.useMemo(()=>_?XA(_):null,[_]);return v.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(Dz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(Az,{scope:n,onClose:D,children:Zs.createPortal(d.jsx(Y0.ItemSlot,{scope:n,children:d.jsx(dz,{asChild:!0,onEscapeKeyDown:_e(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...E,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_e(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:_e(t.onPointerDown,L=>{L.button===0&&(T.current={x:L.clientX,y:L.clientY})}),onPointerMove:_e(t.onPointerMove,L=>{if(!T.current)return;const B=L.clientX-T.current.x,W=L.clientY-T.current.y,K=!!C.current,V=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=V?z(0,B):0,Y=V?0:z(0,W),le=L.pointerType==="touch"?10:2,ie={x:G,y:Y},Be={originalEvent:L,delta:ie};K?(C.current=ie,Fu(Iz,f,Be,{discrete:!1})):wT(ie,v.swipeDirection,le)?(C.current=ie,Fu(Cz,h,Be,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(B)>le||Math.abs(W)>le)&&(T.current=null)}),onPointerUp:_e(t.onPointerUp,L=>{const B=C.current,W=L.target;if(W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),C.current=null,T.current=null,B){const K=L.currentTarget,V={originalEvent:L,delta:B};wT(B,v.swipeDirection,v.swipeThreshold)?Fu(Rz,g,V,{discrete:!0}):Fu(Pz,p,V,{discrete:!0}),K.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Dz=t=>{const{__scopeToast:e,children:n,...r}=t,s=Cf(zc,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return Mz(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(G0,{asChild:!0,children:d.jsx(K0,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},jz="ToastTitle",HA=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Pe.div,{...r,ref:e})});HA.displayName=jz;var Oz="ToastDescription",qA=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Pe.div,{...r,ref:e})});qA.displayName=Oz;var GA="ToastAction",KA=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(YA,{altText:n,asChild:!0,children:d.jsx(X0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GA}\`. Expected non-empty \`string\`.`),null)});KA.displayName=GA;var QA="ToastClose",X0=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=kz(QA,n);return d.jsx(YA,{asChild:!0,children:d.jsx(Pe.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,s.onClose)})})});X0.displayName=QA;var YA=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function XA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Vz(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...XA(r))}}),e}function Fu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?OA(s,i):s.dispatchEvent(i)}var wT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Mz(t=()=>{}){const e=fr(t);$i(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Vz(t){return t.nodeType===t.ELEMENT_NODE}function Lz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Fz=$A,JA=BA,ZA=WA,ek=HA,tk=qA,nk=KA,rk=X0;const $z=Fz,sk=Z.forwardRef(({className:t,...e},n)=>d.jsx(JA,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sk.displayName=JA.displayName;const Uz=gv("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ik=Z.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(ZA,{ref:r,className:he(Uz({variant:e}),t),...n}));ik.displayName=ZA.displayName;const Bz=Z.forwardRef(({className:t,...e},n)=>d.jsx(nk,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Bz.displayName=nk.displayName;const ok=Z.forwardRef(({className:t,...e},n)=>d.jsx(rk,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(zC,{className:"h-4 w-4"})}));ok.displayName=rk.displayName;const ak=Z.forwardRef(({className:t,...e},n)=>d.jsx(ek,{ref:n,className:he("text-sm font-semibold",t),...e}));ak.displayName=ek.displayName;const lk=Z.forwardRef(({className:t,...e},n)=>d.jsx(tk,{ref:n,className:he("text-sm opacity-90",t),...e}));lk.displayName=tk.displayName;function ck(){const{toasts:t}=bn();return d.jsxs($z,{children:[t.map(({id:e,title:n,description:r,action:s,...i})=>d.jsxs(ik,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(ak,{children:n}),r&&d.jsx(lk,{children:r})]}),s,d.jsx(ok,{})]},e)),d.jsx(sk,{})]})}const zz=()=>d.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[d.jsx(Z8,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:d.jsx(CC,{})}),d.jsx(ez,{}),d.jsx(ck,{})]}),Ge=Z.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm glassmorphism-card",t),...e}));Ge.displayName="Card";const vt=Z.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));vt.displayName="CardHeader";const xt=Z.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));xt.displayName="CardTitle";const cr=Z.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));cr.displayName="CardDescription";const st=Z.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));st.displayName="CardContent";const si=Z.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));si.displayName="CardFooter";const $u=({icon:t,title:e,description:n,delay:r})=>d.jsx(se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:r},children:d.jsxs(Ge,{className:"text-center h-full glassmorphism-card hover:shadow-2xl transition-shadow duration-300",children:[d.jsxs(vt,{children:[d.jsx("div",{className:"mx-auto bg-gradient-to-br from-primary to-secondary text-white rounded-full p-4 w-fit mb-4",children:t}),d.jsx(xt,{className:"text-2xl text-primary",children:e})]}),d.jsx(st,{children:d.jsx(cr,{className:"text-foreground/80 text-base",children:n})})]})}),Wz=()=>d.jsxs("div",{className:"space-y-16",children:[d.jsx(se.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"text-center py-16 md:py-24 bg-gradient-to-br from-water-blue/20 via-water-green/10 to-transparent rounded-xl shadow-lg",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsx(se.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"inline-block p-4 bg-gradient-to-r from-primary to-secondary rounded-full mb-6 shadow-md",children:d.jsx(tc,{size:64,className:"text-white"})}),d.jsx(se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-5xl md:text-6xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"مياه نقية لحياة صحية مع رايت واتر"}),d.jsx(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-xl md:text-2xl text-foreground/80 mb-10 max-w-3xl mx-auto",children:"نقدم حلولاً مبتكرة لمعالجة المياه وأنظمة شرب صحية تضمن لك ولعائلتك مياهاً آمنة ونقية كل يوم."}),d.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:d.jsx(et,{to:"/products",children:d.jsx(de,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg px-10 py-6 rounded-full shadow-lg transform hover:scale-105 transition-transform duration-300",children:"اكتشف منتجاتنا"})})})]})}),d.jsxs("section",{className:"container mx-auto px-4",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-primary",children:"لماذا تختار رايت واتر؟"}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[d.jsx($u,{icon:d.jsx(tc,{size:40}),title:"جودة لا تضاهى",description:"نستخدم أحدث التقنيات لضمان أعلى معايير نقاء المياه.",delay:.2}),d.jsx($u,{icon:d.jsx(xv,{size:40}),title:"حلول موثوقة",description:"منتجاتنا مصممة لتدوم طويلاً وتوفر أداءً يمكن الاعتماد عليه.",delay:.4}),d.jsx($u,{icon:d.jsx(WC,{size:40}),title:"تركيب سريع",description:"فريقنا المحترف يضمن تركيباً سلساً وفعالاً لأنظمتنا.",delay:.6}),d.jsx($u,{icon:d.jsx(_v,{size:40}),title:"دعم فني متميز",description:"نقدم دعماً فنياً شاملاً وخدمة عملاء استثنائية.",delay:.8})]})]}),d.jsx("section",{className:"container mx-auto px-4 py-12",children:d.jsx("div",{className:"bg-gradient-to-r from-secondary to-primary text-white p-10 rounded-xl shadow-xl text-center md:text-right",children:d.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[d.jsxs("div",{className:"mb-6 md:mb-0",children:[d.jsx("h2",{className:"text-3xl font-bold mb-3",children:"هل أنت مستعد لتحسين جودة مياهك؟"}),d.jsx("p",{className:"text-lg opacity-90",children:"تواصل معنا اليوم للحصول على استشارة مجانية واكتشف الحل الأمثل لاحتياجاتك."})]}),d.jsx(et,{to:"/contact",children:d.jsx(de,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-primary text-lg px-8 py-4 rounded-full transform hover:scale-105 transition-transform duration-300",children:"اتصل بنا الآن"})})]})})}),d.jsxs("section",{className:"container mx-auto px-4 text-center",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-8 text-primary",children:"منتجاتنا المميزة"}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx(se.div,{whileHover:{y:-10},className:"cursor-pointer",children:d.jsxs(Ge,{className:"overflow-hidden glassmorphism-card",children:[d.jsx("img",{alt:"فلتر مياه منزلي",className:"w-full h-56 object-cover",src:"https://images.unsplash.com/photo-1660053094665-a21094758e8b"}),d.jsx(vt,{children:d.jsx(xt,{className:"text-primary",children:"فلتر مياه منزلي"})}),d.jsx(st,{children:d.jsx(cr,{children:"نظام تنقية متعدد المراحل يوفر مياه شرب نقية وصحية."})})]})}),d.jsx(se.div,{whileHover:{y:-10},className:"cursor-pointer",children:d.jsxs(Ge,{className:"overflow-hidden glassmorphism-card",children:[d.jsx("img",{alt:"محطة تحلية مياه صغيرة",className:"w-full h-56 object-cover",src:"https://images.unsplash.com/photo-1614195975309-a3baf592274f"}),d.jsx(vt,{children:d.jsx(xt,{className:"text-primary",children:"محطة تحلية صغيرة"})}),d.jsx(st,{children:d.jsx(cr,{children:"حل مثالي لتحويل المياه المالحة إلى مياه عذبة صالحة للشرب."})})]})}),d.jsx(se.div,{whileHover:{y:-10},className:"cursor-pointer",children:d.jsxs(Ge,{className:"overflow-hidden glassmorphism-card",children:[d.jsx("img",{alt:"نظام معالجة مياه صناعي",className:"w-full h-56 object-cover",src:"https://images.unsplash.com/photo-1614195975309-a3baf592274f"}),d.jsx(vt,{children:d.jsx(xt,{className:"text-primary",children:"أنظمة معالجة صناعية"})}),d.jsx(st,{children:d.jsx(cr,{children:"حلول مخصصة لمعالجة المياه للاستخدامات الصناعية المختلفة."})})]})})]}),d.jsx(et,{to:"/products",className:"mt-10 inline-block",children:d.jsx(de,{size:"lg",variant:"link",className:"text-primary text-lg hover:text-secondary",children:"عرض جميع المنتجات →"})})]})]}),ye=Z.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ye.displayName="Input";var Hz="Label",uk=m.forwardRef((t,e)=>d.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uk.displayName=Hz;var dk=uk;const qz=gv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=Z.forwardRef(({className:t,...e},n)=>d.jsx(dk,{ref:n,className:he(qz(),t),...e}));pe.displayName=dk.displayName;const Gz=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),o=ti(),{toast:a}=bn(),l=async h=>{h.preventDefault(),i(!0);try{await j$(Wo,t,n),a({title:"تم تسجيل الدخول بنجاح!",description:"مرحباً بعودتك."}),t.toLowerCase()==="admin@rightwater.com"||t.toLowerCase()==="testadmin@example.com"?o("/admin"):o("/profile")}catch(f){a({title:"فشل تسجيل الدخول",description:f.message==="Firebase: Error (auth/invalid-credential)."?"البريد الإلكتروني أو كلمة المرور غير صحيحة.":f.message,variant:"destructive"})}i(!1)},c=async h=>{i(!0);try{const f=await a6(Wo,h);a({title:"تم تسجيل الدخول بنجاح!",description:`مرحباً ${f.user.displayName||f.user.email}!`}),f.user.email&&(f.user.email.toLowerCase()==="admin@rightwater.com"||f.user.email.toLowerCase()==="testadmin@example.com")?o("/admin"):o("/profile")}catch(f){a({title:"فشل تسجيل الدخول الاجتماعي",description:f.message,variant:"destructive"})}i(!1)};return d.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-center min-h-[calc(100vh-200px)] bg-gradient-to-br from-water-blue/10 to-water-green/5 p-4",children:d.jsxs(Ge,{className:"w-full max-w-md shadow-2xl glassmorphism-card",children:[d.jsxs(vt,{className:"text-center",children:[d.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},className:"mx-auto bg-gradient-to-r from-primary to-secondary text-white rounded-full p-3 w-fit mb-4",children:d.jsx(MC,{size:32})}),d.jsx(xt,{className:"text-3xl font-bold text-primary",children:"تسجيل الدخول"}),d.jsx(cr,{children:"مرحباً بعودتك! يرجى إدخال بياناتك."})]}),d.jsxs(st,{children:[d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pe,{htmlFor:"email",children:"البريد الإلكتروني"}),d.jsxs("div",{className:"relative",children:[d.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"email",type:"email",placeholder:"example@mail.com",value:t,onChange:h=>e(h.target.value),required:!0,className:"pl-10"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pe,{htmlFor:"password",children:"كلمة المرور"}),d.jsxs("div",{className:"relative",children:[d.jsx(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"password",type:"password",placeholder:"********",value:n,onChange:h=>r(h.target.value),required:!0,className:"pl-10"})]})]}),d.jsx(de,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg",disabled:s,children:s?"جاري الدخول...":"تسجيل الدخول"})]}),d.jsxs("div",{className:"mt-6 relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"أو سجل الدخول باستخدام"})})]}),d.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-3",children:[d.jsxs(de,{variant:"outline",onClick:()=>c(A9),disabled:s,children:[d.jsx(vV,{className:"mr-2 h-4 w-4"})," Google"]}),d.jsxs(de,{variant:"outline",onClick:()=>c(k9),disabled:s,children:[d.jsx(OC,{className:"mr-2 h-4 w-4"})," Facebook"]}),d.jsxs(de,{variant:"outline",onClick:()=>c(N9),disabled:s,children:[d.jsx(BC,{className:"mr-2 h-4 w-4"})," Twitter"]})]})]}),d.jsxs(si,{className:"flex flex-col items-center space-y-2",children:[d.jsx(et,{to:"/forgot-password",children:d.jsx(de,{variant:"link",className:"text-sm text-primary",children:"هل نسيت كلمة المرور؟"})}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["ليس لديك حساب؟"," ",d.jsx(et,{to:"/signup",className:"font-medium text-primary hover:underline",children:"أنشئ حساباً جديداً"})]})]})]})})},Kz=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(!1),h=ti(),{toast:f}=bn(),p=async g=>{if(g.preventDefault(),s!==o){f({title:"خطأ في كلمة المرور",description:"كلمتا المرور غير متطابقتين.",variant:"destructive"});return}c(!0);try{const E=await D$(Wo,n,s);await XP(E.user,{displayName:t}),f({title:"تم إنشاء الحساب بنجاح!",description:`مرحباً بك ${t||n}!`}),h("/")}catch(E){f({title:"فشل إنشاء الحساب",description:E.message,variant:"destructive"})}c(!1)};return d.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-center min-h-[calc(100vh-200px)] bg-gradient-to-br from-water-blue/10 to-water-green/5 p-4",children:d.jsxs(Ge,{className:"w-full max-w-md shadow-2xl glassmorphism-card",children:[d.jsxs(vt,{className:"text-center",children:[d.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},className:"mx-auto bg-gradient-to-r from-primary to-secondary text-white rounded-full p-3 w-fit mb-4",children:d.jsx(qV,{size:32})}),d.jsx(xt,{className:"text-3xl font-bold text-primary",children:"إنشاء حساب جديد"}),d.jsx(cr,{children:"انضم إلينا للاستمتاع بأفضل حلول المياه النقية."})]}),d.jsx(st,{children:d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pe,{htmlFor:"displayName",children:"الاسم الكامل"}),d.jsxs("div",{className:"relative",children:[d.jsx(Xd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"displayName",type:"text",placeholder:"مثال: أحمد محمد",value:t,onChange:g=>e(g.target.value),required:!0,className:"pl-10"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(pe,{htmlFor:"email",children:"البريد الإلكتروني"}),d.jsxs("div",{className:"relative",children:[d.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"email",type:"email",placeholder:"example@mail.com",value:n,onChange:g=>r(g.target.value),required:!0,className:"pl-10"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(pe,{htmlFor:"password",children:"كلمة المرور"}),d.jsxs("div",{className:"relative",children:[d.jsx(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"password",type:"password",placeholder:"********",value:s,onChange:g=>i(g.target.value),required:!0,className:"pl-10"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(pe,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),d.jsxs("div",{className:"relative",children:[d.jsx(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"confirmPassword",type:"password",placeholder:"********",value:o,onChange:g=>a(g.target.value),required:!0,className:"pl-10"})]})]}),d.jsx(de,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg",disabled:l,children:l?"جاري الإنشاء...":"إنشاء الحساب"})]})}),d.jsx(si,{className:"flex justify-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["لديك حساب بالفعل؟"," ",d.jsx(et,{to:"/login",className:"font-medium text-primary hover:underline",children:"سجل الدخول"})]})})]})})},J0=Z.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"w-full overflow-auto",children:d.jsx("table",{ref:n,className:he("w-full caption-bottom text-sm",t),...e})}));J0.displayName="Table";const Z0=Z.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:he("[&_tr]:border-b",t),...e}));Z0.displayName="TableHeader";const ex=Z.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:he("[&_tr:last-child]:border-0",t),...e}));ex.displayName="TableBody";const Qz=Z.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:he("bg-primary font-medium text-primary-foreground",t),...e}));Qz.displayName="TableFooter";const tx=Z.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));tx.displayName="TableRow";const Rn=Z.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:he("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Rn.displayName="TableHead";const An=Z.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));An.displayName="TableCell";const Yz=Z.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:he("mt-4 text-sm text-muted-foreground",t),...e}));Yz.displayName="TableCaption";const nx=Z.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));nx.displayName="Textarea";var Xz=Oh[" useId ".trim().toString()]||(()=>{}),Jz=0;function Rl(t){const[e,n]=m.useState(Xz());return $i(()=>{t||n(r=>r??String(Jz++))},[t]),t||(e?`radix-${e}`:"")}var sm="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",_T={bubbles:!1,cancelable:!0},Zz="FocusScope",hk=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=fr(s),h=fr(i),f=m.useRef(null),p=ot(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(T){if(g.paused||!a)return;const C=T.target;a.contains(C)?f.current=C:hs(f.current,{select:!0})},_=function(T){if(g.paused||!a)return;const C=T.relatedTarget;C!==null&&(a.contains(C)||hs(f.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&hs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),x.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){TT.add(g);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(sm,_T);a.addEventListener(sm,c),a.dispatchEvent(w),w.defaultPrevented||(eW(iW(fk(a)),{select:!0}),document.activeElement===v&&hs(a))}return()=>{a.removeEventListener(sm,c),setTimeout(()=>{const w=new CustomEvent(im,_T);a.addEventListener(im,h),a.dispatchEvent(w),w.defaultPrevented||hs(v??document.body,{select:!0}),a.removeEventListener(im,h),TT.remove(g)},0)}}},[a,c,h,g]);const E=m.useCallback(v=>{if(!n&&!r||g.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(_&&w){const x=v.currentTarget,[T,C]=tW(x);T&&C?!v.shiftKey&&w===C?(v.preventDefault(),n&&hs(T,{select:!0})):v.shiftKey&&w===T&&(v.preventDefault(),n&&hs(C,{select:!0})):w===x&&v.preventDefault()}},[n,r,g.paused]);return d.jsx(Pe.div,{tabIndex:-1,...o,ref:p,onKeyDown:E})});hk.displayName=Zz;function eW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(hs(r,{select:e}),document.activeElement!==n)return}function tW(t){const e=fk(t),n=ET(e,t),r=ET(e.reverse(),t);return[n,r]}function fk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ET(t,e){for(const n of t)if(!nW(n,{upTo:e}))return n}function nW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rW(t){return t instanceof HTMLInputElement&&"select"in t}function hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&rW(t)&&e&&t.select()}}var TT=sW();function sW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bT(t,e),t.unshift(e)},remove(e){var n;t=bT(t,e),(n=t[0])==null||n.resume()}}}function bT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function iW(t){return t.filter(e=>e.tagName!=="A")}var om=0;function oW(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ST()),document.body.insertAdjacentElement("beforeend",t[1]??ST()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),om--}},[])}function ST(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Al="right-scroll-bar-position",kl="width-before-scroll-bar",aW="with-scroll-bars-hidden",lW="--removed-body-scroll-bar-size";function am(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cW(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var uW=typeof window<"u"?m.useLayoutEffect:m.useEffect,CT=new WeakMap;function pk(t,e){var n=cW(e||null,function(r){return t.forEach(function(s){return am(s,r)})});return uW(function(){var r=CT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||am(a,null)}),i.forEach(function(a){s.has(a)||am(a,o)})}CT.set(n,t)},[t]),n}function dW(t){return t}function hW(t,e){e===void 0&&(e=dW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function mk(t){t===void 0&&(t={});var e=hW(null);return e.options=Ut({async:!0,ssr:!1},t),e}var gk=function(t){var e=t.sideCar,n=wa(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ut({},n))};gk.isSideCarExport=!0;function yk(t,e){return t.useMedium(e),gk}var vk=mk(),lm=function(){},If=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,E=t.inert,v=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,x=t.gapMode,T=wa(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,A=pk([n,e]),O=Ut(Ut({},T),s);return m.createElement(m.Fragment,null,h&&m.createElement(C,{sideCar:vk,removeScrollBar:c,shards:f,noIsolation:g,inert:E,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?m.cloneElement(m.Children.only(a),Ut(Ut({},O),{ref:A})):m.createElement(w,Ut({},O,{className:l,ref:A}),a))});If.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};If.classNames={fullWidth:kl,zeroRight:Al};var IT,fW=function(){if(IT)return IT;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fW();return e&&t.setAttribute("nonce",e),t}function mW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pW())&&(mW(e,n),gW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vW=function(){var t=yW();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rx=function(){var t=vW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},xW={left:0,top:0,right:0,gap:0},cm=function(t){return parseInt(t||"",10)||0},wW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[cm(n),cm(r),cm(s)]},_W=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xW;var e=wW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},EW=rx(),Ho="data-scroll-locked",TW=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ho,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Al,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kl," .").concat(kl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ho,`] {
    `).concat(lW,": ").concat(a,`px;
  }
`)},PT=function(){var t=parseInt(document.body.getAttribute(Ho)||"0",10);return isFinite(t)?t:0},bW=function(){m.useEffect(function(){return document.body.setAttribute(Ho,(PT()+1).toString()),function(){var t=PT()-1;t<=0?document.body.removeAttribute(Ho):document.body.setAttribute(Ho,t.toString())}},[])},xk=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;bW();var i=m.useMemo(function(){return _W(s)},[s]);return m.createElement(EW,{styles:TW(i,!e,s,n?"":"!important")})},iy=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return iy=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{iy=!1}var lo=iy?{passive:!1}:!1,SW=function(t){return t.tagName==="TEXTAREA"},wk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SW(t)&&n[e]==="visible")},CW=function(t){return wk(t,"overflowY")},IW=function(t){return wk(t,"overflowX")},RT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_k(t,r);if(s){var i=Ek(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},RW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_k=function(t,e){return t==="v"?CW(e):IW(e)},Ek=function(t,e){return t==="v"?PW(e):RW(e)},AW=function(t,e){return t==="h"&&e==="rtl"?-1:1},kW=function(t,e,n,r,s){var i=AW(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,p=0;do{var g=Ek(t,a),E=g[0],v=g[1],_=g[2],w=v-_-i*E;(E||w)&&_k(t,a)&&(f+=w,p+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(s&&Math.abs(f)<1||!s&&o>f)||!h&&(s&&Math.abs(p)<1||!s&&-o>p))&&(c=!0),c},Bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AT=function(t){return[t.deltaX,t.deltaY]},kT=function(t){return t&&"current"in t?t.current:t},NW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},DW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jW=0,co=[];function OW(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(jW++)[0],i=m.useState(rx)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=IP([t.lockRef.current],(t.shards||[]).map(kT),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=Bu(v),x=n.current,T="deltaX"in v?v.deltaX:x[0]-w[0],C="deltaY"in v?v.deltaY:x[1]-w[1],A,O=v.target,I=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in v&&I==="h"&&O.type==="range")return!1;var S=RT(I,O);if(!S)return!0;if(S?A=I:(A=I==="v"?"h":"v",S=RT(I,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||C)&&(r.current=A),!A)return!0;var P=r.current||A;return kW(P,_,v,P==="h"?T:C,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!co.length||co[co.length-1]!==i)){var w="deltaY"in _?AT(_):Bu(_),x=e.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&NW(A.delta,w)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(kT).filter(Boolean).filter(function(A){return A.contains(_.target)}),C=T.length>0?a(_,T[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,w,x){var T={name:v,delta:_,target:w,should:x,shadowParent:MW(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(C){return C!==T})},1)},[]),h=m.useCallback(function(v){n.current=Bu(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,AT(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Bu(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return co.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,lo),document.addEventListener("touchmove",l,lo),document.addEventListener("touchstart",h,lo),function(){co=co.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,lo),document.removeEventListener("touchmove",l,lo),document.removeEventListener("touchstart",h,lo)}},[]);var g=t.removeScrollBar,E=t.inert;return m.createElement(m.Fragment,null,E?m.createElement(i,{styles:DW(s)}):null,g?m.createElement(xk,{gapMode:t.gapMode}):null)}function MW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const VW=yk(vk,OW);var Tk=m.forwardRef(function(t,e){return m.createElement(If,Ut({},t,{ref:e,sideCar:VW}))});Tk.classNames=If.classNames;const LW=Tk;var FW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uo=new WeakMap,zu=new WeakMap,Wu={},um=0,bk=function(t){return t&&(t.host||bk(t.parentNode))},$W=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UW=function(t,e,n,r){var s=$W(e,Array.isArray(t)?t:[t]);Wu[n]||(Wu[n]=new WeakMap);var i=Wu[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var g=p.getAttribute(r),E=g!==null&&g!=="false",v=(uo.get(p)||0)+1,_=(i.get(p)||0)+1;uo.set(p,v),i.set(p,_),o.push(p),v===1&&E&&zu.set(p,!0),_===1&&p.setAttribute(n,"true"),E||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),a.clear(),um++,function(){o.forEach(function(f){var p=uo.get(f)-1,g=i.get(f)-1;uo.set(f,p),i.set(f,g),p||(zu.has(f)||f.removeAttribute(r),zu.delete(f)),g||f.removeAttribute(n)}),um--,um||(uo=new WeakMap,uo=new WeakMap,zu=new WeakMap,Wu={})}},Sk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||FW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UW(r,s,n,"aria-hidden")):function(){return null}},Pf="Dialog",[Ck,rQ]=eo(Pf),[BW,Zn]=Ck(Pf),Ik=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,h]=_a({prop:r,defaultProp:s??!1,onChange:i,caller:Pf});return d.jsx(BW,{scope:e,triggerRef:a,contentRef:l,contentId:Rl(),titleId:Rl(),descriptionId:Rl(),open:c,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};Ik.displayName=Pf;var Pk="DialogTrigger",Rk=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(Pk,n),i=ot(e,s.triggerRef);return d.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ox(s.open),...r,ref:i,onClick:_e(t.onClick,s.onOpenToggle)})});Rk.displayName=Pk;var sx="DialogPortal",[zW,Ak]=Ck(sx,{forceMount:void 0}),kk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Zn(sx,e);return d.jsx(zW,{scope:e,forceMount:n,children:m.Children.map(r,o=>d.jsx(to,{present:n||i.open,children:d.jsx(G0,{asChild:!0,container:s,children:o})}))})};kk.displayName=sx;var Ph="DialogOverlay",Nk=m.forwardRef((t,e)=>{const n=Ak(Ph,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(Ph,t.__scopeDialog);return i.modal?d.jsx(to,{present:r||i.open,children:d.jsx(HW,{...s,ref:e})}):null});Nk.displayName=Ph;var WW=ec("DialogOverlay.RemoveScroll"),HW=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(Ph,n);return d.jsx(LW,{as:WW,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Pe.div,{"data-state":ox(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ui="DialogContent",Dk=m.forwardRef((t,e)=>{const n=Ak(Ui,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(Ui,t.__scopeDialog);return d.jsx(to,{present:r||i.open,children:i.modal?d.jsx(qW,{...s,ref:e}):d.jsx(GW,{...s,ref:e})})});Dk.displayName=Ui;var qW=m.forwardRef((t,e)=>{const n=Zn(Ui,t.__scopeDialog),r=m.useRef(null),s=ot(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Sk(i)},[]),d.jsx(jk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:_e(t.onFocusOutside,i=>i.preventDefault())})}),GW=m.forwardRef((t,e)=>{const n=Zn(Ui,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(jk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),jk=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Zn(Ui,n),l=m.useRef(null),c=ot(e,l);return oW(),d.jsxs(d.Fragment,{children:[d.jsx(hk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(q0,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ox(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(KW,{titleId:a.titleId}),d.jsx(YW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ix="DialogTitle",Ok=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(ix,n);return d.jsx(Pe.h2,{id:s.titleId,...r,ref:e})});Ok.displayName=ix;var Mk="DialogDescription",Vk=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(Mk,n);return d.jsx(Pe.p,{id:s.descriptionId,...r,ref:e})});Vk.displayName=Mk;var Lk="DialogClose",Fk=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(Lk,n);return d.jsx(Pe.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,()=>s.onOpenChange(!1))})});Fk.displayName=Lk;function ox(t){return t?"open":"closed"}var $k="DialogTitleWarning",[sQ,Uk]=tz($k,{contentName:Ui,titleName:ix,docsSlug:"dialog"}),KW=({titleId:t})=>{const e=Uk($k),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},QW="DialogDescriptionWarning",YW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Uk(QW).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},XW=Ik,JW=Rk,ZW=kk,Bk=Nk,zk=Dk,Wk=Ok,Hk=Vk,eH=Fk;const wd=XW,tH=JW,nH=ZW,qk=Z.forwardRef(({className:t,...e},n)=>d.jsx(Bk,{ref:n,className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qk.displayName=Bk.displayName;const Nl=Z.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(nH,{children:[d.jsx(qk,{}),d.jsxs(zk,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(eH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(zC,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nl.displayName=zk.displayName;const Dl=({className:t,...e})=>d.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-right",t),...e});Dl.displayName="DialogHeader";const Rh=({className:t,...e})=>d.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",t),...e});Rh.displayName="DialogFooter";const jl=Z.forwardRef(({className:t,...e},n)=>d.jsx(Wk,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));jl.displayName=Wk.displayName;const ax=Z.forwardRef(({className:t,...e},n)=>d.jsx(Hk,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));ax.displayName=Hk.displayName;const rH=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(null),{toast:o}=bn(),[a,l]=m.useState(!1),[c,h]=m.useState(!1),[f,p]=m.useState(!1),[g,E]=m.useState(null),[v,_]=m.useState({name:"",category:"",price:0,description:"",image:"",stock:0,originalPrice:null}),[w,x]=m.useState({amount:0,type:"add"}),[T,C]=m.useState("");m.useEffect(()=>{r(!0);const L=ch(br,"products"),B=CP(L,W=>{const K=W.docs.map(V=>({id:V.id,...V.data()}));e(K),r(!1),i(null)},W=>{console.error("Error fetching products: ",W),i("حدث خطأ أثناء تحميل المنتجات."),r(!1)});return()=>B()},[]);const A=(L,B)=>{const{name:W,value:K,type:V,checked:z}=L.target;B(G=>({...G,[W]:V==="checkbox"?z:V==="number"?parseFloat(K)||0:K}))},O=async L=>{if(L.preventDefault(),!v.name||v.price<=0||v.stock<0){o({title:"بيانات غير كاملة",description:"يرجى ملء اسم المنتج والسعر والمخزون بشكل صحيح.",variant:"destructive"});return}try{await SP(ch(br,"products"),{...v,price:Number(v.price),stock:Number(v.stock),originalPrice:v.originalPrice?Number(v.originalPrice):null,rating:v.rating?Number(v.rating):0,reviews:v.reviews?Number(v.reviews):0}),o({title:"✅ تم إضافة المنتج",description:`تم إضافة "${v.name}" بنجاح.`,className:"bg-green-500 text-white"}),l(!1),_({name:"",category:"",price:0,description:"",image:"",stock:0,originalPrice:null})}catch(B){o({title:"❌ خطأ في الإضافة",description:B.message,variant:"destructive"})}},I=async L=>{if(L.preventDefault(),!g||!g.name||g.price<=0||g.stock<0){o({title:"بيانات غير كاملة",description:"يرجى ملء اسم المنتج والسعر والمخزون بشكل صحيح.",variant:"destructive"});return}try{const B=Tl(br,"products",g.id);await bP(B,{...g,price:Number(g.price),stock:Number(g.stock),originalPrice:g.originalPrice?Number(g.originalPrice):null,rating:g.rating?Number(g.rating):0,reviews:g.reviews?Number(g.reviews):0}),o({title:"✅ تم تعديل المنتج",description:`تم تعديل "${g.name}" بنجاح.`,className:"bg-green-500 text-white"}),h(!1),E(null)}catch(B){o({title:"❌ خطأ في التعديل",description:B.message,variant:"destructive"})}},S=async(L,B)=>{if(window.confirm(`هل أنت متأكد أنك تريد حذف المنتج "${B}"؟ هذا الإجراء لا يمكن التراجع عنه.`))try{await I3(Tl(br,"products",L)),o({title:"🗑️ تم حذف المنتج",description:`تم حذف "${B}" بنجاح.`,className:"bg-red-500 text-white"})}catch(W){o({title:"❌ خطأ في الحذف",description:W.message,variant:"destructive"})}},P=async L=>{if(L.preventDefault(),!g||w.amount===0&&w.type==="add"){o({title:"لا تغيير في المخزون",description:"الرجاء إدخال كمية لتحديث المخزون.",variant:"default"});return}if(w.amount<0&&w.type==="set"){o({title:"كمية غير صالحة",description:"لا يمكن تعيين المخزون إلى قيمة سالبة.",variant:"destructive"});return}try{const B=Tl(br,"products",g.id);await k3(br,async W=>{const K=await W.get(B);if(!K.exists())throw new Error("المنتج غير موجود!");let V;w.type==="add"?V=(K.data().stock||0)+Number(w.amount):V=Number(w.amount),V<0&&(V=0),W.update(B,{stock:V})}),o({title:"📦 تم تحديث المخزون",description:`تم تحديث مخزون "${g.name}".`,className:"bg-green-500 text-white"}),p(!1),E(null),x({amount:0,type:"add"})}catch(B){o({title:"❌ خطأ في تحديث المخزون",description:B.message,variant:"destructive"})}},k=L=>{E(L),h(!0)},D=L=>{E(L),x({amount:0,type:"add"}),p(!0)},j=t.filter(L=>L.name.toLowerCase().includes(T.toLowerCase())||L.category&&L.category.toLowerCase().includes(T.toLowerCase()));if(n)return d.jsxs("div",{className:"flex items-center justify-center p-10",children:[d.jsx(Dn,{className:"h-12 w-12 animate-spin text-primary"}),d.jsx("p",{className:"ml-4 text-lg text-muted-foreground",children:"جاري تحميل المنتجات..."})]});if(s)return d.jsxs("div",{className:"p-10 text-center",children:[d.jsx(yv,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),d.jsx("p",{className:"text-lg text-destructive",children:s})]});const N=(L,B,W,K=!1)=>d.jsxs("form",{onSubmit:W,className:"space-y-4 text-right max-h-[70vh] overflow-y-auto p-1",children:[d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"name",children:"اسم المنتج"}),d.jsx(ye,{id:"name",name:"name",value:L.name,onChange:V=>A(V,B),required:!0})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"category",children:"الفئة"}),d.jsx(ye,{id:"category",name:"category",value:L.category,onChange:V=>A(V,B)})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"price",children:"السعر (ج.م)"}),d.jsx(ye,{id:"price",name:"price",type:"number",value:L.price,onChange:V=>A(V,B),required:!0,min:"0",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"originalPrice",children:"السعر الأصلي (ج.م) (اختياري)"}),d.jsx(ye,{id:"originalPrice",name:"originalPrice",type:"number",value:L.originalPrice||"",onChange:V=>A(V,B),min:"0",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"stock",children:"المخزون"}),d.jsx(ye,{id:"stock",name:"stock",type:"number",value:L.stock,onChange:V=>A(V,B),required:!0,min:"0"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"description",children:"الوصف"}),d.jsx(nx,{id:"description",name:"description",value:L.description,onChange:V=>A(V,B)})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"image",children:"رابط الصورة"}),d.jsx(ye,{id:"image",name:"image",value:L.image,onChange:V=>A(V,B)})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"rating",children:"التقييم (0-5)"}),d.jsx(ye,{id:"rating",name:"rating",type:"number",value:L.rating||"",onChange:V=>A(V,B),min:"0",max:"5",step:"0.1"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"reviews",children:"عدد المراجعات"}),d.jsx(ye,{id:"reviews",name:"reviews",type:"number",value:L.reviews||"",onChange:V=>A(V,B),min:"0"})]}),d.jsxs(Rh,{className:"pt-4",children:[d.jsx(de,{type:"submit",className:"bg-primary hover:bg-primary/90",children:K?"حفظ التعديلات":"إضافة المنتج"}),d.jsx(de,{type:"button",variant:"outline",onClick:()=>K?h(!1):l(!1),children:"إلغاء"})]})]});return d.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"إدارة المنتجات"}),d.jsxs(wd,{open:a,onOpenChange:l,children:[d.jsx(tH,{asChild:!0,children:d.jsxs(de,{className:"bg-gradient-to-r from-primary to-secondary hover:opacity-90",children:[d.jsx(LC,{className:"ml-2 h-5 w-5"})," إضافة منتج جديد"]})}),d.jsxs(Nl,{className:"sm:max-w-lg text-right",children:[d.jsx(Dl,{children:d.jsx(jl,{className:"text-primary",children:"إضافة منتج جديد"})}),N(v,_,O)]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[d.jsx(FC,{className:"h-5 w-5 text-muted-foreground"}),d.jsx(ye,{type:"text",placeholder:"ابحث بالاسم أو الفئة...",value:T,onChange:L=>C(L.target.value),className:"max-w-sm bg-background/70 border-primary/30 focus:border-primary"}),T&&d.jsx(de,{variant:"ghost",size:"icon",onClick:()=>C(""),children:d.jsx(bV,{className:"h-5 w-5 text-muted-foreground"})})]}),j.length===0&&!n?d.jsx("p",{className:"text-muted-foreground text-center py-8",children:"لا توجد منتجات تطابق بحثك أو لم يتم إضافة منتجات بعد."}):d.jsx("div",{className:"overflow-x-auto rounded-lg border border-border shadow-sm bg-card",children:d.jsxs(J0,{children:[d.jsx(Z0,{children:d.jsxs(tx,{className:"bg-muted/50",children:[d.jsx(Rn,{className:"text-right",children:"المنتج"}),d.jsx(Rn,{className:"text-right",children:"الفئة"}),d.jsx(Rn,{className:"text-right",children:"السعر (ج.م)"}),d.jsx(Rn,{className:"text-right",children:"المخزون"}),d.jsx(Rn,{className:"text-center",children:"الإجراءات"})]})}),d.jsx(ex,{children:d.jsx(W0,{children:j.map(L=>d.jsxs(se.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-muted/30 transition-colors",children:[d.jsx(An,{className:"font-medium text-primary",children:L.name}),d.jsx(An,{children:L.category||"-"}),d.jsx(An,{children:(L.price||0).toLocaleString("ar-EG")}),d.jsx(An,{className:L.stock<=5?L.stock===0?"text-red-500 font-bold":"text-yellow-500 font-semibold":"",children:L.stock||0}),d.jsx(An,{className:"text-center",children:d.jsxs("div",{className:"flex justify-center items-center space-x-1 space-x-reverse",children:[d.jsx(de,{variant:"ghost",size:"icon",className:"text-green-500 hover:text-green-700",onClick:()=>D(L),children:d.jsx(MV,{className:"h-5 w-5"})}),d.jsx(de,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:()=>k(L),children:d.jsx(LV,{className:"h-5 w-5"})}),d.jsx(de,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>S(L.id,L.name),children:d.jsx(UC,{className:"h-5 w-5"})})]})})]},L.id))})})]})}),d.jsx(wd,{open:c,onOpenChange:h,children:d.jsxs(Nl,{className:"sm:max-w-lg text-right",children:[d.jsx(Dl,{children:d.jsxs(jl,{className:"text-primary",children:["تعديل المنتج: ",g==null?void 0:g.name]})}),g&&N(g,E,I,!0)]})}),d.jsx(wd,{open:f,onOpenChange:p,children:d.jsxs(Nl,{className:"sm:max-w-md text-right",children:[d.jsxs(Dl,{children:[d.jsxs(jl,{className:"text-primary",children:["تحديث مخزون: ",g==null?void 0:g.name]}),d.jsxs(ax,{children:["المخزون الحالي: ",(g==null?void 0:g.stock)||0]})]}),d.jsxs("form",{onSubmit:P,className:"space-y-4 pt-2",children:[d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"stockAmount",children:"الكمية"}),d.jsx(ye,{id:"stockAmount",name:"amount",type:"number",value:w.amount,onChange:L=>A(L,x),required:!0})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"updateType",children:"نوع التحديث"}),d.jsxs("select",{id:"updateType",name:"type",value:w.type,onChange:L=>A(L,x),className:"w-full mt-1 h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[d.jsx("option",{value:"add",children:"إضافة إلى المخزون"}),d.jsx("option",{value:"set",children:"تعيين قيمة المخزون"})]}),w.type==="add"&&w.amount<0&&d.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"سيتم خصم هذه الكمية من المخزون."})]}),d.jsxs(Rh,{className:"pt-4",children:[d.jsx(de,{type:"submit",className:"bg-primary hover:bg-primary/90",children:"تحديث المخزون"}),d.jsx(de,{type:"button",variant:"outline",onClick:()=>p(!1),children:"إلغاء"})]})]})]})})]})};function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(null,arguments)}function NT(t,[e,n]){return Math.min(n,Math.max(e,t))}function Yt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function lx(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...E}=f,v=(p==null?void 0:p[t][l])||a,_=m.useMemo(()=>E,Object.values(E));return m.createElement(v.Provider,{value:_},g)}function h(f,p){const g=(p==null?void 0:p[t][l])||a,E=m.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sH(s,...e)]}function sH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function iH(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Gk(...t){return e=>t.forEach(n=>iH(n,e))}function un(...t){return m.useCallback(Gk(...t),t)}const mc=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(aH);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return m.createElement(oy,je({},r,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(oy,je({},r,{ref:e}),n)});mc.displayName="Slot";const oy=m.forwardRef((t,e)=>{const{children:n,...r}=t;return m.isValidElement(n)?m.cloneElement(n,{...lH(r,n.props),ref:e?Gk(e,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});oy.displayName="SlotClone";const oH=({children:t})=>m.createElement(m.Fragment,null,t);function aH(t){return m.isValidElement(t)&&t.type===oH}function lH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cH(t){const e=t+"CollectionProvider",[n,r]=lx(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:v}=g,_=Z.useRef(null),w=Z.useRef(new Map).current;return Z.createElement(s,{scope:E,itemMap:w,collectionRef:_},v)},a=t+"CollectionSlot",l=Z.forwardRef((g,E)=>{const{scope:v,children:_}=g,w=i(a,v),x=un(E,w.collectionRef);return Z.createElement(mc,{ref:x},_)}),c=t+"CollectionItemSlot",h="data-radix-collection-item",f=Z.forwardRef((g,E)=>{const{scope:v,children:_,...w}=g,x=Z.useRef(null),T=un(E,x),C=i(c,v);return Z.useEffect(()=>(C.itemMap.set(x,{ref:x,...w}),()=>void C.itemMap.delete(x))),Z.createElement(mc,{[h]:"",ref:T},_)});function p(g){const E=i(t+"CollectionConsumer",g);return Z.useCallback(()=>{const _=E.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((C,A)=>w.indexOf(C.ref.current)-w.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}const uH=m.createContext(void 0);function dH(t){const e=m.useContext(uH);return t||e||"ltr"}const hH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wt=hH.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?mc:e;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(a,je({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fH(t,e){t&&Zs.flushSync(()=>t.dispatchEvent(e))}function Qr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function pH(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const ay="dismissableLayer.update",mH="dismissableLayer.pointerDownOutside",gH="dismissableLayer.focusOutside";let DT;const yH=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vH=m.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,h=m.useContext(yH),[f,p]=m.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,E]=m.useState({}),v=un(e,S=>p(S)),_=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(w),T=f?_.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,A=T>=x,O=xH(S=>{const P=S.target,k=[...h.branches].some(D=>D.contains(P));!A||k||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},g),I=wH(S=>{const P=S.target;[...h.branches].some(D=>D.contains(P))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},g);return pH(S=>{T===h.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},g),m.useEffect(()=>{if(f)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(DT=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),jT(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=DT)}},[f,g,r,h]),m.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),jT())},[f,h]),m.useEffect(()=>{const S=()=>E({});return document.addEventListener(ay,S),()=>document.removeEventListener(ay,S)},[]),m.createElement(Wt.div,je({},c,{ref:v,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:Yt(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Yt(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Yt(t.onPointerDownCapture,O.onPointerDownCapture)}))});function xH(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let h=function(){Kk(mH,n,c,{discrete:!0})};var l=h;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wH(t,e=globalThis==null?void 0:globalThis.document){const n=Qr(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Kk(gH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jT(){const t=new CustomEvent(ay);document.dispatchEvent(t)}function Kk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fH(s,i):s.dispatchEvent(i)}let dm=0;function _H(){m.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:OT()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:OT()),dm++,()=>{dm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dm--}},[])}function OT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const hm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",MT={bubbles:!1,cancelable:!0},EH=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Qr(s),h=Qr(i),f=m.useRef(null),p=un(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(O){if(g.paused||!a)return;const I=O.target;a.contains(I)?f.current=I:fs(f.current,{select:!0})},T=function(O){if(g.paused||!a)return;const I=O.relatedTarget;I!==null&&(a.contains(I)||fs(f.current,{select:!0}))},C=function(O){if(document.activeElement===document.body)for(const S of O)S.removedNodes.length>0&&fs(a)};var v=x,_=T,w=C;document.addEventListener("focusin",x),document.addEventListener("focusout",T);const A=new MutationObserver(C);return a&&A.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),A.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){LT.add(g);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(hm,MT);a.addEventListener(hm,c),a.dispatchEvent(w),w.defaultPrevented||(TH(PH(Qk(a)),{select:!0}),document.activeElement===v&&fs(a))}return()=>{a.removeEventListener(hm,c),setTimeout(()=>{const w=new CustomEvent(fm,MT);a.addEventListener(fm,h),a.dispatchEvent(w),w.defaultPrevented||fs(v??document.body,{select:!0}),a.removeEventListener(fm,h),LT.remove(g)},0)}}},[a,c,h,g]);const E=m.useCallback(v=>{if(!n&&!r||g.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(_&&w){const x=v.currentTarget,[T,C]=bH(x);T&&C?!v.shiftKey&&w===C?(v.preventDefault(),n&&fs(T,{select:!0})):v.shiftKey&&w===T&&(v.preventDefault(),n&&fs(C,{select:!0})):w===x&&v.preventDefault()}},[n,r,g.paused]);return m.createElement(Wt.div,je({tabIndex:-1},o,{ref:p,onKeyDown:E}))});function TH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fs(r,{select:e}),document.activeElement!==n)return}function bH(t){const e=Qk(t),n=VT(e,t),r=VT(e.reverse(),t);return[n,r]}function Qk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VT(t,e){for(const n of t)if(!SH(n,{upTo:e}))return n}function SH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CH(t){return t instanceof HTMLInputElement&&"select"in t}function fs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CH(t)&&e&&t.select()}}const LT=IH();function IH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=FT(t,e),t.unshift(e)},remove(e){var n;t=FT(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function FT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PH(t){return t.filter(e=>e.tagName!=="A")}const Yr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},RH=Oh["useId".toString()]||(()=>{});let AH=0;function Yk(t){const[e,n]=m.useState(RH());return Yr(()=>{t||n(r=>r??String(AH++))},[t]),t||(e?`radix-${e}`:"")}const kH=["top","right","bottom","left"],Ks=Math.min,pn=Math.max,Ah=Math.round,Hu=Math.floor,ur=t=>({x:t,y:t}),NH={left:"right",right:"left",bottom:"top",top:"bottom"},DH={start:"end",end:"start"};function ly(t,e,n){return pn(t,Ks(e,n))}function Xr(t,e){return typeof t=="function"?t(e):t}function Jr(t){return t.split("-")[0]}function Ea(t){return t.split("-")[1]}function cx(t){return t==="x"?"y":"x"}function ux(t){return t==="y"?"height":"width"}function Fr(t){return["top","bottom"].includes(Jr(t))?"y":"x"}function dx(t){return cx(Fr(t))}function jH(t,e,n){n===void 0&&(n=!1);const r=Ea(t),s=dx(t),i=ux(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=kh(o)),[o,kh(o)]}function OH(t){const e=kh(t);return[cy(t),e,cy(e)]}function cy(t){return t.replace(/start|end/g,e=>DH[e])}function MH(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function VH(t,e,n,r){const s=Ea(t);let i=MH(Jr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(cy)))),i}function kh(t){return t.replace(/left|right|bottom|top/g,e=>NH[e])}function LH(t){return{top:0,right:0,bottom:0,left:0,...t}}function Xk(t){return typeof t!="number"?LH(t):{top:t,right:t,bottom:t,left:t}}function Nh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $T(t,e,n){let{reference:r,floating:s}=t;const i=Fr(e),o=dx(e),a=ux(o),l=Jr(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Ea(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const FH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=$T(c,r,l),p=r,g={},E=0;for(let v=0;v<a.length;v++){const{name:_,fn:w}=a[v],{x,y:T,data:C,reset:A}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});h=x??h,f=T??f,g={...g,[_]:{...g[_],...C}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:f}=$T(c,p,l)),v=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function gc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Xr(e,t),E=Xk(g),_=a[p?f==="floating"?"reference":"floating":f],w=Nh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},A=Nh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:T,strategy:l}):x);return{top:(w.top-A.top+E.top)/C.y,bottom:(A.bottom-w.bottom+E.bottom)/C.y,left:(w.left-A.left+E.left)/C.x,right:(A.right-w.right+E.right)/C.x}}const $H=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Xr(t,e)||{};if(c==null)return{};const f=Xk(h),p={x:n,y:r},g=dx(s),E=ux(g),v=await o.getDimensions(c),_=g==="y",w=_?"top":"left",x=_?"bottom":"right",T=_?"clientHeight":"clientWidth",C=i.reference[E]+i.reference[g]-p[g]-i.floating[E],A=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=O?O[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[T]||i.floating[E]);const S=C/2-A/2,P=I/2-v[E]/2-1,k=Ks(f[w],P),D=Ks(f[x],P),j=k,N=I-v[E]-D,L=I/2-v[E]/2+S,B=ly(j,L,N),W=!l.arrow&&Ea(s)!=null&&L!==B&&i.reference[E]/2-(L<j?k:D)-v[E]/2<0,K=W?L<j?L-j:L-N:0;return{[g]:p[g]+K,data:{[g]:B,centerOffset:L-B-K,...W&&{alignmentOffset:K}},reset:W}}}),UH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:v=!0,..._}=Xr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Jr(s),x=Fr(a),T=Jr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(T||!v?[kh(a)]:OH(a)),O=E!=="none";!p&&O&&A.push(...VH(a,v,E,C));const I=[a,...A],S=await gc(e,_),P=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[w]),f){const B=jH(s,o,C);P.push(S[B[0]],S[B[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every(B=>B<=0)){var D,j;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,W=I[B];if(W){var N;const V=f==="alignment"?x!==Fr(W):!1,z=((N=k[0])==null?void 0:N.overflows[0])>0;if(!V||z)return{data:{index:B,overflows:k},reset:{placement:W}}}let K=(j=k.filter(V=>V.overflows[0]<=0).sort((V,z)=>V.overflows[1]-z.overflows[1])[0])==null?void 0:j.placement;if(!K)switch(g){case"bestFit":{var L;const V=(L=k.filter(z=>{if(O){const G=Fr(z.placement);return G===x||G==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(G=>G>0).reduce((G,Y)=>G+Y,0)]).sort((z,G)=>z[1]-G[1])[0])==null?void 0:L[0];V&&(K=V);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function UT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BT(t){return kH.some(e=>t[e]>=0)}const BH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xr(t,e);switch(r){case"referenceHidden":{const i=await gc(e,{...s,elementContext:"reference"}),o=UT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BT(o)}}}case"escaped":{const i=await gc(e,{...s,altBoundary:!0}),o=UT(i,n.floating);return{data:{escapedOffsets:o,escaped:BT(o)}}}default:return{}}}}};async function zH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Jr(n),a=Ea(n),l=Fr(n)==="y",c=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Xr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const WH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await zH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},HH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:x}=_;return{x:w,y:x}}},...l}=Xr(t,e),c={x:n,y:r},h=await gc(e,l),f=Fr(Jr(s)),p=cx(f);let g=c[p],E=c[f];if(i){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=g+h[_],T=g-h[w];g=ly(x,g,T)}if(o){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=E+h[_],T=E-h[w];E=ly(x,E,T)}const v=a.fn({...e,[p]:g,[f]:E});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:o}}}}}},qH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Xr(t,e),h={x:n,y:r},f=Fr(s),p=cx(f);let g=h[p],E=h[f];const v=Xr(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=p==="y"?"height":"width",C=i.reference[p]-i.floating[T]+_.mainAxis,A=i.reference[p]+i.reference[T]-_.mainAxis;g<C?g=C:g>A&&(g=A)}if(c){var w,x;const T=p==="y"?"width":"height",C=["top","left"].includes(Jr(s)),A=i.reference[f]-i.floating[T]+(C&&((w=o.offset)==null?void 0:w[f])||0)+(C?0:_.crossAxis),O=i.reference[f]+i.reference[T]+(C?0:((x=o.offset)==null?void 0:x[f])||0)-(C?_.crossAxis:0);E<A?E=A:E>O&&(E=O)}return{[p]:g,[f]:E}}}},GH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Xr(t,e),h=await gc(e,c),f=Jr(s),p=Ea(s),g=Fr(s)==="y",{width:E,height:v}=i.floating;let _,w;f==="top"||f==="bottom"?(_=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,_=p==="end"?"top":"bottom");const x=v-h.top-h.bottom,T=E-h.left-h.right,C=Ks(v-h[_],x),A=Ks(E-h[w],T),O=!e.middlewareData.shift;let I=C,S=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=x),O&&!p){const k=pn(h.left,0),D=pn(h.right,0),j=pn(h.top,0),N=pn(h.bottom,0);g?S=E-2*(k!==0||D!==0?k+D:pn(h.left,h.right)):I=v-2*(j!==0||N!==0?j+N:pn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:I});const P=await o.getDimensions(a.floating);return E!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function Ta(t){return Jk(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yr(t){var e;return(e=(Jk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Jk(t){return Rf()?t instanceof Node||t instanceof xn(t).Node:!1}function Yn(t){return Rf()?t instanceof Element||t instanceof xn(t).Element:!1}function pr(t){return Rf()?t instanceof HTMLElement||t instanceof xn(t).HTMLElement:!1}function zT(t){return!Rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}function Wc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Xn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function KH(t){return["table","td","th"].includes(Ta(t))}function Af(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hx(t){const e=fx(),n=Yn(t)?Xn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function QH(t){let e=Qs(t);for(;pr(e)&&!la(e);){if(hx(e))return e;if(Af(e))return null;e=Qs(e)}return null}function fx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function la(t){return["html","body","#document"].includes(Ta(t))}function Xn(t){return xn(t).getComputedStyle(t)}function kf(t){return Yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qs(t){if(Ta(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zT(t)&&t.host||yr(t);return zT(e)?e.host:e}function Zk(t){const e=Qs(t);return la(e)?t.ownerDocument?t.ownerDocument.body:t.body:pr(e)&&Wc(e)?e:Zk(e)}function yc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Zk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=xn(s);if(i){const a=uy(o);return e.concat(o,o.visualViewport||[],Wc(s)?s:[],a&&n?yc(a):[])}return e.concat(s,yc(s,[],n))}function uy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eN(t){const e=Xn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=pr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ah(n)!==i||Ah(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function px(t){return Yn(t)?t:t.contextElement}function qo(t){const e=px(t);if(!pr(e))return ur(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=eN(e);let o=(i?Ah(n.width):n.width)/r,a=(i?Ah(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const YH=ur(0);function tN(t){const e=xn(t);return!fx()||!e.visualViewport?YH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xn(t)?!1:e}function Bi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=px(t);let o=ur(1);e&&(r?Yn(r)&&(o=qo(r)):o=qo(t));const a=XH(i,n,r)?tN(i):ur(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=xn(i),g=r&&Yn(r)?xn(r):r;let E=p,v=uy(E);for(;v&&r&&g!==E;){const _=qo(v),w=v.getBoundingClientRect(),x=Xn(v),T=w.left+(v.clientLeft+parseFloat(x.paddingLeft))*_.x,C=w.top+(v.clientTop+parseFloat(x.paddingTop))*_.y;l*=_.x,c*=_.y,h*=_.x,f*=_.y,l+=T,c+=C,E=xn(v),v=uy(E)}}return Nh({width:h,height:f,x:l,y:c})}function mx(t,e){const n=kf(t).scrollLeft;return e?e.left+n:Bi(yr(t)).left+n}function nN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:mx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function JH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=yr(r),a=e?Af(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ur(1);const h=ur(0),f=pr(r);if((f||!f&&!i)&&((Ta(r)!=="body"||Wc(o))&&(l=kf(r)),pr(r))){const g=Bi(r);c=qo(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?nN(o,l,!0):ur(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-l.scrollTop*c.y+h.y+p.y}}function ZH(t){return Array.from(t.getClientRects())}function eq(t){const e=yr(t),n=kf(t),r=t.ownerDocument.body,s=pn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+mx(t);const a=-n.scrollTop;return Xn(r).direction==="rtl"&&(o+=pn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function tq(t,e){const n=xn(t),r=yr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=fx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function nq(t,e){const n=Bi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=pr(t)?qo(t):ur(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function WT(t,e,n){let r;if(e==="viewport")r=tq(t,n);else if(e==="document")r=eq(yr(t));else if(Yn(e))r=nq(e,n);else{const s=tN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Nh(r)}function rN(t,e){const n=Qs(t);return n===e||!Yn(n)||la(n)?!1:Xn(n).position==="fixed"||rN(n,e)}function rq(t,e){const n=e.get(t);if(n)return n;let r=yc(t,[],!1).filter(a=>Yn(a)&&Ta(a)!=="body"),s=null;const i=Xn(t).position==="fixed";let o=i?Qs(t):t;for(;Yn(o)&&!la(o);){const a=Xn(o),l=hx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wc(o)&&!l&&rN(t,o))?r=r.filter(h=>h!==o):s=a,o=Qs(o)}return e.set(t,r),r}function sq(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Af(e)?[]:rq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=WT(e,h,s);return c.top=pn(f.top,c.top),c.right=Ks(f.right,c.right),c.bottom=Ks(f.bottom,c.bottom),c.left=pn(f.left,c.left),c},WT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function iq(t){const{width:e,height:n}=eN(t);return{width:e,height:n}}function oq(t,e,n){const r=pr(e),s=yr(e),i=n==="fixed",o=Bi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ur(0);function c(){l.x=mx(s)}if(r||!r&&!i)if((Ta(e)!=="body"||Wc(s))&&(a=kf(e)),r){const g=Bi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?nN(s,a):ur(0),f=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function pm(t){return Xn(t).position==="static"}function HT(t,e){if(!pr(t)||Xn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yr(t)===n&&(n=n.ownerDocument.body),n}function sN(t,e){const n=xn(t);if(Af(t))return n;if(!pr(t)){let s=Qs(t);for(;s&&!la(s);){if(Yn(s)&&!pm(s))return s;s=Qs(s)}return n}let r=HT(t,e);for(;r&&KH(r)&&pm(r);)r=HT(r,e);return r&&la(r)&&pm(r)&&!hx(r)?n:r||QH(t)||n}const aq=async function(t){const e=this.getOffsetParent||sN,n=this.getDimensions,r=await n(t.floating);return{reference:oq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lq(t){return Xn(t).direction==="rtl"}const cq={convertOffsetParentRelativeRectToViewportRelativeRect:JH,getDocumentElement:yr,getClippingRect:sq,getOffsetParent:sN,getElementRects:aq,getClientRects:ZH,getDimensions:iq,getScale:qo,isElement:Yn,isRTL:lq};function iN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function uq(t,e){let n=null,r;const s=yr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=c;if(a||e(),!p||!g)return;const E=Hu(f),v=Hu(s.clientWidth-(h+p)),_=Hu(s.clientHeight-(f+g)),w=Hu(h),T={rootMargin:-E+"px "+-v+"px "+-_+"px "+-w+"px",threshold:pn(0,Ks(1,l))||1};let C=!0;function A(O){const I=O[0].intersectionRatio;if(I!==l){if(!C)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!iN(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(A,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,T)}n.observe(t)}return o(!0),i}function dq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=px(t),h=s||i?[...c?yc(c):[],...yc(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?uq(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let E,v=l?Bi(t):null;l&&_();function _(){const w=Bi(t);v&&!iN(v,w)&&n(),v=w,E=requestAnimationFrame(_)}return n(),()=>{var w;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const hq=WH,fq=HH,pq=UH,mq=GH,gq=BH,qT=$H,yq=qH,vq=(t,e,n)=>{const r=new Map,s={platform:cq,...n},i={...s.platform,_c:r};return FH(t,e,{...s,platform:i})};var _d=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Dh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function oN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GT(t,e){const n=oN(t);return Math.round(e*n)/n}function mm(t){const e=m.useRef(t);return _d(()=>{e.current=t}),e}function xq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Dh(p,r)||g(r);const[E,v]=m.useState(null),[_,w]=m.useState(null),x=m.useCallback(V=>{V!==O.current&&(O.current=V,v(V))},[]),T=m.useCallback(V=>{V!==I.current&&(I.current=V,w(V))},[]),C=i||E,A=o||_,O=m.useRef(null),I=m.useRef(null),S=m.useRef(h),P=l!=null,k=mm(l),D=mm(s),j=mm(c),N=m.useCallback(()=>{if(!O.current||!I.current)return;const V={placement:e,strategy:n,middleware:p};D.current&&(V.platform=D.current),vq(O.current,I.current,V).then(z=>{const G={...z,isPositioned:j.current!==!1};L.current&&!Dh(S.current,G)&&(S.current=G,Zs.flushSync(()=>{f(G)}))})},[p,e,n,D,j]);_d(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const L=m.useRef(!1);_d(()=>(L.current=!0,()=>{L.current=!1}),[]),_d(()=>{if(C&&(O.current=C),A&&(I.current=A),C&&A){if(k.current)return k.current(C,A,N);N()}},[C,A,N,k,P]);const B=m.useMemo(()=>({reference:O,floating:I,setReference:x,setFloating:T}),[x,T]),W=m.useMemo(()=>({reference:C,floating:A}),[C,A]),K=m.useMemo(()=>{const V={position:n,left:0,top:0};if(!W.floating)return V;const z=GT(W.floating,h.x),G=GT(W.floating,h.y);return a?{...V,transform:"translate("+z+"px, "+G+"px)",...oN(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:G}},[n,a,W.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:N,refs:B,elements:W,floatingStyles:K}),[h,N,B,W,K])}const wq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?qT({element:r.current,padding:s}).fn(n):{}:r?qT({element:r,padding:s}).fn(n):{}}}},_q=(t,e)=>({...hq(t),options:[t,e]}),Eq=(t,e)=>({...fq(t),options:[t,e]}),Tq=(t,e)=>({...yq(t),options:[t,e]}),bq=(t,e)=>({...pq(t),options:[t,e]}),Sq=(t,e)=>({...mq(t),options:[t,e]}),Cq=(t,e)=>({...gq(t),options:[t,e]}),Iq=(t,e)=>({...wq(t),options:[t,e]});function Pq(t){const[e,n]=m.useState(void 0);return Yr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const aN="Popper",[lN,cN]=lx(aN),[Rq,uN]=lN(aN),Aq=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return m.createElement(Rq,{scope:e,anchor:r,onAnchorChange:s},n)},kq="PopperAnchor",Nq=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=uN(kq,n),o=m.useRef(null),a=un(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.createElement(Wt.div,je({},s,{ref:a}))}),dN="PopperContent",[Dq,iQ]=lN(dN),jq=m.forwardRef((t,e)=>{var n,r,s,i,o,a,l,c;const{__scopePopper:h,side:f="bottom",sideOffset:p=0,align:g="center",alignOffset:E=0,arrowPadding:v=0,avoidCollisions:_=!0,collisionBoundary:w=[],collisionPadding:x=0,sticky:T="partial",hideWhenDetached:C=!1,updatePositionStrategy:A="optimized",onPlaced:O,...I}=t,S=uN(dN,h),[P,k]=m.useState(null),D=un(e,dn=>k(dn)),[j,N]=m.useState(null),L=Pq(j),B=(n=L==null?void 0:L.width)!==null&&n!==void 0?n:0,W=(r=L==null?void 0:L.height)!==null&&r!==void 0?r:0,K=f+(g!=="center"?"-"+g:""),V=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},z=Array.isArray(w)?w:[w],G=z.length>0,Y={padding:V,boundary:z.filter(Oq),altBoundary:G},{refs:le,floatingStyles:ie,placement:Be,isPositioned:Xe,middlewareData:ke}=xq({strategy:"fixed",placement:K,whileElementsMounted:(...dn)=>dq(...dn,{animationFrame:A==="always"}),elements:{reference:S.anchor},middleware:[_q({mainAxis:p+W,alignmentAxis:E}),_&&Eq({mainAxis:!0,crossAxis:!1,limiter:T==="partial"?Tq():void 0,...Y}),_&&bq({...Y}),Sq({...Y,apply:({elements:dn,rects:vr,availableWidth:rs,availableHeight:Ff})=>{const{width:qc,height:Gc}=vr.reference,ss=dn.floating.style;ss.setProperty("--radix-popper-available-width",`${rs}px`),ss.setProperty("--radix-popper-available-height",`${Ff}px`),ss.setProperty("--radix-popper-anchor-width",`${qc}px`),ss.setProperty("--radix-popper-anchor-height",`${Gc}px`)}}),j&&Iq({element:j,padding:v}),Mq({arrowWidth:B,arrowHeight:W}),C&&Cq({strategy:"referenceHidden",...Y})]}),[te,Re]=hN(Be),ze=Qr(O);Yr(()=>{Xe&&(ze==null||ze())},[Xe,ze]);const xe=(s=ke.arrow)===null||s===void 0?void 0:s.x,fe=(i=ke.arrow)===null||i===void 0?void 0:i.y,Te=((o=ke.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[wt,_t]=m.useState();return Yr(()=>{P&&_t(window.getComputedStyle(P).zIndex)},[P]),m.createElement("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:Xe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:wt,"--radix-popper-transform-origin":[(a=ke.transformOrigin)===null||a===void 0?void 0:a.x,(l=ke.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},m.createElement(Dq,{scope:h,placedSide:te,onArrowChange:N,arrowX:xe,arrowY:fe,shouldHideArrow:Te},m.createElement(Wt.div,je({"data-side":te,"data-align":Re},I,{ref:D,style:{...I.style,animation:Xe?void 0:"none",opacity:(c=ke.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function Oq(t){return t!==null}const Mq=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s,i,o;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[E,v]=hN(a),_={start:"0%",center:"50%",end:"100%"}[v],w=((r=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+p/2,x=((i=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+g/2;let T="",C="";return E==="bottom"?(T=f?_:`${w}px`,C=`${-g}px`):E==="top"?(T=f?_:`${w}px`,C=`${l.floating.height+g}px`):E==="right"?(T=`${-g}px`,C=f?_:`${x}px`):E==="left"&&(T=`${l.floating.width+g}px`,C=f?_:`${x}px`),{data:{x:T,y:C}}}});function hN(t){const[e,n="center"]=t.split("-");return[e,n]}const Vq=Aq,Lq=Nq,Fq=jq,$q=m.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?gC.createPortal(m.createElement(Wt.div,je({},s,{ref:e})),r):null});function KT({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Uq({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Qr(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function Uq({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Qr(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function Bq(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const zq=m.forwardRef((t,e)=>m.createElement(Wt.span,je({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var fN=mk(),gm=function(){},Nf=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:gm,onWheelCapture:gm,onTouchMoveCapture:gm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,E=t.inert,v=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,x=wa(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=p,C=pk([n,e]),A=Ut(Ut({},x),s);return m.createElement(m.Fragment,null,h&&m.createElement(T,{sideCar:fN,removeScrollBar:c,shards:f,noIsolation:g,inert:E,setCallbacks:i,allowPinchZoom:!!v,lockRef:n}),o?m.cloneElement(m.Children.only(a),Ut(Ut({},A),{ref:C})):m.createElement(w,Ut({},A,{className:l,ref:C}),a))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:kl,zeroRight:Al};var dy=!1;if(typeof window<"u")try{var qu=Object.defineProperty({},"passive",{get:function(){return dy=!0,!0}});window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{dy=!1}var ho=dy?{passive:!1}:!1,Wq=function(t){return t.tagName==="TEXTAREA"},pN=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wq(t)&&n[e]==="visible")},Hq=function(t){return pN(t,"overflowY")},qq=function(t){return pN(t,"overflowX")},QT=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=mN(t,n);if(r){var s=gN(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Gq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Kq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mN=function(t,e){return t==="v"?Hq(e):qq(e)},gN=function(t,e){return t==="v"?Gq(e):Kq(e)},Qq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yq=function(t,e,n,r,s){var i=Qq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,p=0;do{var g=gN(t,a),E=g[0],v=g[1],_=g[2],w=v-_-i*E;(E||w)&&mN(t,a)&&(f+=w,p+=E),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(s&&f===0||!s&&o>f)||!h&&(s&&p===0||!s&&-o>p))&&(c=!0),c},Gu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},YT=function(t){return[t.deltaX,t.deltaY]},XT=function(t){return t&&"current"in t?t.current:t},Xq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zq=0,fo=[];function eG(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(Zq++)[0],i=m.useState(function(){return rx()})[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=IP([t.lockRef.current],(t.shards||[]).map(XT),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var w=Gu(v),x=n.current,T="deltaX"in v?v.deltaX:x[0]-w[0],C="deltaY"in v?v.deltaY:x[1]-w[1],A,O=v.target,I=Math.abs(T)>Math.abs(C)?"h":"v";if("touches"in v&&I==="h"&&O.type==="range")return!1;var S=QT(I,O);if(!S)return!0;if(S?A=I:(A=I==="v"?"h":"v",S=QT(I,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||C)&&(r.current=A),!A)return!0;var P=r.current||A;return Yq(P,_,v,P==="h"?T:C,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!fo.length||fo[fo.length-1]!==i)){var w="deltaY"in _?YT(_):Gu(_),x=e.current.filter(function(A){return A.name===_.type&&A.target===_.target&&Xq(A.delta,w)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(XT).filter(Boolean).filter(function(A){return A.contains(_.target)}),C=T.length>0?a(_,T[0]):!o.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,w,x){var T={name:v,delta:_,target:w,should:x};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(C){return C!==T})},1)},[]),h=m.useCallback(function(v){n.current=Gu(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,YT(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,Gu(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return fo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ho),document.addEventListener("touchmove",l,ho),document.addEventListener("touchstart",h,ho),function(){fo=fo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ho),document.removeEventListener("touchmove",l,ho),document.removeEventListener("touchstart",h,ho)}},[]);var g=t.removeScrollBar,E=t.inert;return m.createElement(m.Fragment,null,E?m.createElement(i,{styles:Jq(s)}):null,g?m.createElement(xk,{gapMode:"margin"}):null)}const tG=yk(fN,eG);var yN=m.forwardRef(function(t,e){return m.createElement(Nf,Ut({},t,{ref:e,sideCar:tG}))});yN.classNames=Nf.classNames;const nG=yN,rG=[" ","Enter","ArrowUp","ArrowDown"],sG=[" ","Enter"],Df="Select",[jf,gx,iG]=cH(Df),[ba,oQ]=lx(Df,[iG,cN]),yx=cN(),[oG,no]=ba(Df),[aG,lG]=ba(Df),cG=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:f,disabled:p,required:g}=t,E=yx(e),[v,_]=m.useState(null),[w,x]=m.useState(null),[T,C]=m.useState(!1),A=dH(c),[O=!1,I]=KT({prop:r,defaultProp:s,onChange:i}),[S,P]=KT({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),D=v?!!v.closest("form"):!0,[j,N]=m.useState(new Set),L=Array.from(j).map(B=>B.props.value).join(";");return m.createElement(Vq,E,m.createElement(oG,{required:g,scope:e,trigger:v,onTriggerChange:_,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:T,onValueNodeHasChildrenChange:C,contentId:Yk(),value:S,onValueChange:P,open:O,onOpenChange:I,dir:A,triggerPointerDownPosRef:k,disabled:p},m.createElement(jf.Provider,{scope:e},m.createElement(aG,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{N(W=>new Set(W).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{N(W=>{const K=new Set(W);return K.delete(B),K})},[])},n)),D?m.createElement(_N,{key:L,"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:B=>P(B.target.value),disabled:p},S===void 0?m.createElement("option",{value:""}):null,Array.from(j)):null))},uG="SelectTrigger",dG=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=yx(n),o=no(uG,n),a=o.disabled||r,l=un(e,o.onTriggerChange),c=gx(n),[h,f,p]=EN(E=>{const v=c().filter(x=>!x.disabled),_=v.find(x=>x.value===o.value),w=TN(v,E,_);w!==void 0&&o.onValueChange(w.value)}),g=()=>{a||(o.onOpenChange(!0),p())};return m.createElement(Lq,je({asChild:!0},i),m.createElement(Wt.button,je({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":wN(o.value)?"":void 0},s,{ref:l,onClick:Yt(s.onClick,E=>{E.currentTarget.focus()}),onPointerDown:Yt(s.onPointerDown,E=>{const v=E.target;v.hasPointerCapture(E.pointerId)&&v.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)},E.preventDefault())}),onKeyDown:Yt(s.onKeyDown,E=>{const v=h.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&f(E.key),!(v&&E.key===" ")&&rG.includes(E.key)&&(g(),E.preventDefault())})})))}),hG="SelectValue",fG=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=no(hG,n),{onValueNodeHasChildrenChange:c}=l,h=i!==void 0,f=un(e,l.onValueNodeChange);return Yr(()=>{c(h)},[c,h]),m.createElement(Wt.span,je({},a,{ref:f,style:{pointerEvents:"none"}}),wN(l.value)?m.createElement(m.Fragment,null,o):i)}),pG=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return m.createElement(Wt.span,je({"aria-hidden":!0},s,{ref:e}),r||"▼")}),mG=t=>m.createElement($q,je({asChild:!0},t)),ca="SelectContent",gG=m.forwardRef((t,e)=>{const n=no(ca,t.__scopeSelect),[r,s]=m.useState();if(Yr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Zs.createPortal(m.createElement(vN,{scope:t.__scopeSelect},m.createElement(jf.Slot,{scope:t.__scopeSelect},m.createElement("div",null,t.children))),i):null}return m.createElement(yG,je({},t,{ref:e}))}),Er=10,[vN,Of]=ba(ca),yG=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:E,hideWhenDetached:v,avoidCollisions:_,...w}=t,x=no(ca,n),[T,C]=m.useState(null),[A,O]=m.useState(null),I=un(e,te=>C(te)),[S,P]=m.useState(null),[k,D]=m.useState(null),j=gx(n),[N,L]=m.useState(!1),B=m.useRef(!1);m.useEffect(()=>{if(T)return Sk(T)},[T]),_H();const W=m.useCallback(te=>{const[Re,...ze]=j().map(Te=>Te.ref.current),[xe]=ze.slice(-1),fe=document.activeElement;for(const Te of te)if(Te===fe||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Re&&A&&(A.scrollTop=0),Te===xe&&A&&(A.scrollTop=A.scrollHeight),Te==null||Te.focus(),document.activeElement!==fe))return},[j,A]),K=m.useCallback(()=>W([S,T]),[W,S,T]);m.useEffect(()=>{N&&K()},[N,K]);const{onOpenChange:V,triggerPointerDownPosRef:z}=x;m.useEffect(()=>{if(T){let te={x:0,y:0};const Re=xe=>{var fe,Te,wt,_t;te={x:Math.abs(Math.round(xe.pageX)-((fe=(Te=z.current)===null||Te===void 0?void 0:Te.x)!==null&&fe!==void 0?fe:0)),y:Math.abs(Math.round(xe.pageY)-((wt=(_t=z.current)===null||_t===void 0?void 0:_t.y)!==null&&wt!==void 0?wt:0))}},ze=xe=>{te.x<=10&&te.y<=10?xe.preventDefault():T.contains(xe.target)||V(!1),document.removeEventListener("pointermove",Re),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ze,{capture:!0})}}},[T,V,z]),m.useEffect(()=>{const te=()=>V(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[V]);const[G,Y]=EN(te=>{const Re=j().filter(fe=>!fe.disabled),ze=Re.find(fe=>fe.ref.current===document.activeElement),xe=TN(Re,te,ze);xe&&setTimeout(()=>xe.ref.current.focus())}),le=m.useCallback((te,Re,ze)=>{const xe=!B.current&&!ze;(x.value!==void 0&&x.value===Re||xe)&&(P(te),xe&&(B.current=!0))},[x.value]),ie=m.useCallback(()=>T==null?void 0:T.focus(),[T]),Be=m.useCallback((te,Re,ze)=>{const xe=!B.current&&!ze;(x.value!==void 0&&x.value===Re||xe)&&D(te)},[x.value]),Xe=r==="popper"?JT:vG,ke=Xe===JT?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:E,hideWhenDetached:v,avoidCollisions:_}:{};return m.createElement(vN,{scope:n,content:T,viewport:A,onViewportChange:O,itemRefCallback:le,selectedItem:S,onItemLeave:ie,itemTextRefCallback:Be,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:N,searchRef:G},m.createElement(nG,{as:mc,allowPinchZoom:!0},m.createElement(EH,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Yt(s,te=>{var Re;(Re=x.trigger)===null||Re===void 0||Re.focus({preventScroll:!0}),te.preventDefault()})},m.createElement(vH,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},m.createElement(Xe,je({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault()},w,ke,{onPlaced:()=>L(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Yt(w.onKeyDown,te=>{const Re=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Re&&te.key.length===1&&Y(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let xe=j().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(te.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const fe=te.target,Te=xe.indexOf(fe);xe=xe.slice(Te+1)}setTimeout(()=>W(xe)),te.preventDefault()}})}))))))}),vG=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=no(ca,n),o=Of(ca,n),[a,l]=m.useState(null),[c,h]=m.useState(null),f=un(e,I=>h(I)),p=gx(n),g=m.useRef(!1),E=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:w,focusSelectedItem:x}=o,T=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&w){const I=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(i.dir!=="rtl"){const fe=k.left-S.left,Te=P.left-fe,wt=I.left-Te,_t=I.width+wt,dn=Math.max(_t,S.width),vr=window.innerWidth-Er,rs=NT(Te,[Er,vr-dn]);a.style.minWidth=_t+"px",a.style.left=rs+"px"}else{const fe=S.right-k.right,Te=window.innerWidth-P.right-fe,wt=window.innerWidth-I.right-Te,_t=I.width+wt,dn=Math.max(_t,S.width),vr=window.innerWidth-Er,rs=NT(Te,[Er,vr-dn]);a.style.minWidth=_t+"px",a.style.right=rs+"px"}const D=p(),j=window.innerHeight-Er*2,N=v.scrollHeight,L=window.getComputedStyle(c),B=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),K=parseInt(L.borderBottomWidth,10),V=parseInt(L.paddingBottom,10),z=B+W+N+V+K,G=Math.min(_.offsetHeight*5,z),Y=window.getComputedStyle(v),le=parseInt(Y.paddingTop,10),ie=parseInt(Y.paddingBottom,10),Be=I.top+I.height/2-Er,Xe=j-Be,ke=_.offsetHeight/2,te=_.offsetTop+ke,Re=B+W+te,ze=z-Re;if(Re<=Be){const fe=_===D[D.length-1].ref.current;a.style.bottom="0px";const Te=c.clientHeight-v.offsetTop-v.offsetHeight,wt=Math.max(Xe,ke+(fe?ie:0)+Te+K),_t=Re+wt;a.style.height=_t+"px"}else{const fe=_===D[0].ref.current;a.style.top="0px";const wt=Math.max(Be,B+v.offsetTop+(fe?le:0)+ke)+ze;a.style.height=wt+"px",v.scrollTop=Re-Be+v.offsetTop}a.style.margin=`${Er}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,_,w,i.dir,r]);Yr(()=>T(),[T]);const[C,A]=m.useState();Yr(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(I=>{I&&E.current===!0&&(T(),x==null||x(),E.current=!1)},[T,x]);return m.createElement(xG,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O},m.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C}},m.createElement(Wt.div,je({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),JT=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Er,...i}=t,o=yx(n);return m.createElement(Fq,je({},o,i,{ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[xG,wG]=ba(ca,{}),ZT="SelectViewport",_G=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Of(ZT,n),i=wG(ZT,n),o=un(e,s.onViewportChange),a=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(jf.Slot,{scope:n},m.createElement(Wt.div,je({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Yt(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(a.current-c.scrollTop);if(p>0){const g=window.innerHeight-Er*2,E=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),_=Math.max(E,v);if(_<g){const w=_+p,x=Math.min(g,w),T=w-x;h.style.height=x+"px",h.style.bottom==="0px"&&(c.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),EG="SelectGroup",[aQ,TG]=ba(EG),bG="SelectLabel",SG=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=TG(bG,n);return m.createElement(Wt.div,je({id:s.id},r,{ref:e}))}),hy="SelectItem",[CG,xN]=ba(hy),IG=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=no(hy,n),l=Of(hy,n),c=a.value===r,[h,f]=m.useState(i??""),[p,g]=m.useState(!1),E=un(e,w=>{var x;return(x=l.itemRefCallback)===null||x===void 0?void 0:x.call(l,w,r,s)}),v=Yk(),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.createElement(CG,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(w=>{f(x=>{var T;return x||((T=w==null?void 0:w.textContent)!==null&&T!==void 0?T:"").trim()})},[])},m.createElement(jf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h},m.createElement(Wt.div,je({role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o,{ref:E,onFocus:Yt(o.onFocus,()=>g(!0)),onBlur:Yt(o.onBlur,()=>g(!1)),onPointerUp:Yt(o.onPointerUp,_),onPointerMove:Yt(o.onPointerMove,w=>{if(s){var x;(x=l.onItemLeave)===null||x===void 0||x.call(l)}else w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Yt(o.onPointerLeave,w=>{if(w.currentTarget===document.activeElement){var x;(x=l.onItemLeave)===null||x===void 0||x.call(l)}}),onKeyDown:Yt(o.onKeyDown,w=>{var x;((x=l.searchRef)===null||x===void 0?void 0:x.current)!==""&&w.key===" "||(sG.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})}))))}),Ku="SelectItemText",PG=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=no(Ku,n),a=Of(Ku,n),l=xN(Ku,n),c=lG(Ku,n),[h,f]=m.useState(null),p=un(e,w=>f(w),l.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)===null||x===void 0?void 0:x.call(a,w,l.value,l.disabled)}),g=h==null?void 0:h.textContent,E=m.useMemo(()=>m.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Yr(()=>(v(E),()=>_(E)),[v,_,E]),m.createElement(m.Fragment,null,m.createElement(Wt.span,je({id:l.textId},i,{ref:p})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zs.createPortal(i.children,o.valueNode):null)}),RG="SelectItemIndicator",AG=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return xN(RG,n).isSelected?m.createElement(Wt.span,je({"aria-hidden":!0},r,{ref:e})):null}),kG=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.createElement(Wt.div,je({"aria-hidden":!0},r,{ref:e}))});function wN(t){return t===""||t===void 0}const _N=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=un(e,s),o=Bq(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),m.createElement(zq,{asChild:!0},m.createElement("select",je({},r,{ref:i,defaultValue:n})))});_N.displayName="BubbleSelect";function EN(t){const e=Qr(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function TN(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=NG(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function NG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const DG=cG,bN=dG,jG=fG,OG=pG,MG=mG,SN=gG,VG=_G,CN=SG,IN=IG,LG=PG,FG=AG,PN=kG,$G=DG,UG=jG,RN=Z.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(bN,{ref:r,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,d.jsx(OG,{asChild:!0,children:d.jsx(yV,{className:"h-4 w-4 opacity-50"})})]}));RN.displayName=bN.displayName;const AN=Z.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(MG,{children:d.jsx(SN,{ref:s,className:he("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:d.jsx(VG,{className:he("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));AN.displayName=SN.displayName;const BG=Z.forwardRef(({className:t,...e},n)=>d.jsx(CN,{ref:n,className:he("py-1.5 pr-2 pl-8 text-sm font-semibold",t),...e}));BG.displayName=CN.displayName;const kN=Z.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(IN,{ref:r,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(FG,{children:d.jsx(jC,{className:"h-4 w-4"})})}),d.jsx(LG,{children:e})]}));kN.displayName=IN.displayName;const zG=Z.forwardRef(({className:t,...e},n)=>d.jsx(PN,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));zG.displayName=PN.displayName;const Qu=[{value:"pending",label:"قيد الانتظار",icon:d.jsx(Dn,{className:"h-4 w-4 text-yellow-500"})},{value:"processing",label:"قيد المعالجة",icon:d.jsx(H_,{className:"h-4 w-4 text-blue-500"})},{value:"shipped",label:"تم الشحن",icon:d.jsx(H_,{className:"h-4 w-4 text-sky-500"})},{value:"delivered",label:"تم التسليم",icon:d.jsx(OV,{className:"h-4 w-4 text-green-500"})},{value:"cancelled",label:"ملغي",icon:d.jsx(vv,{className:"h-4 w-4 text-red-500"})}],eb=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"processing":return"bg-blue-100 text-blue-700 border-blue-300";case"shipped":return"bg-sky-100 text-sky-700 border-sky-300";case"delivered":return"bg-green-100 text-green-700 border-green-300";case"cancelled":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},WG=()=>{var g,E,v,_,w,x,T;const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(null),{toast:o}=bn(),[a,l]=m.useState(null),[c,h]=m.useState(!1);m.useEffect(()=>{r(!0);const C=E3(ch(br,"orders"),T3("createdAt","desc")),A=CP(C,O=>{const I=O.docs.map(S=>{var P;return{id:S.id,...S.data(),createdAt:(P=S.data().createdAt)!=null&&P.toDate?S.data().createdAt.toDate():new Date}});e(I),r(!1),i(null)},O=>{console.error("Error fetching orders: ",O),i("حدث خطأ أثناء تحميل الطلبات من قاعدة البيانات."),r(!1)});return()=>A()},[]);const f=async(C,A)=>{var O;try{const I=Tl(br,"orders",C);await bP(I,{status:A}),o({title:"✅ تم تحديث حالة الطلب",description:`تم تغيير حالة الطلب إلى ${((O=Qu.find(S=>S.value===A))==null?void 0:O.label)||A}.`,className:"bg-green-500 text-white"})}catch(I){o({title:"❌ خطأ في تحديث الحالة",description:I.message,variant:"destructive"})}},p=C=>{l(C),h(!0)};return n?d.jsxs("div",{className:"flex items-center justify-center p-10",children:[d.jsx(Dn,{className:"h-12 w-12 animate-spin text-primary"}),d.jsx("p",{className:"ml-4 text-lg text-muted-foreground",children:"جاري تحميل الطلبات..."})]}):s?d.jsxs("div",{className:"p-10 text-center",children:[d.jsx(yv,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),d.jsx("p",{className:"text-lg text-destructive",children:s})]}):d.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-primary flex items-center",children:[d.jsx(W_,{className:"ml-2 h-6 w-6"}),"عرض تفاصيل الطلبات"]}),t.length===0?d.jsx("p",{className:"text-muted-foreground text-center py-8",children:"لا توجد طلبات لعرضها حالياً."}):d.jsx("div",{className:"overflow-x-auto rounded-lg border border-border shadow-sm bg-card",children:d.jsxs(J0,{children:[d.jsx(Z0,{children:d.jsxs(tx,{className:"bg-muted/50",children:[d.jsx(Rn,{className:"text-right",children:"رقم الطلب"}),d.jsx(Rn,{className:"text-right",children:"اسم العميل"}),d.jsx(Rn,{className:"text-right",children:"التاريخ"}),d.jsx(Rn,{className:"text-right",children:"الإجمالي (ج.م)"}),d.jsx(Rn,{className:"text-right",children:"الحالة"}),d.jsx(Rn,{className:"text-center",children:"عرض التفاصيل"})]})}),d.jsx(ex,{children:t.map(C=>{var A,O;return d.jsxs(se.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-muted/30 transition-colors",children:[d.jsx(An,{className:"font-medium text-primary truncate max-w-[100px]",children:C.id}),d.jsx(An,{children:((A=C.customerInfo)==null?void 0:A.name)||"غير متوفر"}),d.jsx(An,{children:C.createdAt?new Date(C.createdAt).toLocaleDateString("ar-EG"):"غير متوفر"}),d.jsx(An,{children:(C.totalAmount||0).toLocaleString("ar-EG")}),d.jsx(An,{children:d.jsxs($G,{value:C.status,onValueChange:I=>f(C.id,I),children:[d.jsx(RN,{className:`w-[150px] text-xs h-9 ${eb(C.status)}`,children:d.jsxs("div",{className:"flex items-center",children:[(O=Qu.find(I=>I.value===C.status))==null?void 0:O.icon,d.jsx("span",{className:"mr-2",children:d.jsx(UG,{})})]})}),d.jsx(AN,{children:Qu.map(I=>d.jsx(kN,{value:I.value,className:"text-xs",children:d.jsxs("div",{className:"flex items-center",children:[I.icon," ",d.jsx("span",{className:"mr-2",children:I.label})]})},I.value))})]})}),d.jsx(An,{className:"text-center",children:d.jsx(de,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700",onClick:()=>p(C),children:d.jsx(EV,{className:"h-5 w-5"})})})]},C.id)})})]})}),a&&d.jsx(wd,{open:c,onOpenChange:h,children:d.jsxs(Nl,{className:"max-w-lg text-right sm:max-w-xl md:max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs(Dl,{className:"mb-4",children:[d.jsxs(jl,{className:"text-2xl text-primary",children:["تفاصيل الطلب: ",d.jsx("span",{className:"font-mono text-sm",children:a.id})]}),d.jsx(ax,{children:d.jsx("span",{className:`inline-block px-2 py-1 rounded-md text-xs ${eb(a.status)}`,children:((g=Qu.find(C=>C.value===a.status))==null?void 0:g.label)||a.status})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs(Ge,{className:"glassmorphism-card",children:[d.jsx(vt,{children:d.jsxs(xt,{className:"text-lg text-primary flex items-center",children:[d.jsx(q_,{className:"ml-2"}),"معلومات العميل"]})}),d.jsxs(st,{className:"space-y-1 text-sm",children:[d.jsxs("p",{children:[d.jsxs("strong",{children:[d.jsx(q_,{className:"inline ml-1 h-4 w-4 text-muted-foreground"}),"الاسم:"]})," ",((E=a.customerInfo)==null?void 0:E.name)||"غير متوفر"]}),d.jsxs("p",{children:[d.jsxs("strong",{children:[d.jsx(ma,{className:"inline ml-1 h-4 w-4 text-muted-foreground"}),"البريد:"]})," ",((v=a.customerInfo)==null?void 0:v.email)||"غير متوفر"]}),d.jsxs("p",{children:[d.jsxs("strong",{children:[d.jsx(FV,{className:"inline ml-1 h-4 w-4 text-muted-foreground"}),"الهاتف:"]})," ",((_=a.customerInfo)==null?void 0:_.phone)||"غير متوفر"]}),d.jsxs("p",{children:[d.jsxs("strong",{children:[d.jsx(DV,{className:"inline ml-1 h-4 w-4 text-muted-foreground"}),"العنوان:"]})," ",((w=a.customerInfo)==null?void 0:w.address)||"غير متوفر",", ",((x=a.customerInfo)==null?void 0:x.city)||"",", ",((T=a.customerInfo)==null?void 0:T.country)||""]})]})]}),d.jsxs(Ge,{className:"glassmorphism-card",children:[d.jsx(vt,{children:d.jsxs(xt,{className:"text-lg text-primary flex items-center",children:[d.jsx(mV,{className:"ml-2"}),"تفاصيل الطلب"]})}),d.jsxs(st,{className:"space-y-1 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"تاريخ الطلب:"})," ",a.createdAt?new Date(a.createdAt).toLocaleString("ar-EG",{dateStyle:"full",timeStyle:"short"}):"غير متوفر"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"طريقة الدفع:"})," ",a.paymentMethod==="cod"?"الدفع عند الاستلام":a.paymentMethod||"غير محدد"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"الإجمالي الكلي:"})," ",d.jsx("span",{className:"font-bold text-green-600",children:(a.totalAmount||0).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]})]})]})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-lg font-semibold mb-2 text-primary flex items-center",children:[d.jsx(W_,{className:"ml-2"}),"المنتجات المطلوبة:"]}),d.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-2 bg-muted/20",children:a.items&&a.items.length>0?d.jsx("ul",{className:"space-y-2",children:a.items.map((C,A)=>d.jsxs("li",{className:"p-2 border-b last:border-b-0 flex justify-between items-center text-sm bg-background/50 rounded",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-foreground",children:C.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["الكمية: ",C.quantity," | السعر: ",(C.price||0).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})]})]}),d.jsx("p",{className:"font-semibold text-primary",children:((C.price||0)*C.quantity).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]},A))}):d.jsx("p",{className:"text-muted-foreground text-center p-4",children:"لا توجد منتجات في هذا الطلب."})})]}),d.jsx(Rh,{className:"mt-6",children:d.jsx(de,{variant:"outline",onClick:()=>h(!1),children:"إغلاق"})})]})})]})};var HG=m.createContext(void 0);function vx(t){const e=m.useContext(HG);return t||e||"ltr"}var ym="rovingFocusGroup.onEntryFocus",qG={bubbles:!1,cancelable:!0},Hc="RovingFocusGroup",[fy,NN,GG]=H0(Hc),[KG,DN]=eo(Hc,[GG]),[QG,YG]=KG(Hc),jN=m.forwardRef((t,e)=>d.jsx(fy.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(fy.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(XG,{...t,ref:e})})}));jN.displayName=Hc;var XG=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,p=m.useRef(null),g=ot(e,p),E=vx(i),[v,_]=_a({prop:o,defaultProp:a??null,onChange:l,caller:Hc}),[w,x]=m.useState(!1),T=fr(c),C=NN(n),A=m.useRef(!1),[O,I]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(ym,T),()=>S.removeEventListener(ym,T)},[T]),d.jsx(QG,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(S=>_(S),[_]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>I(S=>S-1),[]),children:d.jsx(Pe.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:_e(t.onMouseDown,()=>{A.current=!0}),onFocus:_e(t.onFocus,S=>{const P=!A.current;if(S.target===S.currentTarget&&P&&!w){const k=new CustomEvent(ym,qG);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=C().filter(W=>W.focusable),j=D.find(W=>W.active),N=D.find(W=>W.id===v),B=[j,N,...D].filter(Boolean).map(W=>W.ref.current);VN(B,h)}}A.current=!1}),onBlur:_e(t.onBlur,()=>x(!1))})})}),ON="RovingFocusGroupItem",MN=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Rl(),c=i||l,h=YG(ON,n),f=h.currentTabStopId===c,p=NN(n),{onFocusableItemAdd:g,onFocusableItemRemove:E,currentTabStopId:v}=h;return m.useEffect(()=>{if(r)return g(),()=>E()},[r,g,E]),d.jsx(fy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(Pe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:_e(t.onMouseDown,_=>{r?h.onItemFocus(c):_.preventDefault()}),onFocus:_e(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:_e(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=eK(_,h.orientation,h.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=p().filter(C=>C.focusable).map(C=>C.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const C=T.indexOf(_.currentTarget);T=h.loop?tK(T,C+1):T.slice(C+1)}setTimeout(()=>VN(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});MN.displayName=ON;var JG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function eK(t,e,n){const r=ZG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return JG[r]}function VN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function tK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nK=jN,rK=MN,Mf="Tabs",[sK,lQ]=eo(Mf,[DN]),LN=DN(),[iK,xx]=sK(Mf),FN=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=vx(a),[f,p]=_a({prop:r,onChange:s,defaultProp:i??"",caller:Mf});return d.jsx(iK,{scope:n,baseId:Rl(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:l,children:d.jsx(Pe.div,{dir:h,"data-orientation":o,...c,ref:e})})});FN.displayName=Mf;var $N="TabsList",UN=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=xx($N,n),o=LN(n);return d.jsx(nK,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Pe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});UN.displayName=$N;var BN="TabsTrigger",zN=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=xx(BN,n),a=LN(n),l=qN(o.baseId,r),c=GN(o.baseId,r),h=r===o.value;return d.jsx(rK,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Pe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:_e(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:_e(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:_e(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});zN.displayName=BN;var WN="TabsContent",HN=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=xx(WN,n),l=qN(a.baseId,r),c=GN(a.baseId,r),h=r===a.value,f=m.useRef(h);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(to,{present:s||h,children:({present:p})=>d.jsx(Pe.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});HN.displayName=WN;function qN(t,e){return`${t}-trigger-${e}`}function GN(t,e){return`${t}-content-${e}`}var oK=FN,KN=UN,QN=zN,YN=HN;const aK=oK,XN=Z.forwardRef(({className:t,...e},n)=>d.jsx(KN,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));XN.displayName=KN.displayName;const Ed=Z.forwardRef(({className:t,...e},n)=>d.jsx(QN,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ed.displayName=QN.displayName;const Td=Z.forwardRef(({className:t,...e},n)=>d.jsx(YN,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Td.displayName=YN.displayName;const lK=[{title:"إجمالي الطلبات",value:"0",icon:d.jsx(wv,{className:"h-6 w-6 text-primary"}),change:"+0%",changeType:"positive",id:"totalOrders"},{title:"إجمالي الإيرادات (ج.م)",value:"0",icon:d.jsx(_V,{className:"h-6 w-6 text-green-500"}),change:"+0%",changeType:"positive",id:"totalRevenue"},{title:"عدد المستخدمين",value:"0",icon:d.jsx(_v,{className:"h-6 w-6 text-purple-500"}),change:"+0",changeType:"positive",id:"totalUsers"},{title:"منتجات نشطة",value:"0",icon:d.jsx(VC,{className:"h-6 w-6 text-orange-500"}),change:"+0",changeType:"positive",id:"activeProducts"}],cK=()=>d.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 space-y-8",children:[d.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:d.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary",children:"لوحة تحكم المسؤول"})}),d.jsx("div",{className:"grid gap-4 md:gap-6 md:grid-cols-2 lg:grid-cols-4",children:lK.map((t,e)=>d.jsx(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:e*.1},children:d.jsxs(Ge,{className:"glassmorphism-card hover:shadow-lg transition-shadow",children:[d.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(xt,{className:"text-sm font-medium text-muted-foreground",children:t.title}),t.icon]}),d.jsx(st,{children:d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-foreground",children:t.value})})]})},t.id))}),d.jsxs(aK,{defaultValue:"ordersView",className:"w-full",children:[d.jsxs(XN,{className:"grid w-full grid-cols-2 md:grid-cols-3 gap-2 bg-muted/30 p-1 rounded-lg",children:[d.jsxs(Ed,{value:"ordersView",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md flex items-center justify-center py-2.5",children:[d.jsx(TV,{className:"ml-2 h-5 w-5"})," عرض الطلبات"]}),d.jsxs(Ed,{value:"products",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md flex items-center justify-center py-2.5",children:[d.jsx(VC,{className:"ml-2 h-5 w-5"})," إدارة المنتجات"]}),d.jsxs(Ed,{value:"settings",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md flex items-center justify-center py-2.5 col-span-2 md:col-span-1",children:[d.jsx(BV,{className:"ml-2 h-5 w-5"})," إعدادات الموقع"]})]}),d.jsx(Td,{value:"ordersView",className:"mt-6",children:d.jsx(Ge,{className:"glassmorphism-card shadow-lg",children:d.jsx(st,{className:"p-4 md:p-6",children:d.jsx(WG,{})})})}),d.jsx(Td,{value:"products",className:"mt-6",children:d.jsx(Ge,{className:"glassmorphism-card shadow-lg",children:d.jsx(st,{className:"p-4 md:p-6",children:d.jsx(rH,{})})})}),d.jsx(Td,{value:"settings",className:"mt-6",children:d.jsxs(Ge,{className:"glassmorphism-card shadow-lg",children:[d.jsx(vt,{children:d.jsx(xt,{className:"text-xl text-primary",children:"إعدادات الموقع"})}),d.jsxs(st,{className:"p-4 md:p-6",children:[d.jsx("p",{className:"text-muted-foreground",children:"سيتم عرض خيارات إعدادات الموقع هنا قريباً (مثل معلومات الاتصال، إعدادات الشحن، إلخ)."}),d.jsx("img",{alt:"أيقونات متنوعة تمثل إعدادات مختلفة",class:"mx-auto mt-4 w-1/2 opacity-70",src:"https://images.unsplash.com/photo-1630394496594-9ad807386593"})]})]})})]})]}),Yu=({adminOnly:t=!1})=>{const{currentUser:e,loading:n}=yf();return n?d.jsxs("div",{className:"flex items-center justify-center h-screen bg-background",children:[d.jsx(Dn,{className:"h-16 w-16 animate-spin text-primary"}),d.jsx("p",{className:"ml-4 text-xl text-foreground",children:"جاري التحقق من صلاحيات الدخول..."})]}):e?t&&!(e.email&&(e.email.toLowerCase()==="admin@rightwater.com"||e.email.toLowerCase()==="testadmin@example.com"))?d.jsx(fg,{to:"/",replace:!0}):d.jsx(CC,{}):d.jsx(fg,{to:"/login",replace:!0})},JN=m.createContext(),wx=()=>m.useContext(JN),uK=({children:t})=>{const[e,n]=m.useState([]),{toast:r}=bn();m.useEffect(()=>{const f=localStorage.getItem("cartItems");n(f?JSON.parse(f):[])},[]);const s=f=>{localStorage.setItem("cartItems",JSON.stringify(f)),n(f),window.dispatchEvent(new CustomEvent("cartUpdated"))},i=m.useCallback(f=>{n(p=>{const g=p.find(v=>v.id===f.id);let E;if(g)if(g.quantity<f.stock)E=p.map(v=>v.id===f.id?{...v,quantity:v.quantity+1}:v);else return r({title:"كمية غير كافية",description:`لا يمكن إضافة المزيد من منتج "${f.name}". الكمية القصوى في المخزون هي ${f.stock}.`,variant:"destructive"}),p;else if(f.stock>0)E=[...p,{...f,quantity:1}];else return r({title:"نفذ المخزون",description:`عفواً، منتج "${f.name}" غير متوفر حالياً.`,variant:"destructive"}),p;return s(E),r({title:"🛒 أضيف إلى السلة!",description:`${f.name} أصبح الآن في سلة التسوق الخاصة بك.`,className:"bg-green-500 text-white"}),E})},[r]),o=m.useCallback((f,p)=>{n(g=>{const E=g.map(v=>v.id===f?p<1?v:p>v.stock?(r({title:"كمية غير متوفرة",description:`الكمية المطلوبة لـ ${v.name} تتجاوز المخزون المتاح (${v.stock}).`,variant:"destructive"}),v):{...v,quantity:p}:v);return s(E),E})},[r]),a=m.useCallback(f=>{n(p=>{const g=p.filter(E=>E.id!==f);return s(g),r({title:"🗑️ تم الحذف من السلة",description:"تمت إزالة المنتج من سلة التسوق الخاصة بك.",className:"bg-red-500 text-white"}),g})},[r]),l=m.useCallback(()=>{s([])},[]),c=e.reduce((f,p)=>f+(p.price||0)*(p.quantity||0),0),h=e.reduce((f,p)=>f+(p.quantity||0),0);return d.jsx(JN.Provider,{value:{cartItems:e,addItemToCart:i,updateItemQuantity:o,removeItemFromCart:a,clearCart:l,cartTotal:c,cartCount:h},children:t})};function ZN(t,[e,n]){return Math.min(n,Math.max(e,t))}function e2(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function t2(t){const[e,n]=m.useState(void 0);return $i(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var n2=["PageUp","PageDown"],r2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],s2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Sa="Slider",[py,dK,hK]=H0(Sa),[i2,cQ]=eo(Sa,[hK]),[fK,Vf]=i2(Sa),o2=m.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:E,...v}=t,_=m.useRef(new Set),w=m.useRef(0),T=o==="horizontal"?pK:mK,[C=[],A]=_a({prop:h,defaultProp:c,onChange:D=>{var N;(N=[..._.current][w.current])==null||N.focus(),f(D)}}),O=m.useRef(C);function I(D){const j=wK(C,D);k(D,j)}function S(D){k(D,w.current)}function P(){const D=O.current[w.current];C[w.current]!==D&&p(C)}function k(D,j,{commit:N}={commit:!1}){const L=bK(i),B=SK(Math.round((D-r)/i)*i+r,L),W=ZN(B,[r,s]);A((K=[])=>{const V=vK(K,W,j);if(TK(V,l*i)){w.current=V.indexOf(W);const z=String(V)!==String(K);return z&&N&&p(V),z?V:K}else return K})}return d.jsx(fK,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:w,thumbs:_.current,values:C,orientation:o,form:E,children:d.jsx(py.Provider,{scope:t.__scopeSlider,children:d.jsx(py.Slot,{scope:t.__scopeSlider,children:d.jsx(T,{"aria-disabled":a,"data-disabled":a?"":void 0,...v,ref:e,onPointerDown:_e(v.onPointerDown,()=>{a||(O.current=C)}),min:r,max:s,inverted:g,onSlideStart:a?void 0:I,onSlideMove:a?void 0:S,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(s,C.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:j})=>{if(!a){const B=n2.includes(D.key)||D.shiftKey&&r2.includes(D.key)?10:1,W=w.current,K=C[W],V=i*B*j;k(K+V,W,{commit:!0})}}})})})})});o2.displayName=Sa;var[a2,l2]=i2(Sa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),pK=m.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...h}=t,[f,p]=m.useState(null),g=ot(e,T=>p(T)),E=m.useRef(void 0),v=vx(s),_=v==="ltr",w=_&&!i||!_&&i;function x(T){const C=E.current||f.getBoundingClientRect(),A=[0,C.width],I=_x(A,w?[n,r]:[r,n]);return E.current=C,I(T-C.left)}return d.jsx(a2,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:d.jsx(c2,{dir:v,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const C=x(T.clientX);o==null||o(C)},onSlideMove:T=>{const C=x(T.clientX);a==null||a(C)},onSlideEnd:()=>{E.current=void 0,l==null||l()},onStepKeyDown:T=>{const A=s2[w?"from-left":"from-right"].includes(T.key);c==null||c({event:T,direction:A?-1:1})}})})}),mK=m.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,h=m.useRef(null),f=ot(e,h),p=m.useRef(void 0),g=!s;function E(v){const _=p.current||h.current.getBoundingClientRect(),w=[0,_.height],T=_x(w,g?[r,n]:[n,r]);return p.current=_,T(v-_.top)}return d.jsx(a2,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:d.jsx(c2,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const _=E(v.clientY);i==null||i(_)},onSlideMove:v=>{const _=E(v.clientY);o==null||o(_)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:v=>{const w=s2[g?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:w?-1:1})}})})}),c2=m.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,h=Vf(Sa,n);return d.jsx(Pe.span,{...c,ref:e,onKeyDown:_e(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):n2.concat(r2).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:_e(t.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(p)?p.focus():r(f)}),onPointerMove:_e(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:_e(t.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),i(f))})})}),u2="SliderTrack",d2=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Vf(u2,n);return d.jsx(Pe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});d2.displayName=u2;var my="SliderRange",h2=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Vf(my,n),i=l2(my,n),o=m.useRef(null),a=ot(e,o),l=s.values.length,c=s.values.map(p=>m2(p,s.min,s.max)),h=l>1?Math.min(...c):0,f=100-Math.max(...c);return d.jsx(Pe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:h+"%",[i.endEdge]:f+"%"}})});h2.displayName=my;var gy="SliderThumb",f2=m.forwardRef((t,e)=>{const n=dK(t.__scopeSlider),[r,s]=m.useState(null),i=ot(e,a=>s(a)),o=m.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(gK,{...t,ref:i,index:o})}),gK=m.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Vf(gy,n),a=l2(gy,n),[l,c]=m.useState(null),h=ot(e,x=>c(x)),f=l?o.form||!!l.closest("form"):!0,p=t2(l),g=o.values[r],E=g===void 0?0:m2(g,o.min,o.max),v=xK(r,o.values.length),_=p==null?void 0:p[a.size],w=_?_K(_,E,a.direction):0;return m.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${E}% + ${w}px)`},children:[d.jsx(py.ItemSlot,{scope:t.__scopeSlider,children:d.jsx(Pe.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:g===void 0?{display:"none"}:t.style,onFocus:_e(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&d.jsx(p2,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});f2.displayName=gy;var yK="RadioBubbleInput",p2=m.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=m.useRef(null),i=ot(s,r),o=e2(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("input",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),d.jsx(Pe.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});p2.displayName=yK;function vK(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function m2(t,e,n){const i=100/(n-e)*(t-e);return ZN(i,[0,100])}function xK(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function wK(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function _K(t,e,n){const r=t/2,i=_x([0,50],[0,r]);return(r-i(e)*n)*n}function EK(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function TK(t,e){if(e>0){const n=EK(t);return Math.min(...n)>=e}return!0}function _x(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function bK(t){return(String(t).split(".")[1]||"").length}function SK(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var g2=o2,CK=d2,IK=h2,PK=f2;const y2=Z.forwardRef(({className:t,...e},n)=>d.jsxs(g2,{ref:n,className:he("relative flex w-full touch-none select-none items-center",t),...e,children:[d.jsx(CK,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(IK,{className:"absolute h-full bg-primary"})}),(Array.isArray(e.value)?e.value:[e.defaultValue||0]).map((r,s)=>d.jsx(PK,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},s))]}));y2.displayName=g2.displayName;var Lf="Checkbox",[RK,uQ]=eo(Lf),[AK,Ex]=RK(Lf);function kK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:c,value:h="on",internal_do_not_use_render:f}=t,[p,g]=_a({prop:n,defaultProp:s??!1,onChange:l,caller:Lf}),[E,v]=m.useState(null),[_,w]=m.useState(null),x=m.useRef(!1),T=E?!!o||!!E.closest("form"):!0,C={checked:p,disabled:i,setChecked:g,control:E,setControl:v,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:x,required:c,defaultChecked:Fs(s)?!1:s,isFormControl:T,bubbleInput:_,setBubbleInput:w};return d.jsx(AK,{scope:e,...C,children:NK(f)?f(C):r})}var v2="CheckboxTrigger",x2=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:c,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:E}=Ex(v2,t),v=ot(s,h),_=m.useRef(l);return m.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>f(_.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,f]),d.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":Fs(l)?"mixed":l,"aria-required":c,"data-state":b2(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:v,onKeyDown:_e(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:_e(n,w=>{f(x=>Fs(x)?!0:!x),E&&g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});x2.displayName=v2;var Tx=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:c,form:h,...f}=t;return d.jsx(kK,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:c,name:r,form:h,value:l,internal_do_not_use_render:({isFormControl:p})=>d.jsxs(d.Fragment,{children:[d.jsx(x2,{...f,ref:e,__scopeCheckbox:n}),p&&d.jsx(T2,{__scopeCheckbox:n})]})})});Tx.displayName=Lf;var w2="CheckboxIndicator",_2=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Ex(w2,n);return d.jsx(to,{present:r||Fs(i.checked)||i.checked===!0,children:d.jsx(Pe.span,{"data-state":b2(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});_2.displayName=w2;var E2="CheckboxBubbleInput",T2=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:c,value:h,form:f,bubbleInput:p,setBubbleInput:g}=Ex(E2,t),E=ot(n,g),v=e2(i),_=t2(r);m.useEffect(()=>{const x=p;if(!x)return;const T=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(T,"checked").set,O=!s.current;if(v!==i&&A){const I=new Event("click",{bubbles:O});x.indeterminate=Fs(i),A.call(x,Fs(i)?!1:i),x.dispatchEvent(I)}},[p,v,i,s]);const w=m.useRef(Fs(i)?!1:i);return d.jsx(Pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:c,value:h,form:f,...e,tabIndex:-1,ref:E,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T2.displayName=E2;function NK(t){return typeof t=="function"}function Fs(t){return t==="indeterminate"}function b2(t){return Fs(t)?"indeterminate":t?"checked":"unchecked"}const S2=Z.forwardRef(({className:t,...e},n)=>d.jsx(Tx,{ref:n,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(_2,{className:he("flex items-center justify-center text-current"),children:d.jsx(jC,{className:"h-4 w-4"})})}));S2.displayName=Tx.displayName;const DK=({product:t})=>{const{toast:e}=bn(),{addItemToCart:n}=wx(),r=()=>{if(t.stock<=0){e({title:"نفذ المخزون",description:`عفواً، منتج "${t.name}" غير متوفر حالياً.`,variant:"destructive"});return}n(t)};return d.jsx(se.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"w-full",children:d.jsxs(Ge,{className:`overflow-hidden h-full flex flex-col glassmorphism-card hover:shadow-2xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 ${t.stock<=0?"opacity-70 bg-muted/30":""}`,children:[d.jsxs(vt,{className:"p-0 relative",children:[d.jsx(et,{to:`/products/${t.id}`,className:t.stock<=0?"pointer-events-none":"",children:d.jsx("img",{alt:t.name||"صورة منتج",className:"w-full h-56 object-cover transition-transform duration-300 hover:scale-105",src:t.image||"https://images.unsplash.com/photo-1671376354106-d8d21e55dddd"})}),t.originalPrice&&t.stock>0&&d.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-md",children:"خصم!"}),t.stock<=0&&d.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-destructive/80 text-destructive-foreground text-sm font-bold px-3 py-1.5 rounded-md shadow-md flex items-center",children:[d.jsx(vv,{className:"ml-2 h-4 w-4"})," نفذ المخزون"]})]}),d.jsxs(st,{className:"p-4 flex-grow",children:[d.jsx(et,{to:`/products/${t.id}`,className:t.stock<=0?"pointer-events-none":"",children:d.jsx(xt,{className:"text-lg font-semibold text-primary hover:text-primary/80 transition-colors mb-1 truncate",children:t.name})}),d.jsx(cr,{className:"text-sm text-muted-foreground mb-2 h-10 overflow-hidden",children:t.description?t.description.substring(0,60)+(t.description.length>60?"...":""):"لا يوجد وصف متاح."}),d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(zV,{className:"h-5 w-5 text-yellow-400 mr-1"}),d.jsxs("span",{className:"text-sm font-medium text-foreground",children:[t.rating||0," (",t.reviews||0," مراجعة)"]})]}),d.jsx("span",{className:"text-xs bg-secondary/20 text-secondary px-2 py-1 rounded-full",children:t.category||"غير مصنف"})]}),d.jsxs("div",{className:"flex items-baseline space-x-2 space-x-reverse",children:[d.jsx("p",{className:"text-2xl font-bold text-primary",children:(t.price||0).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})}),t.originalPrice&&d.jsx("p",{className:"text-sm text-muted-foreground line-through",children:t.originalPrice.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["المخزون المتاح: ",t.stock||0]})]}),d.jsx(si,{className:"p-4 border-t border-border/50",children:d.jsxs(de,{onClick:r,className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity",disabled:t.stock<=0,children:[d.jsx(Yd,{className:"ml-2 h-5 w-5"})," ",t.stock<=0?"غير متوفر":"أضف إلى السلة"]})})]})})},vm=[{id:"prod_1",name:"فلتر مياه 7 مراحل متطور",category:"فلاتر منزلية",price:2850,originalPrice:3200,description:"فلتر مياه منزلي بـ 7 مراحل تنقية يوفر مياه شرب نقية وصحية لجميع أفراد الأسرة. سهل التركيب والصيانة.",image:"https://images.unsplash.com/photo-1587017098860-21f88e2912f3",stock:15,rating:4.8,reviews:120},{id:"prod_2",name:"محطة تحلية مياه صغيرة",category:"محطات تحلية",price:15500,description:"محطة تحلية مياه مدمجة مثالية للمنازل والشركات الصغيرة، تضمن الحصول على مياه عذبة بجودة عالية.",image:"https://images.unsplash.com/photo-1605000000000-000000000002",stock:5,rating:4.9,reviews:45},{id:"prod_3",name:"فلتر دش استحمام منقي",category:"فلاتر استحمام",price:350,description:"فلتر دش يزيل الكلور والشوائب من مياه الاستحمام، يحافظ على صحة البشرة والشعر.",image:"https://images.unsplash.com/photo-1605000000000-000000000003",stock:30,rating:4.5,reviews:210},{id:"prod_4",name:"نظام معالجة مياه صناعي",category:"أنظمة صناعية",price:45e3,originalPrice:5e4,description:"نظام متكامل لمعالجة المياه للاستخدامات الصناعية، يتميز بالكفاءة العالية والقدرة الإنتاجية الكبيرة.",image:"https://images.unsplash.com/photo-1605000000000-000000000004",stock:3,rating:5,reviews:15},{id:"prod_5",name:"شمعات فلتر بديلة (طقم 3)",category:"قطع غيار",price:250,description:"طقم شمعات فلتر بديلة عالية الجودة، متوافقة مع معظم فلاتر المياه المنزلية ذات الـ 3 مراحل.",image:"https://images.unsplash.com/photo-1605000000000-000000000005",stock:50,rating:4.7,reviews:88},{id:"prod_6",name:"قارورة مياه ذكية مع فلتر",category:"فلاتر محمولة",price:480,description:"قارورة مياه مبتكرة مع فلتر مدمج، مثالية للتنقل والرياضة، تضمن مياه نقية في أي مكان.",image:"https://images.unsplash.com/photo-1605000000000-000000000006",stock:0,rating:4.3,reviews:65},{id:"prod_7",name:"فلتر مياه مركزي للمنزل",category:"فلاتر مركزية",price:7500,description:"فلتر مياه مركزي يتم تركيبه عند مدخل المياه الرئيسي للمنزل لتنقية جميع المياه المستخدمة.",image:"https://images.unsplash.com/photo-1605000000000-000000000007",stock:8,rating:4.9,reviews:32},{id:"prod_8",name:"جهاز تعقيم مياه بالأشعة فوق البنفسجية",category:"أجهزة تعقيم",price:1200,originalPrice:1350,description:"جهاز تعقيم مياه فعال يستخدم تقنية الأشعة فوق البنفسجية للقضاء على البكتيريا والفيروسات.",image:"https://images.unsplash.com/photo-1605000000000-000000000008",stock:12,rating:4.6,reviews:50}],jK=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(""),[o,a]=m.useState([0,5e4]),[l,c]=m.useState([]),[h,f]=m.useState(!0),[p,g]=m.useState(null),E=Z.useMemo(()=>{if(t.length===0)return[];const _=new Set(t.map(w=>w.category).filter(Boolean));return Array.from(_)},[t]);m.useEffect(()=>{f(!0),g(null),setTimeout(()=>{vm&&vm.length>0?(e(vm),g(null)):(e([]),g("لا توجد منتجات متاحة حالياً. يرجى المحاولة مرة أخرى لاحقاً.")),f(!1)},500)},[]),m.useEffect(()=>{let _=[...t];s&&(_=_.filter(w=>w.name.toLowerCase().includes(s.toLowerCase())||w.description&&w.description.toLowerCase().includes(s.toLowerCase()))),_=_.filter(w=>w.price>=o[0]&&w.price<=o[1]),l.length>0&&(_=_.filter(w=>l.includes(w.category))),r(_)},[s,o,l,t]);const v=_=>{c(w=>w.includes(_)?w.filter(x=>x!==_):[...w,_])};return h?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:[d.jsx(Dn,{className:"h-16 w-16 animate-spin text-primary mb-4"}),d.jsx("p",{className:"text-xl text-foreground",children:"جاري تحميل المنتجات..."})]}):d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs(se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12 text-center",children:[d.jsx("h1",{className:"text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"منتجاتنا"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"اكتشف مجموعتنا الواسعة من حلول معالجة المياه وأنظمة الشرب الصحية المصممة لتلبية احتياجاتك."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs(se.aside,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"md:col-span-1 space-y-8 p-6 bg-card/50 rounded-xl shadow-lg glassmorphism-card h-fit sticky top-24",children:[d.jsxs("div",{children:[d.jsxs(pe,{htmlFor:"search",className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[d.jsx(FC,{className:"ml-2 h-5 w-5"})," ابحث عن منتج"]}),d.jsx(ye,{id:"search",type:"text",placeholder:"اسم المنتج، وصف...",value:s,onChange:_=>i(_.target.value),className:"bg-background/70 border-primary/30 focus:border-primary"})]}),d.jsxs("div",{children:[d.jsxs(pe,{className:"text-lg font-semibold text-primary mb-4 flex items-center",children:[d.jsx(SV,{className:"ml-2 h-5 w-5"})," تصفية حسب السعر (ج.م)"]}),d.jsx(y2,{min:0,max:5e4,step:100,value:o,onValueChange:a,className:"[&>span:first-child]:h-1 [&>span:first-child]:bg-primary/30 [&_[role=slider]]:bg-primary [&_[role=slider]]:w-5 [&_[role=slider]]:h-5 [&_[role=slider]]:border-2 [&_[role=slider]]:border-primary-foreground"}),d.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[d.jsx("span",{children:o[0].toLocaleString("ar-EG")}),d.jsx("span",{children:o[1].toLocaleString("ar-EG")})]})]}),E.length>0&&d.jsxs("div",{children:[d.jsxs(pe,{className:"text-lg font-semibold text-primary mb-3 flex items-center",children:[d.jsx(WV,{className:"ml-2 h-5 w-5"})," الفئات"]}),d.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:E.map(_=>d.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[d.jsx(S2,{id:_,checked:l.includes(_),onCheckedChange:()=>v(_),className:"border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground"}),d.jsx(pe,{htmlFor:_,className:"font-normal text-foreground hover:text-primary cursor-pointer transition-colors",children:_})]},_))})]})]}),d.jsxs("main",{className:"md:col-span-3",children:[p&&d.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-10 col-span-full bg-red-50 border border-red-200 rounded-lg p-6 flex flex-col items-center justify-center",children:[d.jsx(yv,{className:"w-12 h-12 mx-auto mb-4 text-red-500"}),d.jsx("p",{className:"text-xl text-red-700 font-semibold",children:p}),d.jsx("p",{className:"text-sm text-red-600 mt-2",children:"إذا استمرت المشكلة، يرجى الاتصال بالدعم الفني."})]}),!h&&!p&&n.length===0&&d.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-10 col-span-full flex flex-col items-center justify-center",children:[d.jsx(CV,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground opacity-50"}),d.jsx("p",{className:"text-2xl text-muted-foreground mb-2",children:t.length>0?"عفواً، لا توجد منتجات تطابق بحثك.":"لم يتم إضافة منتجات بعد."}),t.length>0&&d.jsx("p",{className:"text-md text-muted-foreground",children:"حاول تعديل الفلاتر أو توسيع نطاق البحث."})]}),!p&&n.length>0&&d.jsx(se.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.jsx(W0,{children:n.map(_=>d.jsx(DK,{product:_},_.id))})})]})]})]})},OK=()=>{const t=[{name:"المهندس/ أحمد خالد",role:"المدير التنفيذي ومؤسس الشركة",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8Y2VvfGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",description:"خبير في تقنيات معالجة المياه بخبرة تمتد لأكثر من 15 عامًا."},{name:"الدكتورة/ سارة علي",role:"رئيس قسم البحث والتطوير",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8ZmVtYWxlJTIwc2NpZW50aXN0fGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",description:"متخصصة في تطوير حلول مبتكرة لمعالجة المياه وتحليتها."},{name:"الأستاذ/ محمد حسن",role:"مدير التسويق والمبيعات",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8bWFuYWdlcnxlbnwwfHwwfHx8MA&auto=format&fit=crop&w=300&q=60",description:"يعمل على توسيع قاعدة عملاء الشركة وتقديم أفضل الخدمات."}],e=[{icon:d.jsx(tc,{className:"h-10 w-10 text-primary"}),title:"جودة لا تضاهى",description:"نلتزم بتقديم أعلى معايير الجودة في منتجاتنا وخدماتنا لضمان مياه نقية وصحية."},{icon:d.jsx(xv,{className:"h-10 w-10 text-primary"}),title:"موثوقية وأمان",description:"حلولنا مصممة لتكون موثوقة وآمنة، مما يوفر راحة البال لعملائنا الكرام."},{icon:d.jsx(WC,{className:"h-10 w-10 text-primary"}),title:"ابتكار مستمر",description:"نسعى دائمًا للابتكار وتطوير تقنيات جديدة لتلبية الاحتياجات المتغيرة لسوق معالجة المياه."}];return d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsxs(se.section,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-center mb-16",children:[d.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"عن شركة رايت واتر"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"في رايت واتر، نؤمن بأن الحصول على مياه شرب نظيفة وآمنة هو حق أساسي للجميع. مهمتنا هي توفير حلول مبتكرة وموثوقة لمعالجة المياه، تساهم في تحسين جودة الحياة وحماية البيئة."})]}),d.jsxs(se.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mb-16 grid md:grid-cols-2 gap-12 items-center",children:[d.jsx("div",{children:d.jsx("img",{src:"https://images.unsplash.com/photo-1567427018141-0584cfcbf1b8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHdhdGVyJTIwdHJlYXRtZW50JTIwcGxhbnR8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=600&q=80",alt:"محطة معالجة مياه حديثة تابعة لشركة رايت واتر",className:"rounded-xl shadow-2xl w-full h-auto object-cover"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h2",{className:"text-4xl font-bold text-primary flex items-center",children:[d.jsx(HV,{className:"mr-3 h-10 w-10"})," رؤيتنا ورسالتنا"]}),d.jsxs("p",{className:"text-lg text-foreground leading-relaxed",children:[d.jsx("strong",{children:"رؤيتنا:"})," أن نكون الشركة الرائدة في مجال حلول معالجة المياه في مصر والشرق الأوسط، من خلال تقديم منتجات وخدمات مبتكرة تلبي أعلى معايير الجودة العالمية."]}),d.jsxs("p",{className:"text-lg text-foreground leading-relaxed",children:[d.jsx("strong",{children:"رسالتنا:"})," تمكين المجتمعات والأفراد من الوصول إلى مياه نقية وصحية عبر توفير تقنيات معالجة متطورة، مع الالتزام بالاستدامة البيئية والمسؤولية المجتمعية."]})]})]}),d.jsxs(se.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"mb-16",children:[d.jsxs("h2",{className:"text-4xl font-bold text-primary text-center mb-12 flex items-center justify-center",children:[d.jsx(_v,{className:"mr-3 h-10 w-10"})," فريقنا المتميز"]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,r)=>d.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2*r+.6},children:d.jsxs(Ge,{className:"text-center glassmorphism-card h-full hover:shadow-xl transition-shadow",children:[d.jsxs(vt,{className:"items-center",children:[d.jsx("img",{src:n.image,alt:n.name,className:"w-32 h-32 rounded-full object-cover mb-4 border-4 border-primary/50"}),d.jsx(xt,{className:"text-xl text-primary",children:n.name}),d.jsx("p",{className:"text-sm text-secondary font-medium",children:n.role})]}),d.jsx(st,{children:d.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})})]})},r))})]}),d.jsxs(se.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.9},children:[d.jsx("h2",{className:"text-4xl font-bold text-primary text-center mb-12",children:"قيمنا الأساسية"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((n,r)=>d.jsx(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2*r+.9},children:d.jsxs(Ge,{className:"text-center p-6 glassmorphism-card h-full hover:shadow-xl transition-shadow",children:[d.jsx("div",{className:"flex justify-center mb-4",children:n.icon}),d.jsx("h3",{className:"text-2xl font-semibold text-primary mb-2",children:n.title}),d.jsx("p",{className:"text-muted-foreground",children:n.description})]})},r))})]}),d.jsxs(se.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.2},className:"mt-16 text-center",children:[d.jsx("p",{className:"text-lg text-foreground",children:"نحن في رايت واتر، لا نقدم مجرد منتجات، بل نقدم حلولاً شاملة تضمن لكم ولأحبائكم مياهاً أكثر نقاءً وصحة."}),d.jsx("img",{alt:"مجموعة متنوعة من فلاتر المياه وأنظمة التحلية من رايت واتر",class:"w-full max-w-4xl mx-auto mt-8 rounded-lg shadow-lg",src:"https://images.unsplash.com/photo-1623990088169-3eafccdec2c0"})]})]})},MK=()=>{const{toast:t}=bn(),[e,n]=m.useState({name:"",email:"",subject:"",message:""}),[r,s]=m.useState(!1),i=l=>{const{name:c,value:h}=l.target;n(f=>({...f,[c]:h}))},o=async l=>{l.preventDefault(),s(!0),await new Promise(c=>setTimeout(c,1500)),console.log("Form submitted:",e),t({title:"📬 تم إرسال رسالتك بنجاح!",description:"شكراً لتواصلك معنا. سنقوم بالرد عليك في أقرب وقت ممكن.",className:"bg-green-500 text-white"}),n({name:"",email:"",subject:"",message:""}),s(!1)},a=[{icon:d.jsx(pV,{className:"h-8 w-8 text-primary"}),title:"المقر الرئيسي",details:["123 شارع النيل، الجيزة، مصر"]},{icon:d.jsx($V,{className:"h-8 w-8 text-primary"}),title:"الهاتف",details:["0123-456-7890","02-2345-6789"]},{icon:d.jsx(ma,{className:"h-8 w-8 text-primary"}),title:"البريد الإلكتروني",details:["info@rightwater.com.eg","sales@rightwater.com.eg"]},{icon:d.jsx(xV,{className:"h-8 w-8 text-primary"}),title:"ساعات العمل",details:["الأحد - الخميس: 9 صباحًا - 5 مساءً","الجمعة والسبت: مغلق"]}];return d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsxs(se.section,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-center mb-16",children:[d.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"تواصل معنا"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"نحن هنا لمساعدتك! سواء كان لديك استفسار عن منتجاتنا، أو تحتاج إلى دعم فني، أو ترغب في مناقشة حلول مخصصة، فريقنا جاهز لخدمتك."})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[d.jsxs(se.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.7,delay:.2},className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-primary mb-6",children:"معلومات الاتصال"}),a.map((l,c)=>d.jsx(Ge,{className:"glassmorphism-card overflow-hidden",children:d.jsxs(st,{className:"p-6 flex items-start space-x-4 space-x-reverse",children:[d.jsx("div",{className:"flex-shrink-0 mt-1",children:l.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-foreground mb-1",children:l.title}),l.details.map((h,f)=>d.jsx("p",{className:"text-muted-foreground",children:h},f))]})]})},c))]}),d.jsx(se.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.7,delay:.4},children:d.jsxs(Ge,{className:"glassmorphism-card p-6 md:p-8 shadow-xl",children:[d.jsx(vt,{className:"p-0 mb-6",children:d.jsx(xt,{className:"text-3xl font-bold text-primary text-center",children:"أرسل لنا رسالة"})}),d.jsx(st,{className:"p-0",children:d.jsxs("form",{onSubmit:o,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"name",className:"text-foreground font-medium",children:"الاسم الكامل"}),d.jsx(ye,{type:"text",name:"name",id:"name",value:e.name,onChange:i,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"مثال: محمد أحمد"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"email",className:"text-foreground font-medium",children:"البريد الإلكتروني"}),d.jsx(ye,{type:"email",name:"email",id:"email",value:e.email,onChange:i,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"example@domain.com"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"subject",className:"text-foreground font-medium",children:"الموضوع"}),d.jsx(ye,{type:"text",name:"subject",id:"subject",value:e.subject,onChange:i,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"استفسار عن منتج..."})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"message",className:"text-foreground font-medium",children:"رسالتك"}),d.jsx(nx,{name:"message",id:"message",rows:"5",value:e.message,onChange:i,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"اكتب رسالتك هنا..."})]}),d.jsx(de,{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity text-lg py-3",children:r?d.jsxs(d.Fragment,{children:[d.jsx(se.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"ml-2 h-5 w-5 border-2 border-transparent border-t-white rounded-full"}),"جاري الإرسال..."]}):d.jsxs(d.Fragment,{children:[d.jsx($C,{className:"ml-2 h-5 w-5"})," إرسال الرسالة"]})})]})})]})})]}),d.jsxs(se.section,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},className:"mt-16",children:[d.jsx("h2",{className:"text-3xl font-bold text-primary text-center mb-8",children:"موقعنا على الخريطة"}),d.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-xl overflow-hidden shadow-2xl border-4 border-primary/30",children:d.jsx("iframe",{src:"https://www.openstreetmap.org/export/embed.html?bbox=31.198167800903324%2C30.03986893231807%2C31.20899200439453%2C30.04569608970079&layer=mapnik&marker=30.04278251960827%2C31.203579902648926",width:"100%",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"موقع شركة رايت واتر"})}),d.jsx("div",{className:"text-center mt-4",children:d.jsx("a",{href:"https://www.openstreetmap.org/?mlat=30.04278&mlon=31.20358#map=17/30.04278/31.20358",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"عرض خريطة أكبر"})})]})]})},VK=()=>{const{cartItems:t,updateItemQuantity:e,removeItemFromCart:n,cartTotal:r}=wx(),{toast:s}=bn(),i=ti(),o=r>0?50:0,a=r+o,l=async()=>{if(t.length===0){s({title:"سلة التسوق فارغة",description:"الرجاء إضافة منتجات إلى السلة قبل المتابعة للدفع.",variant:"destructive"});return}const c=t.filter(h=>h.quantity>h.stock);if(c.length>0){s({title:"كمية غير متوفرة",description:`يرجى تعديل الكميات لـ: ${c.map(h=>h.name).join(", ")}. المخزون المتاح أقل من المطلوب.`,variant:"destructive"});return}i("/checkout",{state:{cartItems:t,total:a}})};return d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsxs(se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10 text-center",children:[d.jsxs("h1",{className:"text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:[d.jsx(Yd,{className:"inline-block h-12 w-12 mr-3"})," سلة التسوق"]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"راجع طلبك وقم بإجراء التعديلات اللازمة قبل المتابعة إلى الدفع."})]}),t.length===0?d.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"text-center py-16",children:[d.jsx("img",{alt:"سلة تسوق فارغة بشكل كرتوني",className:"mx-auto w-64 h-64 mb-6 opacity-70",src:"https://images.unsplash.com/photo-1641833278434-50f92b93d65a"}),d.jsx("h2",{className:"text-3xl font-semibold text-foreground mb-4",children:"سلة التسوق فارغة!"}),d.jsx("p",{className:"text-muted-foreground mb-8",children:"لم تقم بإضافة أي منتجات إلى سلتك بعد. تصفح منتجاتنا الرائعة!"}),d.jsx(et,{to:"/products",children:d.jsxs(de,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity",children:[d.jsx(Yd,{className:"ml-2 h-5 w-5"})," تصفح المنتجات"]})})]}):d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[d.jsx(se.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"lg:col-span-2 space-y-6",children:d.jsx(W0,{children:t.map(c=>d.jsx(se.div,{layout:!0,initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50,transition:{duration:.3}},transition:{type:"spring",stiffness:300,damping:30},children:d.jsxs(Ge,{className:"flex flex-col sm:flex-row items-center p-4 glassmorphism-card overflow-hidden",children:[d.jsx("img",{src:c.image||"https://images.unsplash.com/photo-1600857080039-639f0a2c6f93?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHByb2R1Y3QlMjBwbGFjZWhvbGRlcnxlbnwwfHwwfHx8MA&auto=format&fit=crop&w=100&q=60",alt:c.name,className:"w-24 h-24 object-cover rounded-md mb-4 sm:mb-0 sm:mr-4 sm:ml-4"}),d.jsxs("div",{className:"flex-grow text-center sm:text-right",children:[d.jsx(et,{to:`/products/${c.id}`,children:d.jsx("h3",{className:"text-lg font-semibold text-primary hover:underline",children:c.name})}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["السعر: ",(c.price||0).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})]}),c.stock<=0&&d.jsxs("p",{className:"text-xs text-red-500 flex items-center justify-center sm:justify-start",children:[d.jsx(vv,{className:"ml-1 h-3 w-3"})," نفذ المخزون"]}),c.stock>0&&c.quantity>c.stock&&d.jsxs("p",{className:"text-xs text-red-500",children:["الكمية المطلوبة تتجاوز المخزون (",c.stock,")"]})]}),d.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse my-4 sm:my-0 sm:mx-4",children:[d.jsx(de,{variant:"ghost",size:"icon",onClick:()=>e(c.id,c.quantity-1),disabled:c.quantity<=1,children:d.jsx(jV,{className:"h-5 w-5 text-primary"})}),d.jsx(ye,{type:"number",value:c.quantity,onChange:h=>{const f=parseInt(h.target.value);isNaN(f)||e(c.id,f)},min:"1",max:c.stock,className:"w-16 text-center bg-background/70 border-primary/30",disabled:c.stock<=0}),d.jsx(de,{variant:"ghost",size:"icon",onClick:()=>e(c.id,c.quantity+1),disabled:c.quantity>=c.stock||c.stock<=0,children:d.jsx(LC,{className:"h-5 w-5 text-primary"})})]}),d.jsxs("p",{className:"font-semibold text-lg text-foreground my-2 sm:my-0 sm:mr-4 sm:ml-4",children:["الإجمالي: ",((c.price||0)*c.quantity).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})]}),d.jsx(de,{variant:"ghost",size:"icon",onClick:()=>n(c.id),className:"text-red-500 hover:text-red-700",children:d.jsx(UC,{className:"h-5 w-5"})})]})},c.id))})}),d.jsx(se.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"lg:col-span-1",children:d.jsxs(Ge,{className:"p-6 glassmorphism-card shadow-xl sticky top-24",children:[d.jsx(vt,{className:"p-0 mb-6",children:d.jsx(xt,{className:"text-2xl font-bold text-primary text-center",children:"ملخص الطلب"})}),d.jsxs(st,{className:"space-y-4 p-0",children:[d.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[d.jsx("span",{children:"المجموع الفرعي"}),d.jsx("span",{children:r.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]}),d.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[d.jsx("span",{children:"تكلفة الشحن"}),d.jsx("span",{children:o.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]}),d.jsx("hr",{className:"my-2 border-border/50"}),d.jsxs("div",{className:"flex justify-between text-xl font-bold text-foreground",children:[d.jsx("span",{children:"الإجمالي الكلي"}),d.jsx("span",{children:a.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]})]}),d.jsxs(si,{className:"p-0 mt-8 flex flex-col space-y-3",children:[d.jsxs(de,{onClick:l,size:"lg",className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity text-lg py-3",disabled:t.some(c=>c.quantity>c.stock||c.stock<=0),children:[d.jsx(wV,{className:"ml-2 h-5 w-5"})," المتابعة إلى الدفع"]}),t.some(c=>c.quantity>c.stock||c.stock<=0)&&d.jsx("p",{className:"text-xs text-red-500 text-center",children:"يرجى تعديل الكميات للمنتجات غير المتوفرة أو التي تجاوزت المخزون."}),d.jsx(et,{to:"/products",className:"w-full",children:d.jsxs(de,{variant:"outline",size:"lg",className:"w-full text-primary border-primary hover:bg-primary/10",children:[d.jsx(fV,{className:"ml-2 h-5 w-5"})," متابعة التسوق"]})})]})]})})]})]})},LK=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(!1),[s,i]=m.useState(""),{sendPasswordReset:o}=yf(),{toast:a}=bn(),l=ti(),c=async h=>{if(h.preventDefault(),r(!0),i(""),!o){a({title:"خطأ في الإعداد",description:"وظيفة استعادة كلمة المرور غير متاحة حالياً.",variant:"destructive"}),r(!1);return}try{await o(t),i("تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني. يرجى التحقق من صندوق الوارد الخاص بك (والبريد العشوائي)."),a({title:"✅ تم الإرسال بنجاح",description:"تفقد بريدك الإلكتروني لإعادة تعيين كلمة المرور.",className:"bg-green-500 text-white"}),setTimeout(()=>l("/login"),3e3)}catch(f){console.error("Forgot Password Error:",f);let p="حدث خطأ أثناء محاولة إرسال بريد إعادة التعيين.";f.code==="auth/user-not-found"?p="لم يتم العثور على حساب مرتبط بهذا البريد الإلكتروني.":f.code==="auth/invalid-email"&&(p="البريد الإلكتروني الذي أدخلته غير صالح."),i(p),a({title:"❌ خطأ في الإرسال",description:p,variant:"destructive"})}finally{r(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/10 p-4",children:d.jsx(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"w-full max-w-md",children:d.jsxs(Ge,{className:"shadow-2xl glassmorphism-card overflow-hidden",children:[d.jsxs(vt,{className:"text-center p-8 bg-primary/10",children:[d.jsx(nc,{className:"mx-auto h-16 w-16 text-primary mb-4"}),d.jsx(xt,{className:"text-3xl font-bold text-primary",children:"نسيت كلمة المرور؟"}),d.jsx(cr,{className:"text-muted-foreground pt-2",children:"لا تقلق! أدخل بريدك الإلكتروني المسجل وسنرسل لك رابطًا لإعادة تعيين كلمة المرور."})]}),d.jsx(st,{className:"p-8 space-y-6",children:d.jsxs("form",{onSubmit:c,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs(pe,{htmlFor:"email",className:"text-foreground font-medium flex items-center",children:[d.jsx(ma,{className:"ml-2 h-4 w-4 text-primary"}),"البريد الإلكتروني"]}),d.jsx(ye,{id:"email",type:"email",value:t,onChange:h=>e(h.target.value),placeholder:"example@domain.com",required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary text-lg p-3"})]}),s&&d.jsx("p",{className:`text-sm p-3 rounded-md ${s.includes("نجاح")||s.includes("تم إرسال")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s}),d.jsx(de,{type:"submit",className:"w-full text-lg py-3 bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity",disabled:n,children:n?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{className:"ml-2 h-5 w-5 animate-spin"}),"جاري الإرسال..."]}):d.jsxs(d.Fragment,{children:[d.jsx($C,{className:"ml-2 h-5 w-5"}),"إرسال رابط إعادة التعيين"]})})]})}),d.jsxs(si,{className:"p-8 bg-primary/5 text-center flex flex-col items-center",children:[d.jsxs("p",{className:"text-sm text-muted-foreground",children:["تذكرت كلمة المرور؟"," ",d.jsx(et,{to:"/login",className:"font-medium text-primary hover:underline",children:"تسجيل الدخول"})]}),d.jsxs(et,{to:"/",className:"mt-4 text-sm text-primary hover:underline flex items-center",children:["العودة إلى الرئيسية ",d.jsx(vg,{className:"mr-1 h-4 w-4"})]})]})]})})})},FK=()=>{const{currentUser:t,updateUserPassword:e,reauthenticateUser:n}=yf(),{toast:r}=bn(),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[h,f]=m.useState(""),[p,g]=m.useState(""),[E,v]=m.useState(!1),[_,w]=m.useState(!1),[x,T]=m.useState(!1);m.useEffect(()=>{t&&(i(t.displayName||""),a(t.email||""))},[t]);const C=async O=>{if(O.preventDefault(),!!t){w(!0);try{await XP(t,{displayName:s}),r({title:"✅ تم تحديث الاسم",description:"تم تحديث اسمك بنجاح.",className:"bg-green-500 text-white"}),v(!1)}catch(I){r({title:"❌ خطأ في تحديث الاسم",description:I.message,variant:"destructive"})}finally{w(!1)}}},A=async O=>{if(O.preventDefault(),!!t){if(h!==p){r({title:"كلمتا المرور غير متطابقتين",description:"يرجى التأكد من تطابق كلمة المرور الجديدة وتأكيدها.",variant:"destructive"});return}if(!l){r({title:"كلمة المرور الحالية مطلوبة",description:"يرجى إدخال كلمة المرور الحالية للمتابعة.",variant:"destructive"});return}T(!0);try{await n(l),await e(h),r({title:"🔑 تم تغيير كلمة المرور بنجاح",description:"تم تحديث كلمة المرور الخاصة بك.",className:"bg-green-500 text-white"}),c(""),f(""),g("")}catch(I){let S=I.message;I.code==="auth/wrong-password"?S="كلمة المرور الحالية غير صحيحة. يرجى المحاولة مرة أخرى.":I.code==="auth/weak-password"&&(S="كلمة المرور الجديدة ضعيفة جداً. يجب أن تتكون من 6 أحرف على الأقل."),r({title:"❌ خطأ في تغيير كلمة المرور",description:S,variant:"destructive"})}finally{T(!1)}}};return t?d.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto px-4 py-12 max-w-2xl",children:d.jsxs(Ge,{className:"shadow-xl glassmorphism-card overflow-hidden",children:[d.jsxs(vt,{className:"bg-primary/10 p-8 text-center",children:[d.jsx(Xd,{className:"mx-auto h-20 w-20 text-primary mb-4 p-3 bg-primary/20 rounded-full"}),d.jsx(xt,{className:"text-3xl font-bold text-primary",children:"الملف الشخصي"}),d.jsx(cr,{className:"text-muted-foreground",children:"إدارة معلومات حسابك وتفضيلات الأمان."})]}),d.jsxs(st,{className:"p-8 space-y-8",children:[d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold text-foreground flex items-center",children:[d.jsx(Xd,{className:"ml-2 h-5 w-5 text-primary"})," معلومات الحساب"]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"displayName",className:"text-muted-foreground",children:"الاسم المعروض"}),d.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mt-1",children:[d.jsx(ye,{id:"displayName",type:"text",value:s,onChange:O=>i(O.target.value),disabled:!E||_,className:"bg-background/70 border-primary/30 focus:border-primary"}),E?d.jsx(de,{type:"submit",variant:"default",size:"icon",disabled:_,className:"bg-primary hover:bg-primary/90",children:_?d.jsx(Dn,{className:"h-5 w-5 animate-spin"}):d.jsx(UV,{className:"h-5 w-5"})}):d.jsx(de,{type:"button",variant:"outline",size:"icon",onClick:()=>v(!0),className:"border-primary text-primary hover:bg-primary/10",children:d.jsx(VV,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"email",className:"text-muted-foreground",children:"البريد الإلكتروني"}),d.jsxs("div",{className:"relative mt-1",children:[d.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(ye,{id:"email",type:"email",value:o,disabled:!0,className:"pl-10 bg-muted/50 cursor-not-allowed"})]})]})]}),d.jsx("hr",{className:"border-border/50"}),d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("h3",{className:"text-xl font-semibold text-foreground flex items-center",children:[d.jsx(nc,{className:"ml-2 h-5 w-5 text-primary"})," تغيير كلمة المرور"]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"currentPassword",children:"كلمة المرور الحالية"}),d.jsx(ye,{id:"currentPassword",type:"password",value:l,onChange:O=>c(O.target.value),required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"أدخل كلمة المرور الحالية"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"newPassword",children:"كلمة المرور الجديدة"}),d.jsx(ye,{id:"newPassword",type:"password",value:h,onChange:O=>f(O.target.value),required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"6 أحرف على الأقل"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"confirmNewPassword",children:"تأكيد كلمة المرور الجديدة"}),d.jsx(ye,{id:"confirmNewPassword",type:"password",value:p,onChange:O=>g(O.target.value),required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"أعد كتابة كلمة المرور الجديدة"})]}),d.jsx(de,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90",disabled:x,children:x?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{className:"ml-2 h-5 w-5 animate-spin"}),"جاري تحديث كلمة المرور..."]}):"تحديث كلمة المرور"})]})]}),d.jsx(si,{className:"p-6 bg-primary/5 text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:"لأمان حسابك، لا تشارك كلمة المرور الخاصة بك مع أي شخص."})})]})}):d.jsxs("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:[d.jsx(Dn,{className:"h-12 w-12 animate-spin text-primary"}),d.jsx("p",{className:"ml-3 text-lg",children:"جاري تحميل بيانات الملف الشخصي..."})]})},vc={_origin:"https://api.emailjs.com"},$K=(t,e="https://api.emailjs.com")=>{vc._userID=t,vc._origin=e},C2=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class tb{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const I2=(t,e,n={})=>new Promise((r,s)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:o})=>{const a=new tb(o);a.status===200||a.text==="OK"?r(a):s(a)}),i.addEventListener("error",({target:o})=>{s(new tb(o))}),i.open("POST",vc._origin+t,!0),Object.keys(n).forEach(o=>{i.setRequestHeader(o,n[o])}),i.send(e)}),UK=(t,e,n,r)=>{const s=r||vc._userID;return C2(s,t,e),I2("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},BK=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},zK=(t,e,n,r)=>{const s=r||vc._userID,i=BK(n);C2(s,t,e);const o=new FormData(i);return o.append("lib_version","3.12.1"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",s),I2("/api/v1.0/email/send-form",o)},nb={init:$K,send:UK,sendForm:zK},WK=()=>{const t=ti(),e=Hi(),{toast:n}=bn(),{cartItems:r,clearCart:s}=wx(),[i,o]=m.useState([]),[a,l]=m.useState(0),[c,h]=m.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",paymentMethod:"cod"}),[f,p]=m.useState(!1),[g,E]=m.useState(!0);m.useEffect(()=>{E(!0);let C=[],A=0;if(e.state&&e.state.cartItems&&typeof e.state.total=="number")C=e.state.cartItems,A=e.state.total;else if(r&&r.length>0){C=r;const O=r.reduce((S,P)=>S+(P.price||0)*(P.quantity||0),0),I=O>0?50:0;A=O+I}o(C),l(A),E(!1),C.length===0&&!g&&(n({title:"سلة التسوق فارغة",description:"يبدو أن سلتك فارغة. يتم توجيهك لصفحة المنتجات.",variant:"default",duration:4e3}),setTimeout(()=>t("/products"),1500))},[e.state,r,t,n,g]);const v=C=>{const{name:A,value:O}=C.target;h(I=>({...I,[A]:O}))},_=async C=>{if(C.preventDefault(),i.length===0){n({title:"السلة فارغة",description:"لا يمكنك المتابعة والدفع بسلة فارغة. يرجى إضافة منتجات أولاً.",variant:"destructive"}),t("/products");return}p(!0);try{const A={...c,cartItems:i.map(S=>({id:S.id,name:S.name,quantity:S.quantity,price:S.price,image:S.image||null})),totalAmount:a,status:"pending",createdAt:dt.now()},O=await SP(ch(br,"orders"),A),I={to_name:`${c.firstName} ${c.lastName}`,to_email:c.email,from_name:"متجر Right Water",order_id:O.id,order_total:a.toLocaleString("ar-EG",{style:"currency",currency:"EGP"}),order_address:`${c.address}, ${c.city}${c.postalCode?", "+c.postalCode:""}`,order_items:i.map(S=>`${S.name} (x${S.quantity}) - ${(S.price*S.quantity).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})}`).join(`
`),customer_phone:c.phone,payment_method:"الدفع عند الاستلام"};try{await nb.send("service_pllfmfx","template_z9q8e8p",{...I,merchant_email:"merchant@rightwater.com"},"xpSKf6d4h11LzEOLz"),await nb.send("service_pllfmfx","template_client",I,"xpSKf6d4h11LzEOLz")}catch(S){console.warn("EmailJS error: ",S),n({title:"خطأ في إرسال البريد",description:"تم تسجيل طلبك بنجاح، ولكن حدث خطأ أثناء إرسال بريد التأكيد. سنتواصل معك قريباً.",variant:"default",duration:5e3})}n({title:"🎉 تم إرسال طلبك بنجاح!",description:`شكراً لك ${c.firstName}. رقم طلبك هو: ${O.id}`,className:"bg-green-500 text-white",duration:7e3}),s(),t("/order-success",{state:{orderId:O.id,customerName:c.firstName,totalAmount:a}})}catch(A){console.error("Error placing order: ",A),n({title:"حدث خطأ",description:"لم نتمكن من إتمام طلبك. يرجى المحاولة مرة أخرى أو الاتصال بالدعم.",variant:"destructive"})}finally{p(!1)}},w=i.length>0?50:0,x=i.reduce((C,A)=>C+(A.price||0)*(A.quantity||0),0),T=x+w;return g?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:[d.jsx(Dn,{className:"h-12 w-12 animate-spin text-primary mb-4"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"جاري تجهيز صفحة الدفع..."}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"لحظات قليلة ونكون جاهزين!"})]}):i.length===0&&!g?d.jsx("div",{className:"container mx-auto px-4 py-20 text-center",children:d.jsxs(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-card/70 p-8 rounded-xl shadow-xl glassmorphism-card",children:[d.jsx(wv,{className:"mx-auto h-24 w-24 text-primary mb-6"}),d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"سلة التسوق الخاصة بك فارغة"}),d.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أنك لم تختر أي كنوز مائية بعد. ابدأ رحلتك نحو مياه أنقى الآن!"}),d.jsxs(de,{onClick:()=>t("/products"),size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:opacity-90",children:[d.jsx(vg,{className:"mr-2 h-5 w-5"})," اكتشف منتجاتنا"]})]})}):d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsxs(se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[d.jsx("h1",{className:"text-5xl font-extrabold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"إتمام عملية الدفع"}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"يرجى إدخال معلوماتك لإكمال طلبك. خطوة واحدة تفصلك عن مياه نقية!"})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 md:gap-12 items-start",children:[d.jsxs(se.form,{onSubmit:_,initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"lg:col-span-2 space-y-8 p-6 md:p-8 bg-card/80 rounded-xl shadow-2xl glassmorphism-card",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-primary mb-6",children:"1. معلومات الشحن"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"firstName",className:"text-foreground",children:"الاسم الأول"}),d.jsx(ye,{id:"firstName",name:"firstName",value:c.firstName,onChange:v,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"lastName",className:"text-foreground",children:"الاسم الأخير"}),d.jsx(ye,{id:"lastName",name:"lastName",value:c.lastName,onChange:v,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary"})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx(pe,{htmlFor:"email",className:"text-foreground",children:"البريد الإلكتروني"}),d.jsx(ye,{id:"email",name:"email",type:"email",value:c.email,onChange:v,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary"})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx(pe,{htmlFor:"phone",className:"text-foreground",children:"رقم الهاتف"}),d.jsx(ye,{id:"phone",name:"phone",type:"tel",value:c.phone,onChange:v,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary"})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx(pe,{htmlFor:"address",className:"text-foreground",children:"العنوان بالتفصيل"}),d.jsx(ye,{id:"address",name:"address",value:c.address,onChange:v,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary",placeholder:"مثال: شارع النيل، مبنى رقم 5، شقة 10"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"city",className:"text-foreground",children:"المدينة"}),d.jsx(ye,{id:"city",name:"city",value:c.city,onChange:v,required:!0,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary"})]}),d.jsxs("div",{children:[d.jsx(pe,{htmlFor:"postalCode",className:"text-foreground",children:"الرمز البريدي (اختياري)"}),d.jsx(ye,{id:"postalCode",name:"postalCode",value:c.postalCode,onChange:v,className:"mt-1 bg-background/70 border-primary/30 focus:border-primary"})]})]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-primary mb-6",children:"2. طريقة الدفع"}),d.jsxs("div",{className:"p-4 border border-primary/30 rounded-md bg-primary/5",children:[d.jsxs(pe,{htmlFor:"cod",className:"flex items-center cursor-pointer",children:[d.jsx(ye,{type:"radio",id:"cod",name:"paymentMethod",value:"cod",checked:c.paymentMethod==="cod",onChange:v,className:"ml-2 accent-primary"}),d.jsx("span",{className:"text-lg font-medium text-foreground",children:"الدفع عند الاستلام"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2 ml-6",children:"سيتم تحصيل المبلغ نقدًا عند توصيل الطلب. يرجى تجهيز المبلغ المطلوب."})]})]}),d.jsxs(de,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg py-3 mt-8",disabled:f||i.length===0,children:[f?d.jsx(Dn,{className:"ml-2 h-5 w-5 animate-spin"}):d.jsx(kV,{className:"ml-2 h-5 w-5"}),f?"جاري إرسال الطلب...":"تأكيد الطلب والدفع"]})]}),d.jsx(se.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"lg:col-span-1",children:d.jsxs(Ge,{className:"p-6 glassmorphism-card shadow-xl sticky top-24",children:[d.jsx(vt,{className:"p-0 mb-6",children:d.jsx(xt,{className:"text-2xl font-bold text-primary text-center",children:"ملخص طلبك"})}),d.jsx(st,{className:"space-y-3 p-0 max-h-80 overflow-y-auto custom-scrollbar pr-2",children:i.length>0?i.map(C=>d.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border/30 last:border-b-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("img-replace",{alt:C.name||"صورة منتج",className:"w-12 h-12 object-cover rounded-md mr-3 ml-3 shadow-sm",src:C.image||"https://images.unsplash.com/photo-1587017098860-21f88e2912f3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-foreground text-sm",children:C.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["الكمية: ",C.quantity]})]})]}),d.jsx("p",{className:"text-foreground font-medium",children:(C.price*C.quantity).toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]},C.id)):d.jsxs("div",{className:"text-center py-6",children:[d.jsx(PV,{className:"mx-auto h-10 w-10 text-muted-foreground opacity-50 mb-2"}),d.jsx("p",{className:"text-muted-foreground",children:"سلتك فارغة حالياً."}),d.jsxs(de,{variant:"link",onClick:()=>t("/products"),className:"text-primary p-0 h-auto mt-2",children:["ابدأ التسوق ",d.jsx(vg,{className:"mr-1 h-4 w-4"})]})]})}),i.length>0&&d.jsxs(si,{className:"p-0 mt-6 flex flex-col space-y-3 border-t border-border/50 pt-4",children:[d.jsxs("div",{className:"flex justify-between w-full text-muted-foreground",children:[d.jsx("span",{children:"المجموع الفرعي"}),d.jsx("span",{children:x.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]}),d.jsxs("div",{className:"flex justify-between w-full text-muted-foreground",children:[d.jsx("span",{children:"الشحن"}),d.jsx("span",{children:w.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]}),d.jsx("hr",{className:"my-2 w-full border-border/50"}),d.jsxs("div",{className:"flex justify-between w-full text-xl font-bold text-foreground",children:[d.jsx("span",{children:"الإجمالي الكلي"}),d.jsx("span",{children:T.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]})]})]})})]})]})},HK=()=>{const t=Hi();if(!t.state||!t.state.orderId)return d.jsx(fg,{to:"/",replace:!0});const{orderId:e,customerName:n,totalAmount:r}=t.state;return d.jsx("div",{className:"container mx-auto px-4 py-16 md:py-20 flex flex-col items-center justify-center text-center min-h-[calc(100vh-200px)]",children:d.jsxs(se.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring",stiffness:120},className:"p-8 md:p-16 bg-card/80 rounded-xl shadow-2xl glassmorphism-card max-w-2xl w-full",children:[d.jsx(gV,{className:"mx-auto h-20 w-20 md:h-24 md:w-24 text-green-500 mb-8 animate-pulse"}),d.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-emerald-600",children:["شكراً لك، ",n||"عميلنا العزيز","!"]}),d.jsx("p",{className:"text-lg md:text-xl text-foreground mb-4",children:"تم استلام طلبك بنجاح وجاري تجهيزه."}),d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg mb-8 border border-primary/20",children:[d.jsxs("p",{className:"text-md md:text-lg text-muted-foreground",children:["رقم طلبك هو: ",d.jsx("strong",{className:"text-primary font-mono text-lg md:text-xl",children:e})]}),typeof r=="number"&&d.jsxs("p",{className:"text-md md:text-lg text-muted-foreground mt-1",children:["المبلغ الإجمالي: ",d.jsx("strong",{className:"text-primary font-semibold",children:r.toLocaleString("ar-EG",{style:"currency",currency:"EGP"})})]})]}),d.jsxs("p",{className:"text-sm text-muted-foreground mb-8",children:["ستتلقى بريدًا إلكترونيًا قريبًا يحتوي على تفاصيل طلبك وتأكيد الشحن.",d.jsx("br",{}),"إذا كان لديك أي استفسارات، لا تتردد في التواصل معنا."]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[d.jsx(et,{to:"/products",children:d.jsxs(de,{size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-lg py-3",children:[d.jsx(wv,{className:"ml-2 h-5 w-5"})," متابعة التسوق"]})}),d.jsx(et,{to:"/",children:d.jsxs(de,{variant:"outline",size:"lg",className:"w-full sm:w-auto text-primary border-primary hover:bg-primary/10 text-lg py-3",children:[d.jsx(IV,{className:"ml-2 h-5 w-5"})," العودة للرئيسية"]})})]}),d.jsx("img",{alt:"رسم توضيحي لصندوق شحن محاط بعلامات صح ونجوم صغيرة للدلالة على نجاح الطلب",className:"mx-auto mt-10 rounded-lg shadow-md w-full max-w-xs opacity-80",src:"https://images.unsplash.com/photo-1638423045244-36bd798e8700"})]})})},qK=()=>d.jsxs("div",{className:"text-center p-10",children:[d.jsx("h1",{className:"text-3xl",children:"تفاصيل المنتج (قيد الإنشاء)"}),d.jsx("img",{alt:"فلتر مياه متطور",className:"mx-auto mt-4 rounded-lg shadow-md w-1/2",src:"https://images.unsplash.com/photo-1660053094665-a21094758e8b"})]});function GK(){return d.jsx(D9,{children:d.jsx(uK,{children:d.jsxs(SM,{children:[d.jsx(vM,{children:d.jsxs(Tt,{path:"/",element:d.jsx(zz,{}),children:[d.jsx(Tt,{index:!0,element:d.jsx(nn,{children:d.jsx(Wz,{})})}),d.jsx(Tt,{path:"products",element:d.jsx(nn,{children:d.jsx(jK,{})})}),d.jsx(Tt,{path:"products/:productId",element:d.jsx(nn,{children:d.jsx(qK,{})})}),d.jsx(Tt,{path:"cart",element:d.jsx(nn,{children:d.jsx(VK,{})})}),d.jsx(Tt,{path:"checkout",element:d.jsx(Yu,{children:d.jsx(nn,{children:d.jsx(WK,{})})})}),d.jsx(Tt,{path:"order-success",element:d.jsx(Yu,{children:d.jsx(nn,{children:d.jsx(HK,{})})})}),d.jsx(Tt,{path:"login",element:d.jsx(nn,{children:d.jsx(Gz,{})})}),d.jsx(Tt,{path:"signup",element:d.jsx(nn,{children:d.jsx(Kz,{})})}),d.jsx(Tt,{path:"forgot-password",element:d.jsx(nn,{children:d.jsx(LK,{})})}),d.jsx(Tt,{path:"profile",element:d.jsx(Yu,{children:d.jsx(nn,{children:d.jsx(FK,{})})})}),d.jsx(Tt,{path:"about",element:d.jsx(nn,{children:d.jsx(OK,{})})}),d.jsx(Tt,{path:"contact",element:d.jsx(nn,{children:d.jsx(MK,{})})}),d.jsx(Tt,{path:"admin",element:d.jsx(Yu,{adminOnly:!0}),children:d.jsx(Tt,{index:!0,element:d.jsx(nn,{children:d.jsx(cK,{})})})}),d.jsx(Tt,{path:"*",element:d.jsx(nn,{children:d.jsx(KK,{})})})]})}),d.jsx(ck,{})]})})})}const nn=({children:t})=>d.jsx(se.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3,ease:"easeInOut"},children:t}),KK=()=>d.jsxs("div",{className:"text-center py-20",children:[d.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),d.jsx("p",{className:"text-2xl text-foreground mb-8",children:"عفواً، الصفحة التي تبحث عنها غير موجودة."}),d.jsx("img",{alt:"رجل فضاء تائه يبحث عن شيء",className:"mx-auto w-1/3 mb-8",src:"https://images.unsplash.com/photo-1695088560164-84c9c42bbadd"}),d.jsx(et,{to:"/",children:d.jsx(de,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:opacity-90",children:"العودة إلى الصفحة الرئيسية"})})]});xm.createRoot(document.getElementById("root")).render(d.jsx(Z.StrictMode,{children:d.jsx(GK,{})}));
